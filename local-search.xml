<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>1050 螺旋矩阵</title>
    <link href="/2021/01/22/1050-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5/"/>
    <url>/2021/01/22/1050-%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5/</url>
    
    <content type="html"><![CDATA[<h1 id="1050-螺旋矩阵"><a href="#1050-螺旋矩阵" class="headerlink" title="1050 螺旋矩阵"></a>1050 螺旋矩阵</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/ObYCj4.png" alt="ObYCj4"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题是一道按照给定条件打印对应的样式题目。</p><p>步骤</p><ol><li>找到满足条件的$m,n$</li></ol><p>根据题目可以知道，$m,n$是$N$的公约数，且$m$是不小于$\sqrt{N}$。所以从$\sqrt{N}$开始，找到$N % m == 0$的值，这样就找到了$m$。</p><ol start="2"><li>给输入序列从大到小排序</li><li>设置<code>top, bottom, left, right</code>四个边界，每次按照<strong>右，下，左，上</strong>的顺序输入，直到所有数字输入完成。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">10001</span>;<br><span class="hljs-keyword">int</span> ans[MAX][MAX], a[MAX];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, m, N;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;N);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (N == <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, a[<span class="hljs-number">0</span>]);<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>    sort(a, a+N, [](<span class="hljs-keyword">auto</span> a, <span class="hljs-keyword">auto</span> b) &#123;<span class="hljs-keyword">return</span> a &gt; b;&#125;);<br>    m = (<span class="hljs-keyword">int</span>)<span class="hljs-built_in">ceil</span>(<span class="hljs-built_in">sqrt</span>(N * <span class="hljs-number">1.0</span>));<br>    <span class="hljs-keyword">while</span> (N % m != <span class="hljs-number">0</span>) &#123;m++;&#125;<br>    n = N / m;<br>    <span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>, j = <span class="hljs-number">1</span>, now = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> top = <span class="hljs-number">1</span>, bottom = m, left = <span class="hljs-number">1</span>, right = n;<br>    <span class="hljs-keyword">while</span> (now &lt; N) &#123;<br>        <span class="hljs-keyword">while</span> (now &lt; N &amp;&amp; j &lt; right) &#123;<br>            ans[i][j] = a[now++];<br>            j++;<br>        &#125;<br>        <span class="hljs-keyword">while</span> (now &lt; N &amp;&amp; i &lt; bottom) &#123;<br>            ans[i][j] = a[now++];<br>            i++;<br>        &#125;<br>        <span class="hljs-keyword">while</span> (now &lt; N &amp;&amp; j &gt; left) &#123;<br>            ans[i][j] = a[now++];<br>            j--;<br>        &#125;<br>        <span class="hljs-keyword">while</span> (now &lt; N &amp;&amp; i &gt; top) &#123;<br>            ans[i][j] = a[now++];<br>            i--;<br>        &#125;<br>        top++, bottom--, left++, right--;<br>        i++,j++;<span class="hljs-comment">// 往角线方向移动</span><br>        <span class="hljs-keyword">if</span> (now == N - <span class="hljs-number">1</span>) &#123;<br>            ans[i][j] = a[now++];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= m; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt;= n; j++) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, ans[i][j]);<br>            <span class="hljs-keyword">if</span> (j &lt; n) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);&#125;<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="相似题目"><a href="#相似题目" class="headerlink" title="相似题目"></a>相似题目</h2><ul><li><a href="https://pintia.cn/problem-sets/994805260223102976/problems/994805285812551680">1036 跟奥巴马一起编程</a></li><li><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805462535356416">1031 Hello World for U</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>数组</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1057 Stack</title>
    <link href="/2021/01/22/1057-Stack/"/>
    <url>/2021/01/22/1057-Stack/</url>
    
    <content type="html"><![CDATA[<h1 id="1057-Stack"><a href="#1057-Stack" class="headerlink" title="1057 Stack"></a>1057 Stack</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/ZWtFjU.png" alt="ZWtFjU"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><h3 id="分块思想"><a href="#分块思想" class="headerlink" title="分块思想"></a>分块思想</h3><p>给定一个序列，该序列随时可能进行添加和删除元素，实时查询该元素中第K大的值。</p><p>此处的分块思想，就是把<strong>有序元素划分若干块</strong>.</p><p>例如 ${1,2,3,4,5,6,7,8,9}$</p><p>按照$\sqrt{N}$的依据分组，这里$N$是指序列数量。在这里$N=9$。因此上面序列被划分为</p><ul><li>${1,2,3}$</li><li>${4,5,6}$</li><li>${7,8,9}$</li></ul><p>设置两个数组</p><ul><li><code>table[x]</code>表示<code>x</code>值的出现次数</li><li><code>block[x[</code>表示所属于<code>x</code>块出现的次数</li></ul><p>假如给定一个空序列<code>a = []</code>，我们插入一个数字$3$,这是需要将$3$所在的区块进行+1，同时对$3$这个元素的<code>table</code>中也+1.</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++">block[<span class="hljs-number">3</span> / <span class="hljs-number">3</span>]++; <span class="hljs-comment">// 后面3是分组的数量</span><br>table[<span class="hljs-number">3</span>]++; <span class="hljs-comment">// 3这个元素的数量+1</span><br></code></pre></td></tr></table></figure><p>有上面可以看到第$1$组中的元素多了一个。当我们要查询第$K$个元素的时候，就可以先去查找第$K$个元素在第几组，然后再到该组內找到第$K$个值。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">K</span><span class="hljs-params">(<span class="hljs-keyword">int</span> k)</span> </span>&#123;<br><span class="hljs-keyword">int</span> blockIdx = <span class="hljs-number">0</span>, n = <span class="hljs-number">0</span>; <span class="hljs-comment">// blockIdx 表示当前查找第几组， n表示当前第n大的值</span><br><span class="hljs-keyword">while</span> (n + block[blockIdx] &lt; k) &#123;<br>n += block[blockIdx++]; <span class="hljs-comment">// 若当前组还没找到第K大的值，n直接+上当前的值</span><br>&#125;<br><span class="hljs-keyword">int</span> tableIdx = blockIdx * blockNum; <span class="hljs-comment">// 找到blockIdx组內存在第K大的值。</span><br><span class="hljs-keyword">while</span> (n + table[tableIdx] &lt; k) &#123;<br>n += table[tableIdx++]; <span class="hljs-comment">//在第blockIdx组內继续找。</span><br>&#125;<br><span class="hljs-keyword">return</span> tableIdx; <span class="hljs-comment">// 最后这个下标既是第K大的值。</span><br>&#125;<br></code></pre></td></tr></table></figure><hr><p>了解到分块思想后，下面这道题就简单了，需要注意如果是弹出一个元素，那么<code>block, table</code>中对应的块和值的数量需要-1.</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">int</span> numBlock = <span class="hljs-number">316</span>;<br><span class="hljs-keyword">int</span> table[MAX] = &#123;<span class="hljs-number">0</span>&#125;, block[<span class="hljs-number">316</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br><span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; st;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Push</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>&#123;<br>    st.push(val);<br>    table[val]++; <span class="hljs-comment">// val值+1</span><br>    block[val / numBlock]++; <span class="hljs-comment">// val所属区间+1</span><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Pop</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (st.empty()) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Invalid\n&quot;</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> val = st.top();<br>    st.pop();<br>    table[val]--;<br>    block[val / numBlock]--;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, val);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">PeekMedian</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (st.empty()) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Invalid\n&quot;</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-comment">// 开始去找第k大的值</span><br>    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, size = st.size(), num = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">int</span> mid = size &amp; <span class="hljs-number">1</span> ? (size + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> : size / <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">while</span> (num + block[i] &lt; mid) &#123;<br>        num += block[i++];<br>    &#125;<br>    i = i * numBlock;<br>    <span class="hljs-keyword">while</span> (num + table[i] &lt; mid) &#123;<br>        num += table[i++];<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, i); <span class="hljs-comment">// i是第 k大的值</span><br><br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, val;<br>    <span class="hljs-built_in">string</span> op;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; op;<br>        <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;Push&quot;</span>) &#123;<br>            <span class="hljs-built_in">cin</span> &gt;&gt; val;<br>            Push(val);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;Pop&quot;</span>) &#123;<br>            Pop();<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (op == <span class="hljs-string">&quot;PeekMedian&quot;</span>) &#123;<br>            PeekMedian();<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>分块思想</tag>
      
      <tag>堆</tag>
      
      <tag>stack</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>989. 数组形式的整数加法</title>
    <link href="/2021/01/22/989-%E6%95%B0%E7%BB%84%E5%BD%A2%E5%BC%8F%E7%9A%84%E6%95%B4%E6%95%B0%E5%8A%A0%E6%B3%95/"/>
    <url>/2021/01/22/989-%E6%95%B0%E7%BB%84%E5%BD%A2%E5%BC%8F%E7%9A%84%E6%95%B4%E6%95%B0%E5%8A%A0%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="989-数组形式的整数加法"><a href="#989-数组形式的整数加法" class="headerlink" title="989. 数组形式的整数加法"></a><a href="https://leetcode-cn.com/problems/add-to-array-form-of-integer/">989. 数组形式的整数加法</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/aBM7Pe.png" alt="aBM7Pe"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>方法一：按照最低位，逐渐往上加。然后把进位放到<code>K</code>上面。</li><li>方法二：参考<a href="https://leetcode-cn.com/problems/add-to-array-form-of-integer/solution/shu-zu-xing-shi-de-zheng-shu-jia-fa-by-l-jljp/">官方题解二</a>。将K加载数组的最低位，例如</li></ul><p>$123+912$，我们把它表示成 $[1,2,3+912]$。然后，我们计算 $3+912=915$。$5$ 留在当前这一位，将 $910/10=91$ 以进位的形式加入下一位。</p><p>然后，我们再重复这个过程，计算 $[1,2+91,5]$。我们得到 $93$，$3$ 留在当前位，将 $90/10=9$ 以进位的形式加入下一位。继而又得到 $[1+9,3,5]$，重复这个过程之后，最终得到结果 $[1,0,3,5]$。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>方法一</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">addToArrayForm</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; A, <span class="hljs-keyword">int</span> K)</span> </span>&#123;<br>        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;<br>        <span class="hljs-keyword">int</span> n = A.size();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123; <span class="hljs-comment">// 从地位往高位计算，同时将进位的1加到K上面</span><br>            <span class="hljs-keyword">int</span> sum = A[i] + K % <span class="hljs-number">10</span>; <span class="hljs-comment">// 最后一位相加</span><br>            K /= <span class="hljs-number">10</span>; <span class="hljs-comment">// K的最后一位计算完成</span><br>            <span class="hljs-keyword">if</span> (sum &gt;= <span class="hljs-number">10</span>) &#123; <span class="hljs-comment">// 判断是否存在进位</span><br>                K += <span class="hljs-number">1</span>; <span class="hljs-comment">// 进位则在K上面+1</span><br>                sum -= <span class="hljs-number">10</span>;<br>            &#125;<br>            ans.push_back(sum);<br>        &#125;<br>        <span class="hljs-keyword">while</span> (K &gt; <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// 计算剩余的结果</span><br>            ans.push_back(K % <span class="hljs-number">10</span>);<br>            K /= <span class="hljs-number">10</span>;<br>        &#125;<br>        reverse(ans.begin(), ans.end());<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>方法二</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">addToArrayForm</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; A, <span class="hljs-keyword">int</span> K)</span> </span>&#123;<br>        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;<br>        <span class="hljs-keyword">int</span> n = A.size();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span> || K &gt; <span class="hljs-number">0</span>; i--, K /= <span class="hljs-number">10</span>) &#123; <span class="hljs-comment">// 从地位往高位计算，同时将最低位加到K上面</span><br>            <span class="hljs-keyword">if</span> (i &gt;= <span class="hljs-number">0</span>) &#123;<br>                K += A[i];<br>            &#125;<br>            ans.push_back(K % <span class="hljs-number">10</span>);<br>        &#125;<br>        reverse(ans.begin(), ans.end());<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>数学</tag>
      
      <tag>算法</tag>
      
      <tag>leetcode</tag>
      
      <tag>数组</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>堆</title>
    <link href="/2021/01/21/%E5%A0%86/"/>
    <url>/2021/01/21/%E5%A0%86/</url>
    
    <content type="html"><![CDATA[<h1 id="堆"><a href="#堆" class="headerlink" title="堆"></a>堆</h1><p><strong>堆是完全二叉树</strong></p><p>既然是完全二叉树，那么可以使用数组对完全二叉树进行描述</p><p><code>i</code>表示当前结点，<code>2i</code>表示左子结点，<code>2i + 1</code>表示右子结点。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">int</span> MAX = <span class="hljs-number">10010</span>;<br><span class="hljs-keyword">int</span> heap[MAX], n; <span class="hljs-comment">// 堆，元素个数</span><br></code></pre></td></tr></table></figure><h2 id="创建堆"><a href="#创建堆" class="headerlink" title="创建堆"></a>创建堆</h2><p>建堆过程中，每次都要向下进行调整。若当前结点比子结点小，则和子结点进行交换，交换后继续和子结点进行比较，直至当前结点大于子结点或不存在子结点了。向下调整的代码如下：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">downAdjust</span><span class="hljs-params">(<span class="hljs-keyword">int</span> low, <span class="hljs-keyword">int</span> high)</span> </span>&#123; <span class="hljs-comment">// low: 当前结点。 high: 堆的最后一个结点</span><br><span class="hljs-keyword">int</span> i = low, j = low * <span class="hljs-number">2</span>; <span class="hljs-comment">// j表示左子结点</span><br><span class="hljs-keyword">while</span> (j &lt;= high) &#123;<br><span class="hljs-comment">// 找出左右子结点中值最大的结点下标。</span><br><span class="hljs-keyword">if</span> (j + <span class="hljs-number">1</span> &lt; high &amp;&amp; heap[j + <span class="hljs-number">1</span>] &gt; heap[j]) &#123; <span class="hljs-comment">// 右结点存在 &amp;&amp; 右结点大于左结点</span><br>j = j + <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-comment">// 和根结点进行比较</span><br><span class="hljs-keyword">if</span> (heap[i] &lt; heap[j]) &#123; <span class="hljs-comment">// 小于子结点</span><br>swap(heap[i], heap[j]); <span class="hljs-comment">// 交换</span><br>i = j; <span class="hljs-comment">// 交换后，i移动到新的位置。继续和子结点比较</span><br>j = i * <span class="hljs-number">2</span>; <span class="hljs-comment">// j 移动到i的新子结点</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">break</span>; <span class="hljs-comment">// 若i结点大于子结点，则不需要移动。</span><br>&#125;<br>&#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>接下来就是建立一个堆了。对于一个大小为$n$的堆，它的叶子结点数量是$|n/2|$。因为叶子结点不需要调整顺序，因此需要调整顺序的结点范围在$1 \sim n/2$。于是可以从$n/2$开始倒着遍历，为什么倒着遍历呢？因为每次调整都可以保证根结点都变成了最大值。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">createHeap</span><span class="hljs-params">()</span> </span>&#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n / <span class="hljs-number">2</span>; i &gt; <span class="hljs-number">0</span>; i--) &#123;<br>downAdjust(i, n);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="删除堆顶元素"><a href="#删除堆顶元素" class="headerlink" title="删除堆顶元素"></a>删除堆顶元素</h2><p>删除堆顶元素，只需要将最后一个值覆盖堆顶元素，由于此时堆顶元素不是最大值，因此只需要对堆顶元素进行调整即可。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">deleteTop</span><span class="hljs-params">()</span> </span>&#123;<br>heap[<span class="hljs-number">1</span>] = heap[n--]; <span class="hljs-comment">// 元素n-1</span><br>downAdjust(<span class="hljs-number">1</span>, n);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="在堆中添加元素"><a href="#在堆中添加元素" class="headerlink" title="在堆中添加元素"></a>在堆中添加元素</h2><p>在堆中添加元素，需要把元素加到最后面，然后进行向上调整，把自己和父结点对比。若权值大于父结点，则与其交换，直到到达堆顶或者结点权值小于父结点停止。</p><p>下面是向上调整代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">upAdjust</span><span class="hljs-params">(<span class="hljs-keyword">int</span> low, <span class="hljs-keyword">int</span> high)</span> </span>&#123;<br><span class="hljs-keyword">int</span> i = high, j = i / <span class="hljs-number">2</span>; <span class="hljs-comment">// j为i的父结点</span><br><span class="hljs-keyword">while</span> (j &gt;= low) &#123;<br><span class="hljs-keyword">if</span> (heap[i] &gt; heap[j]) &#123;<br>swap(heap[i], heap[j]);<br>i = j;<br>j = j / <span class="hljs-number">2</span>; <span class="hljs-comment">// 找当上一个父结点</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">break</span>; <span class="hljs-comment">// 权值小于父结点，不替换</span><br>&#125;<br>&#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>heap[++n] = x;<br>upAdjust(<span class="hljs-number">1</span>, n);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>堆</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1098 Insertion or Heap Sort</title>
    <link href="/2021/01/21/1098-Insertion-or-Heap-Sort/"/>
    <url>/2021/01/21/1098-Insertion-or-Heap-Sort/</url>
    
    <content type="html"><![CDATA[<h1 id="1098-Insertion-or-Heap-Sort"><a href="#1098-Insertion-or-Heap-Sort" class="headerlink" title="1098 Insertion or Heap Sort"></a>1098 Insertion or Heap Sort</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/KmXTsV.png" alt="KmXTsV"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题和<a href=""></a>类似,都是要通过</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">10010</span>;<br><span class="hljs-keyword">int</span> origin[MAX], temp[MAX], ans[MAX], change[MAX];<br><span class="hljs-keyword">int</span> n;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isSame</span><span class="hljs-params">(<span class="hljs-keyword">int</span> A[], <span class="hljs-keyword">int</span> B[])</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        <span class="hljs-keyword">if</span> (A[i] != B[i]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">insertSort</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) &#123;<br>        <span class="hljs-keyword">if</span> (i != <span class="hljs-number">2</span> &amp;&amp; isSame(temp, change)) &#123; flag = <span class="hljs-literal">true</span>; &#125;<br>        sort(temp, temp + i + <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span> (flag) &#123;<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;&#125; <span class="hljs-comment">// 已经是找到了目标数组</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">showArray</span><span class="hljs-params">(<span class="hljs-keyword">int</span> arr[])</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, arr[i]);<br>        <span class="hljs-keyword">if</span> (i &lt; n) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">downAdjust</span><span class="hljs-params">(<span class="hljs-keyword">int</span> low, <span class="hljs-keyword">int</span> high)</span> </span>&#123; <span class="hljs-comment">// high最后一个结点</span><br>    <span class="hljs-keyword">int</span> i = low, j = i * <span class="hljs-number">2</span>; <span class="hljs-comment">// i为当前正要调整结点, j为左孩子结点</span><br>    <span class="hljs-keyword">while</span> (j &lt;= high) &#123;<br>        <span class="hljs-keyword">if</span> (j + <span class="hljs-number">1</span> &lt;= high &amp;&amp; temp[j] &lt; temp[j + <span class="hljs-number">1</span>]) &#123; <span class="hljs-comment">// 找到左右最大的结点，去和待调整点比较</span><br>            j = j + <span class="hljs-number">1</span>; <span class="hljs-comment">// j存储右边孩子结点</span><br>        &#125;<br>        <span class="hljs-keyword">if</span> (temp[j] &gt; temp[i]) &#123;<br>            swap(temp[i], temp[j]);<br>            i = j; <span class="hljs-comment">// 同时移动根结点</span><br>            j = j*<span class="hljs-number">2</span>; <span class="hljs-comment">// j也进行移动</span><br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">break</span>; <span class="hljs-comment">// 如果根结点大于子结点，不需要调整</span><br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">heapSort</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n / <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">1</span>; i--) &#123;<br>        downAdjust(i, n);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n; i &gt; <span class="hljs-number">1</span>; i--) &#123;<br>        <span class="hljs-keyword">if</span> (i != n &amp;&amp; isSame(temp, change)) &#123;<br>            flag = <span class="hljs-literal">true</span>;<br>        &#125;<br>        swap(temp[i], temp[<span class="hljs-number">1</span>]);<br>        downAdjust(<span class="hljs-number">1</span>, i - <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span> (flag) &#123;<br>            showArray(temp);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;origin[i]);<br>        temp[i] = origin[i];<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;change[i]);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (insertSort()) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Insertion Sort\n&quot;</span>);<br>        showArray(temp);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Heap Sort\n&quot;</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;temp[i] = origin[i];&#125;<br>        heapSort();<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>堆</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1489. 找到最小生成树里的关键边和伪关键边</title>
    <link href="/2021/01/21/1489-%E6%89%BE%E5%88%B0%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E9%87%8C%E7%9A%84%E5%85%B3%E9%94%AE%E8%BE%B9%E5%92%8C%E4%BC%AA%E5%85%B3%E9%94%AE%E8%BE%B9/"/>
    <url>/2021/01/21/1489-%E6%89%BE%E5%88%B0%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91%E9%87%8C%E7%9A%84%E5%85%B3%E9%94%AE%E8%BE%B9%E5%92%8C%E4%BC%AA%E5%85%B3%E9%94%AE%E8%BE%B9/</url>
    
    <content type="html"><![CDATA[<h1 id="1489-找到最小生成树里的关键边和伪关键边"><a href="#1489-找到最小生成树里的关键边和伪关键边" class="headerlink" title="1489. 找到最小生成树里的关键边和伪关键边"></a><a href="https://leetcode-cn.com/problems/find-critical-and-pseudo-critical-edges-in-minimum-spanning-tree/">1489. 找到最小生成树里的关键边和伪关键边</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/Yu4UTc.png" alt="Yu4UTc"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题参考<a href="https://leetcode-cn.com/problems/find-critical-and-pseudo-critical-edges-in-minimum-spanning-tree/solution/zhao-dao-zui-xiao-sheng-cheng-shu-li-de-gu57q/">官方解答</a>，用简单的话来理解什么是关键边和伪关键边。</p><ul><li><strong>关键边</strong>: 当图中删除这条边的时候，无法形成最小生成树或是权值大于最小生成树的权值。所以<strong>删除这条边了影响生成最佳的最小生成树</strong></li><li><strong>伪关键边</strong>: 该边只出现在部分最小生成树中，不会出现在所有最小生成树中。</li></ul><p>根据上面可以得到，若改边是<strong>关键边</strong>，则就不需要判断它是不是<strong>伪关键边</strong>了，因为<strong>关键边</strong>一定出现在每个最小生成树中。所以可以对一条边先进行判断是否是关键边，若是，则不需要判断是伪关键边。若不是则需要判断是不是伪关键边。</p><p>步骤</p><ol><li>先使用<code>Kruskal</code>+<code>UnionFind</code>计算出最小生成树的权值<code>minWeight</code>.</li><li>在对每条边依次判断。</li><li>关键边，在并查集中不加入边，判断改变是否对最小生成树和权值有影响。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">if</span> (i != j &amp;&amp; (uf.find(u) != uf.find(v)))<br></code></pre></td></tr></table></figure><ol start="4"><li>伪关键边，在判断完不是关键边后，把这条边作为第一条连接的边加入并查集中，然后去继续判断生成的树权值是否和<code>minWeight</code>相等，若相等，则证明该边在当前生成树中是有效的边，加入到伪关键边中。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span> &#123;</span><br>    <span class="hljs-keyword">private</span>:<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; parent;<br>    <span class="hljs-keyword">int</span> num;<br>    <span class="hljs-keyword">public</span>:<br>    UnionFind(<span class="hljs-keyword">int</span> n) &#123;<br>        num = n;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) parent.push_back(i);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (x != parent[x]) &#123;<br>            parent[x] = find(parent[x]);<br>        &#125;<br>        <span class="hljs-keyword">return</span> parent[x];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quick_union</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> vRoot = find(v), wRoot = find(w);<br>        <span class="hljs-keyword">if</span> (vRoot == wRoot) <span class="hljs-keyword">return</span>;<br>        parent[find(v)] = find(w);<br>        num--;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getCount</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-comment">// 获取连通分量个数</span><br>        <span class="hljs-keyword">return</span> num;<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; <span class="hljs-title">findCriticalAndPseudoCriticalEdges</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; edges)</span> </span>&#123;<br>        <span class="hljs-comment">// 使用官方的思路</span><br>        <span class="hljs-comment">// 1. 先求出最小生成树的权值</span><br>        <span class="hljs-comment">// 2. 关键边，依次对每条边判断，若该边不存在，是否影响到权值</span><br>        <span class="hljs-comment">// 3. 非关键边，优先连接该边，若value相同，则证明该边不影响最终结果</span><br><br>        <span class="hljs-comment">// 0. 记录关键边的下标，因为题目要求返回的下标，等会按权值排序会打乱下标</span><br>        <span class="hljs-keyword">int</span> size = edges.size();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;edges[i].push_back(i);&#125;<br><br>        <span class="hljs-comment">// 1.1 对权边排序</span><br>        sort(edges.begin(), edges.end(), [](<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span>&amp; a,<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span>&amp; b) &#123;<br>            <span class="hljs-keyword">return</span> a[<span class="hljs-number">2</span>] &lt; b[<span class="hljs-number">2</span>];<br>        &#125;);<br>        <span class="hljs-comment">// 1.2 依次对权值最小边进行合并,并求出最小权值和</span><br>        <span class="hljs-function">UnionFind <span class="hljs-title">uf</span><span class="hljs-params">(n)</span></span>;<br>        <span class="hljs-keyword">int</span> minWeight = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>            <span class="hljs-keyword">int</span> u = edges[i][<span class="hljs-number">0</span>], v = edges[i][<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span> (uf.find(u) != uf.find(v)) &#123;<br>                uf.quick_union(u, v);<br>                minWeight += edges[i][<span class="hljs-number">2</span>];<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 2. 依次排除一条边，判断权值是否变化，若变大，则证明该边是关键边</span><br>        <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt; <span class="hljs-title">ans</span><span class="hljs-params">(<span class="hljs-number">2</span>)</span></span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>            <span class="hljs-comment">// 2.1 找出关键边</span><br>            <span class="hljs-function">UnionFind <span class="hljs-title">uf</span><span class="hljs-params">(n)</span></span>;<br>            <span class="hljs-keyword">int</span> weight = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; size; j++) &#123;<br>                <span class="hljs-keyword">int</span> u = edges[j][<span class="hljs-number">0</span>], v = edges[j][<span class="hljs-number">1</span>];<br>                <span class="hljs-keyword">if</span> (i != j &amp;&amp; (uf.find(u) != uf.find(v))) &#123;<br>                    uf.quick_union(u, v);<br>                    weight += edges[j][<span class="hljs-number">2</span>];<br>                &#125;<br>            &#125;<br>            <span class="hljs-comment">// 2.2 关键边去除是无法形成最小生成树的或形成了生成树，但是权值增大。</span><br>            <span class="hljs-keyword">if</span> (uf.getCount() != <span class="hljs-number">1</span> || (uf.getCount() == <span class="hljs-number">1</span> &amp;&amp; weight &gt; minWeight)) &#123;<br>                ans[<span class="hljs-number">0</span>].push_back(edges[i][<span class="hljs-number">3</span>]);<br>                <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// 既然是关键边，那么肯定是非关键边。</span><br>            &#125;<br>            <span class="hljs-comment">// 2.2 找出非关键边。非关键去除也对最小权值没有影响。</span><br>            <span class="hljs-comment">// UnionFind uf(n); 这种写法错误，会导致重新定义</span><br>            uf = UnionFind(n);<br>            uf.quick_union(edges[i][<span class="hljs-number">0</span>], edges[i][<span class="hljs-number">1</span>]); <span class="hljs-comment">// 先连接改边，若改变对结果没有影响。那么他就是非关键边</span><br>            weight = edges[i][<span class="hljs-number">2</span>];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; size; j++) &#123;<br>                <span class="hljs-keyword">int</span> u = edges[j][<span class="hljs-number">0</span>], v = edges[j][<span class="hljs-number">1</span>];<br>                <span class="hljs-keyword">if</span> (i != j &amp;&amp; (uf.find(u) != uf.find(v))) &#123;<br>                    uf.quick_union(u, v);<br>                    weight += edges[j][<span class="hljs-number">2</span>];<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (weight == minWeight) &#123;<br>                ans[<span class="hljs-number">1</span>].push_back(edges[i][<span class="hljs-number">3</span>]); <span class="hljs-comment">// 把非关键边下标放进去</span><br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul><li>C++ iota函数用法详解<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="C++ iota函数用法详解">[1]</span></a></sup></li></ul><p>在官方题解中，看到在并查集中有这样的写法</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++">UnionFind(<span class="hljs-keyword">int</span> _n): n(_n), setCount(_n), parent(_n), size(_n, <span class="hljs-number">1</span>) &#123;<br>iota(parent.begin(), parent.end(), <span class="hljs-number">0</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>定义在 numeric 头文件中的 iota() 函数模板会用连续的 T 类型值填充序列。</p><pre><code>- 前两个参数是定义序列的正向迭代器，第三个参数是初始的 T 值。- 第三个指定的值会被保存到序列的第一个元素中。保存在第一个元素后的值是通过对前面的值**运用自增运算符得到的**。当然，这意味着 T 类型必须支持 operator++()。</code></pre><p>下面展示了如何生成一个有连续的浮点值元素的 vector 容器：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">double</span>&gt; <span class="hljs-title">data</span><span class="hljs-params">(<span class="hljs-number">9</span>)</span></span>;<br><span class="hljs-keyword">double</span> initial &#123;<span class="hljs-number">-4</span>&#125;;<br><span class="hljs-built_in">std</span>::iota (<span class="hljs-built_in">std</span>::begin (data) , <span class="hljs-built_in">std</span>::end (data) , initial);<br><span class="hljs-built_in">std</span>::copy(<span class="hljs-built_in">std</span>::begin(data), <span class="hljs-built_in">std</span>::end(data),<span class="hljs-built_in">std</span>::ostream_iterator&lt;<span class="hljs-keyword">double</span>&gt;&#123;<span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span>&lt;&lt; <span class="hljs-built_in">std</span>::fixed &lt;&lt; <span class="hljs-built_in">std</span>::setprecision(<span class="hljs-number">1</span>), <span class="hljs-string">&quot; &quot;</span>&#125;);<br><span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;  <span class="hljs-comment">// -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0</span><br></code></pre></td></tr></table></figure><ul><li>排序 sort vector，並使用 lambda function 匿名函式排序(升序)<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="">[2]</span></a></sup></li></ul><p>很多语言都要匿名函数，那么在C++中如何写呢？</p><p>这是本题的匿名函数在排序中使用</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++">sort(edges.begin(), edges.end(), [](<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span>&amp; a,<span class="hljs-keyword">const</span> <span class="hljs-keyword">auto</span>&amp; b) &#123;<br><span class="hljs-keyword">return</span> a[<span class="hljs-number">2</span>] &lt; b[<span class="hljs-number">2</span>];<br>&#125;);<br></code></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">std</span>::sort(v.begin(), v.end(), [](<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)&#123;<br><span class="hljs-keyword">return</span> a &lt; b; <span class="hljs-comment">// 升序排列</span><br>&#125;);<br></code></pre></td></tr></table></figure><p>参考上面的两个例子，匿名函数的写法应该是</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++">sort(head_address，end_address，[](<span class="hljs-keyword">auto</span>&amp; a, <span class="hljs-keyword">auto</span>&amp; b) &#123;<br><span class="hljs-keyword">return</span> a &lt; b; <span class="hljs-comment">// a b 的一些比较</span><br>&#125;)<br></code></pre></td></tr></table></figure><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="http://c.biancheng.net/view/681.html">C++ iota函数用法详解</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://shengyu7697.github.io/blog/2019/11/30/std-sort/"></a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>union-find</tag>
      
      <tag>leetcode</tag>
      
      <tag>Kruskal</tag>
      
      <tag>最小生成树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1382. 将二叉搜索树变平衡</title>
    <link href="/2021/01/20/1382-%E5%B0%86%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E5%8F%98%E5%B9%B3%E8%A1%A1/"/>
    <url>/2021/01/20/1382-%E5%B0%86%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%E5%8F%98%E5%B9%B3%E8%A1%A1/</url>
    
    <content type="html"><![CDATA[<h1 id="1382-将二叉搜索树变平衡"><a href="#1382-将二叉搜索树变平衡" class="headerlink" title="1382. 将二叉搜索树变平衡"></a><a href="https://leetcode-cn.com/problems/balance-a-binary-search-tree/">1382. 将二叉搜索树变平衡</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/9bWA3J.png" alt="9bWA3J"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>使用中序遍历将结点转化为递增顺序的数组。</li><li>对递增顺序的数组，采用递归的方式建立一个完全二叉树。（完全二叉树一定是平衡二叉树）</li><li>因为完全二叉树是一个静态的数组，因此还需要根据下面规则，对完全二叉树內的结点建立联系。<ul><li>索引$X$的左子树索引是$2X$，右子树索引是$2X + 1$</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, self.n + <span class="hljs-number">1</span>):<br><span class="hljs-keyword">if</span> i * <span class="hljs-number">2</span> &lt;= self.n: self.cbt[i].left = self.cbt[i * <span class="hljs-number">2</span>]<br><span class="hljs-keyword">else</span>: self.cbt[i].left = <span class="hljs-literal">None</span><br><span class="hljs-keyword">if</span> i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span> &lt;= self.n: self.cbt[i].right = self.cbt[i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>]<br><span class="hljs-keyword">else</span>: self.cbt[i].right = <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure><p>⚠️: 完全二叉树根结点的索引是$1$开始的。因此完全二叉树的数组大小是$结点数量+1$</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Definition for a binary tree node.</span><br><span class="hljs-comment"># class TreeNode(object):</span><br><span class="hljs-comment">#     def __init__(self, x):</span><br><span class="hljs-comment">#         self.val = x</span><br><span class="hljs-comment">#         self.left = None</span><br><span class="hljs-comment">#         self.right = None</span><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">inorder</span>(<span class="hljs-params">self, root</span>):</span><br>        <span class="hljs-keyword">if</span> root <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">return</span><br>        self.inorder(root.left)<br>        self.ans.append(root)<br>        self.inorder(root.right)<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">create_cbt</span>(<span class="hljs-params">self, idx</span>):</span><br>        <span class="hljs-keyword">if</span> idx &gt; self.n: <span class="hljs-keyword">return</span><br>        self.create_cbt(idx * <span class="hljs-number">2</span>)<br>        self.cbt[idx].val = self.ans[self.num].val<br>        self.num += <span class="hljs-number">1</span><br>        self.create_cbt(idx * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>)<br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">balanceBST</span>(<span class="hljs-params">self, root</span>):</span><br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        :type root: TreeNode</span><br><span class="hljs-string">        :rtype: TreeNode</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br><br>        <span class="hljs-comment"># 1. 将搜索二叉树中序遍历，获取其递增序列</span><br>        self.ans = []<br>        self.inorder(root)<br>        <span class="hljs-comment"># 2. 创建完全二叉树数组</span><br>        self.n = <span class="hljs-built_in">len</span>(self.ans) <span class="hljs-comment"># 结点数量</span><br>        self.num = <span class="hljs-number">0</span> <span class="hljs-comment"># 当前递增序列遍历的结点</span><br>        self.cbt = [TreeNode(<span class="hljs-number">0</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.n + <span class="hljs-number">1</span>)] <span class="hljs-comment"># 静态的完全二叉树数组</span><br>        self.create_cbt(<span class="hljs-number">1</span>) <span class="hljs-comment"># 完全二叉树以1为根结点</span><br>        <span class="hljs-comment"># 3. 根据左子树索引:2x, 右子树索引:2x+1, 重建二叉树索引</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, self.n + <span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">if</span> i * <span class="hljs-number">2</span> &lt;= self.n: self.cbt[i].left = self.cbt[i * <span class="hljs-number">2</span>]<br>            <span class="hljs-keyword">else</span>: self.cbt[i].left = <span class="hljs-literal">None</span><br>            <span class="hljs-keyword">if</span> i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span> &lt;= self.n: self.cbt[i].right = self.cbt[i * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>]<br>            <span class="hljs-keyword">else</span>: self.cbt[i].right = <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">return</span> self.cbt[<span class="hljs-number">1</span>]<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>leetcode</tag>
      
      <tag>二叉搜索树</tag>
      
      <tag>完全二叉树</tag>
      
      <tag>平衡二叉树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1066 Root of AVL Tree</title>
    <link href="/2021/01/20/1066-Root-of-AVL-Tree/"/>
    <url>/2021/01/20/1066-Root-of-AVL-Tree/</url>
    
    <content type="html"><![CDATA[<h1 id="1066-Root-of-AVL-Tree"><a href="#1066-Root-of-AVL-Tree" class="headerlink" title="1066 Root of AVL Tree"></a>1066 Root of AVL Tree</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/yfKAnA.png" alt="yfKAnA"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><div class="note note-warning">            <p>平衡二叉树的平衡因子特性应用。</p>          </div><p>本题目的是建立一颗平衡二叉树。比较难，记住下面结论。通过下面结论来进行编程</p><ul><li>平衡二叉树为了平衡，需要进行<strong>左旋转</strong>，<strong>右旋转</strong>两个操作。那么如何该选择是否需要选择操作？（使用平衡因子）</li><li>平衡因子是左右子树的高度差值。如下图所示，图中结点上的值为平衡因子。</li></ul><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/d0NKih.png" alt="d0NKih"></p><ul><li>若平衡因子出现大于$|1|$，则出现问题，需要进行调整。那么调整会出现4种情况。</li></ul><ol><li><p>$LL$和$LR$<br><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/ZmTYVu.png" alt="ZmTYVu"></p><ul><li>$LL$类型只需要绕着根结点进行<strong>左旋转</strong>即可平衡。<br><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/MpUjsi.png" alt="MpUjsi"></li><li>$LR$类型需要先将$root-&gt;left$作为结点，然后进行<strong>右旋转</strong>，将树转化为$LL$类型，再<strong>左旋转即可</strong>。<br><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/DcLVBG.png" alt="DcLVBG"></li></ul></li><li><p>$RR$和$RL$</p></li></ol><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/UVFCj0.png" alt="UVFCj0"></p><pre><code>这种类型的和$LL$,$LR$的类似，只需要将上面操作反过来。</code></pre><ul><li><p>所以根据上面给出的类型，在每次插入的时候都去判断当前插入后的平衡因子变化。再判断属于上述四种的哪一类。分别进行相应的旋转。</p></li><li><p>插入操作就是在之前的二叉搜索树上增加了旋转操作的处理。</p></li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(TreeNode* &amp;root, <span class="hljs-keyword">int</span> val)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">NULL</span>) &#123;<br>        root = newNode(val);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (root-&gt;val &gt; val) &#123; <span class="hljs-comment">// 插入到左边</span><br>        insert(root-&gt;left, val);<br>        updateHeight(root); <span class="hljs-comment">// 插入后看看树的高度是否满足要求</span><br>        <span class="hljs-comment">// 开始处理平衡问题</span><br>        <span class="hljs-keyword">if</span> (getBalanceFactor(root) == <span class="hljs-number">2</span>) &#123;<br>            <span class="hljs-keyword">if</span> (getBalanceFactor(root-&gt;left) == <span class="hljs-number">1</span>) &#123; <span class="hljs-comment">// LL</span><br>                R(root);<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (getBalanceFactor(root-&gt;left) == <span class="hljs-number">-1</span>) &#123; <span class="hljs-comment">// LR</span><br>                L(root-&gt;left);<br>                R(root);<br>            &#125;<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        insert(root-&gt;right, val);<br>        updateHeight(root);<br>        <span class="hljs-keyword">if</span> (getBalanceFactor(root) == <span class="hljs-number">-2</span>) &#123;<br>            <span class="hljs-keyword">if</span> (getBalanceFactor(root-&gt;right) == <span class="hljs-number">-1</span>) &#123;<br>                L(root);<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (getBalanceFactor(root-&gt;right) == <span class="hljs-number">1</span>) &#123;<br>                R(root-&gt;right);<br>                L(root);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span> &#123;</span><br>    <span class="hljs-keyword">int</span> val, height;<br>    TreeNode *left, *right;<br>&#125; *root;<br><br><span class="hljs-function">TreeNode* <span class="hljs-title">newNode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span> </span>&#123;<br>    TreeNode *node = <span class="hljs-keyword">new</span> TreeNode;<br>    node-&gt;val = val;<br>    node-&gt;height = <span class="hljs-number">1</span>;<br>    node-&gt;left = node-&gt;right = <span class="hljs-literal">NULL</span>;<br>    <span class="hljs-keyword">return</span> node;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getHeight</span><span class="hljs-params">(TreeNode* root)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> root-&gt;height;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">updateHeight</span><span class="hljs-params">(TreeNode* &amp;root)</span> </span>&#123;<br>    root-&gt;height = max(getHeight(root-&gt;left), getHeight(root-&gt;right)) + <span class="hljs-number">1</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getBalanceFactor</span><span class="hljs-params">(TreeNode* &amp;root)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> getHeight(root-&gt;left) - getHeight(root-&gt;right);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">R</span><span class="hljs-params">(TreeNode* &amp;root)</span> </span>&#123;<br>    TreeNode* temp = root-&gt;left;<br>    root-&gt;left = temp-&gt;right;<br>    temp-&gt;right = root;<br>    updateHeight(root);<br>    updateHeight(temp);<br>    root = temp;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">L</span><span class="hljs-params">(TreeNode* &amp;root)</span> </span>&#123;<br>    TreeNode* temp = root-&gt;right;<br>    root-&gt;right = temp-&gt;left;<br>    temp-&gt;left = root;<br>    updateHeight(root);<br>    updateHeight(temp);<br>    root = temp;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">insert</span><span class="hljs-params">(TreeNode* &amp;root, <span class="hljs-keyword">int</span> val)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">NULL</span>) &#123;<br>        root = newNode(val);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (root-&gt;val &gt; val) &#123; <span class="hljs-comment">// 插入到左边</span><br>        insert(root-&gt;left, val);<br>        updateHeight(root); <span class="hljs-comment">// 插入后看看树的高度是否满足要求</span><br>        <span class="hljs-comment">// 开始处理平衡问题</span><br>        <span class="hljs-keyword">if</span> (getBalanceFactor(root) == <span class="hljs-number">2</span>) &#123;<br>            <span class="hljs-keyword">if</span> (getBalanceFactor(root-&gt;left) == <span class="hljs-number">1</span>) &#123; <span class="hljs-comment">// LL</span><br>                R(root);<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (getBalanceFactor(root-&gt;left) == <span class="hljs-number">-1</span>) &#123; <span class="hljs-comment">// LR</span><br>                L(root-&gt;left);<br>                R(root);<br>            &#125;<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        insert(root-&gt;right, val);<br>        updateHeight(root);<br>        <span class="hljs-keyword">if</span> (getBalanceFactor(root) == <span class="hljs-number">-2</span>) &#123;<br>            <span class="hljs-keyword">if</span> (getBalanceFactor(root-&gt;right) == <span class="hljs-number">-1</span>) &#123;<br>                L(root);<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (getBalanceFactor(root-&gt;right) == <span class="hljs-number">1</span>) &#123;<br>                R(root-&gt;right);<br>                L(root);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, val;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;val);<br>        insert(root, val);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, root-&gt;val);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法， 平衡二叉树</tag>
      
      <tag>AVL</tag>
      
      <tag>二叉搜索树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1099 Build A Binary Search Tree</title>
    <link href="/2021/01/20/1099-Build-A-Binary-Search-Tree/"/>
    <url>/2021/01/20/1099-Build-A-Binary-Search-Tree/</url>
    
    <content type="html"><![CDATA[<h1 id="1099-Build-A-Binary-Search-Tree"><a href="#1099-Build-A-Binary-Search-Tree" class="headerlink" title="1099 Build A Binary Search Tree"></a>1099 Build A Binary Search Tree</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/XBryb4.png" alt="XBryb4"></p><h2 id="内容"><a href="#内容" class="headerlink" title="内容"></a>内容</h2><div class="note note-warning">            <p>二叉查找树的重要性质之一：中序遍历是一个递增序列。</p>          </div><p>本题目标是<strong>给定一个二叉搜索树的结构，然后在给出一组序列。根据二叉查找树的性质，将该组序列填充到给定的二叉树中。</strong></p><p>本题和<a href="https://emhui.fun/2021/01/20/1064-Complete-Binary-Search-Tree/">1064 Complete Binary Search Tree</a>类似，也是去填充一个空白的二叉树。因此可以考虑将给定序列进行排序，然后对二叉树进行中序遍历，把排序好的序列依次填充进去。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-comment">// 思路，使用静态二叉树先构建二叉树。</span><br><span class="hljs-comment">// 对输入序列排序</span><br><span class="hljs-comment">// 对构建好的二叉树进行中序遍历，把排好序的序列赋值</span><br><span class="hljs-comment">// 最后使用BFS进行层次遍历</span><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">101</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span>&#123;</span><br>    <span class="hljs-keyword">int</span> val;<br>    <span class="hljs-keyword">int</span> left, right;<br>&#125;treenode[MAX];<br><br><span class="hljs-keyword">int</span> arr[MAX], num = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> node)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (node == <span class="hljs-number">-1</span>) &#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    dfs(treenode[node].left);<br>    treenode[node].val = arr[num++];<br>    dfs(treenode[node].right);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> node)</span> </span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.push(node);<br>    <span class="hljs-keyword">while</span> (!q.empty()) &#123;<br>        <span class="hljs-keyword">int</span> size = q.size();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>            <span class="hljs-keyword">int</span> node = q.front();<br>            q.pop();<br>            ans.push_back(node);<br>            <span class="hljs-keyword">if</span> (treenode[node].left != <span class="hljs-number">-1</span>) q.push(treenode[node].left);<br>            <span class="hljs-keyword">if</span> (treenode[node].right != <span class="hljs-number">-1</span>) q.push(treenode[node].right);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;treenode[i].left, &amp;treenode[i].right);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;arr[i]);<br>    &#125;<br>    sort(arr, arr + n);<br>    dfs(<span class="hljs-number">0</span>);<br>    bfs(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, treenode[ans[i]].val);<br>        <span class="hljs-keyword">if</span> (i &lt; n - <span class="hljs-number">1</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>二叉查找树， bst</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1064 Complete Binary Search Tree</title>
    <link href="/2021/01/20/1064-Complete-Binary-Search-Tree/"/>
    <url>/2021/01/20/1064-Complete-Binary-Search-Tree/</url>
    
    <content type="html"><![CDATA[<h1 id="1064-Complete-Binary-Search-Tree"><a href="#1064-Complete-Binary-Search-Tree" class="headerlink" title="1064 Complete Binary Search Tree"></a>1064 Complete Binary Search Tree</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/doKWdq.png" alt="doKWdq"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>用数组表示一个完全二叉树，假设某个结点编号为$x$(根结点的编号一定是1),那它具有下面性质</p><ul><li>x的左孩子编号是$2x$</li><li>x的右孩子编号是$2x+1$</li></ul><p>对于一个二叉搜索树来说，中序遍历该是该树结点的递增序列。</p><p>因此可以建立一个空的完全二叉树，同时对输入的序列进行由小到大，然后中序遍历该完全二叉树，同时把排好序的序列依次填入该完全二叉树中。</p><p>完全二叉树本身是按照层次遍历排序的。所以最后只要按序输出。</p><p>⚠️ 完全二叉树的根结点是从1开始。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">10010</span>;<br><span class="hljs-keyword">int</span> a[MAX], cbt[MAX];<br><span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>, n;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">inorder</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (x &gt; n) &#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    inorder(x * <span class="hljs-number">2</span>);<br>    cbt[x] = a[num++];<br>    inorder(x * <span class="hljs-number">2</span> + <span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;a[i]);<br>    &#125;<br>    sort(a, a+n);<br>    inorder(<span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, cbt[i]);<br>        <span class="hljs-keyword">if</span> (i &lt; n) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>二叉树</tag>
      
      <tag>完全二叉树</tag>
      
      <tag>二叉查找树</tag>
      
      <tag>bst</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1087 All Roads Lead to Rome</title>
    <link href="/2021/01/20/1087-All-Roads-Lead-to-Rome/"/>
    <url>/2021/01/20/1087-All-Roads-Lead-to-Rome/</url>
    
    <content type="html"><![CDATA[<h1 id="1087-All-Roads-Lead-to-Rome"><a href="#1087-All-Roads-Lead-to-Rome" class="headerlink" title="1087 All Roads Lead to Rome"></a>1087 All Roads Lead to Rome</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题和<a href="https://emhui.fun/2021/01/19/1018-Public-Bike-Management/">1018 Public Bike Management</a>思路基本一致。通过<code>Dijkstra</code>+<code>DFS</code>结合。</p><ul><li><code>Dijkstra</code>: 计算出起点到目标点的所有最短路径，使用<code>pre</code>存储。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span> </span>&#123;<br>    fill(dis, dis + MAX, INF);<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">int</span> u = <span class="hljs-number">-1</span>, MIN = INF;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) &#123;<br>            <span class="hljs-keyword">if</span> (!visited[j] &amp;&amp; dis[j] &lt; MIN) &#123;<br>                u = j;<br>                MIN = dis[j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (u == <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span>;<br>        visited[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">0</span>; v &lt; n; v++) &#123; <span class="hljs-comment">// 优化u-v</span><br>            <span class="hljs-keyword">if</span> (!visited[v] &amp;&amp; G[u][v] != INF) &#123;<br>                <span class="hljs-keyword">if</span> (dis[u] + G[u][v] &lt; dis[v]) &#123;<br>                    dis[v] = dis[u] + G[u][v];<br>                    pre[v].clear();<br>                    pre[v].push_back(u);<br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dis[u] + G[u][v] == dis[v]) &#123;<br>                    pre[v].push_back(u);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>DFS</code>: 使用<code>dfs</code>对<code>pre</code>进行遍历，该操作是逆序的，从目标到起点。所以临界条件是到达起点。然后计算出最大幸福值，平均幸福值等。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DFS</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span> </span>&#123; <span class="hljs-comment">// 从终点去开始找起点</span><br>    <span class="hljs-keyword">if</span> (v == city2id[startCity]) &#123; <span class="hljs-comment">// 临界条件</span><br>        leastNum++;<br>        tempPath.push_back(v);<br>        <span class="hljs-keyword">int</span> size = tempPath.size();<br>        <span class="hljs-keyword">int</span> maxHappy = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">double</span> avgHappy = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) <span class="hljs-comment">// startcity的happy是0，因为path是倒序，所以最后一个是起点</span><br>        &#123;<br>            maxHappy += happines[tempPath[i]];<br>        &#125;<br>        avgHappy = <span class="hljs-number">1.0</span> * maxHappy / (size - <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span> (maxHappy &gt; ansHappy) &#123;<br>            ansHappy = maxHappy;<br>            ansAvgHappy = avgHappy;<br>            path = tempPath;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (maxHappy == ansHappy &amp;&amp; ansAvgHappy &lt; avgHappy) &#123;<br>            ansAvgHappy = avgHappy;<br>            path = tempPath;<br>        &#125;<br>        tempPath.pop_back();<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    tempPath.push_back(v);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; pre[v].size(); i++) &#123;<br>        DFS(pre[v][i]);<br>    &#125;<br>    tempPath.pop_back();<br>&#125;<br></code></pre></td></tr></table></figure><p>⚠️</p><ul><li>本题需要注意将<code>城市名</code>和<code>ID</code>建立映射，这里使用两个<code>map</code>.</li><li>存储最短路径的路线<code>pre</code>是倒序输出。最后答案也要倒序输出</li><li>起始点没有幸福值，因此在计算平均幸福值的时候，经过的城市数量应该-1.</li></ul><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-comment">// 分析</span><br><span class="hljs-comment">// Dijkstra 求出最短路径的条数</span><br><span class="hljs-comment">// 再使用DFS求出最大的happines和avehappines</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">210</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">987654321</span>;<br><br><span class="hljs-keyword">int</span> G[MAX][MAX], dis[MAX], happines[MAX];<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; city2id;<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">string</span>&gt; id2city;<br><span class="hljs-keyword">int</span> numCity = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">bool</span> visited[MAX] = &#123;<span class="hljs-literal">false</span>&#125;;<br><span class="hljs-keyword">int</span> n, k;<br><span class="hljs-built_in">string</span> startCity;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; tempPath, path;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; pre[MAX];<br><span class="hljs-keyword">int</span> ansHappy = <span class="hljs-number">-1</span>, leastNum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">double</span> ansAvgHappy = <span class="hljs-number">-1</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span> </span>&#123;<br>    fill(dis, dis + MAX, INF);<br>    dis[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">int</span> u = <span class="hljs-number">-1</span>, MIN = INF;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) &#123;<br>            <span class="hljs-keyword">if</span> (!visited[j] &amp;&amp; dis[j] &lt; MIN) &#123;<br>                u = j;<br>                MIN = dis[j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (u == <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span>;<br>        visited[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">0</span>; v &lt; n; v++) &#123; <span class="hljs-comment">// 优化u-v</span><br>            <span class="hljs-keyword">if</span> (!visited[v] &amp;&amp; G[u][v] != INF) &#123;<br>                <span class="hljs-keyword">if</span> (dis[u] + G[u][v] &lt; dis[v]) &#123;<br>                    dis[v] = dis[u] + G[u][v];<br>                    pre[v].clear();<br>                    pre[v].push_back(u);<br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dis[u] + G[u][v] == dis[v]) &#123;<br>                    pre[v].push_back(u);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DFS</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span> </span>&#123; <span class="hljs-comment">// 从终点去开始找起点</span><br>    <span class="hljs-keyword">if</span> (v == city2id[startCity]) &#123; <span class="hljs-comment">// 临界条件</span><br>        leastNum++;<br>        tempPath.push_back(v);<br>        <span class="hljs-keyword">int</span> size = tempPath.size();<br>        <span class="hljs-keyword">int</span> maxHappy = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">double</span> avgHappy = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) <span class="hljs-comment">// startcity的happy是0，因为path是倒序，所以最后一个是起点</span><br>        &#123;<br>            maxHappy += happines[tempPath[i]];<br>        &#125;<br>        avgHappy = <span class="hljs-number">1.0</span> * maxHappy / (size - <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">if</span> (maxHappy &gt; ansHappy) &#123;<br>            ansHappy = maxHappy;<br>            ansAvgHappy = avgHappy;<br>            path = tempPath;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (maxHappy == ansHappy &amp;&amp; ansAvgHappy &lt; avgHappy) &#123;<br>            ansAvgHappy = avgHappy;<br>            path = tempPath;<br>        &#125;<br>        tempPath.pop_back();<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    tempPath.push_back(v);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; pre[v].size(); i++) &#123;<br>        DFS(pre[v][i]);<br>    &#125;<br>    tempPath.pop_back();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>&#123;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n &gt;&gt; k &gt;&gt; startCity;<br>    happines[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    city2id[startCity] = <span class="hljs-number">0</span>;<br>    id2city[<span class="hljs-number">0</span>] = startCity;<br>    <span class="hljs-built_in">string</span> city;<br>    <span class="hljs-keyword">int</span> happy;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) &#123; <span class="hljs-comment">// 输入n-1个城市和它的幸福值</span><br>        <span class="hljs-built_in">cin</span> &gt;&gt; city &gt;&gt; happy;<br>        happines[i] = happy;<br>        city2id[city] = i;<br>        id2city[i] = city;<br>    &#125;<br>    <span class="hljs-built_in">string</span> city1, city2;<br>    <span class="hljs-keyword">int</span> cost;<br>    fill(G[<span class="hljs-number">0</span>], G[<span class="hljs-number">0</span>] + MAX*MAX, INF);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; city1 &gt;&gt; city2 &gt;&gt; cost;<br>        G[city2id[city1]][city2id[city2]] = G[city2id[city2]][city2id[city1]] = cost;<br>    &#125;<br>    Dijkstra(city2id[startCity]);<br>    <span class="hljs-comment">// for (int i = 0; i &lt; n; i++) &#123; cout &lt;&lt; dis[i] &lt;&lt; &quot; &quot;;&#125;</span><br>    DFS(city2id[<span class="hljs-string">&quot;ROM&quot;</span>]);<br>    <span class="hljs-built_in">cout</span> &lt;&lt; leastNum &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; dis[city2id[<span class="hljs-string">&quot;ROM&quot;</span>]] &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; ansHappy &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; (<span class="hljs-keyword">int</span>)ansAvgHappy &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = path.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; id2city[path[i]];<br>        <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) <span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">&quot;-&gt;&quot;</span>;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>Dijkstra</tag>
      
      <tag>dfs</tag>
      
      <tag>最短路径</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1030 Travel Plan</title>
    <link href="/2021/01/19/1030-Travel-Plan/"/>
    <url>/2021/01/19/1030-Travel-Plan/</url>
    
    <content type="html"><![CDATA[<h1 id="1030-Travel-Plan"><a href="#1030-Travel-Plan" class="headerlink" title="1030 Travel Plan"></a>1030 Travel Plan</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/re6TKW.png" alt="re6TKW"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>和<a href="https://emhui.fun/2021/01/19/1018-Public-Bike-Management/">1018 Public Bike Management</a>思路类似。也是要找到最短距离并记录最短距离经过的结点。可以使用<code>pre</code>来记录最短路径的该点的上一个点是谁。若最短距离相同,就比较第二个权值大小。上一题是比较点上面的权值，本题是比较边上的第二个权值<code>cost</code>。因此再设置一个<code>Cost[MAX][MAX]</code>来存储<code>cost</code>，同时在更新最短距离的时候更新<code>cost</code>值。</p><p>具体更新如下</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">0</span>; v &lt; n; v++) &#123; <span class="hljs-comment">// 优化u-v的路线</span><br><span class="hljs-keyword">if</span> (!visited[v] &amp;&amp; G[u][v] != INF) &#123;<br><span class="hljs-keyword">if</span> (dis[u] + G[u][v] &lt; dis[v]) &#123;<br>dis[v] = dis[u] + G[u][v];<br>cost[v] = cost[u] + Cost[u][v];<br>pre[v] = u;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dis[u] + G[u][v] == dis[v]) &#123;<br><span class="hljs-keyword">if</span> (cost[u] + Cost[u][v] &lt; cost[v]) &#123;<br>cost[v] = cost[u] + Cost[u][v];<br>pre[v] = u;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>本题采用<code>Dijkstra</code>计算最短距离和最小花费。也可以和之前的题目一样使用<code>dfs</code>去遍历，求最小花费。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">510</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">987654321</span>;<br><br><span class="hljs-keyword">int</span> G[MAX][MAX], Cost[MAX][MAX], dis[MAX], cost[MAX];<br><span class="hljs-keyword">bool</span> visited[MAX] = &#123;<span class="hljs-literal">false</span>&#125;;<br><span class="hljs-keyword">int</span> n, m, s, d;<br><span class="hljs-keyword">int</span> pre[MAX];<br><span class="hljs-keyword">int</span> minDis = INF, minCost = INF;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Dijstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span> </span>&#123;<br>    fill(dis, dis + MAX, INF);<br>    fill(cost, cost + MAX, INF);<br>    dis[s] = <span class="hljs-number">0</span>;<br>    cost[s] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) pre[i] = i;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">int</span> u = <span class="hljs-number">-1</span>, MIN = INF;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) &#123; <span class="hljs-comment">// 找到距离最短</span><br>            <span class="hljs-keyword">if</span> (!visited[j] &amp;&amp; dis[j] &lt; MIN) &#123;<br>                u = j;<br>                MIN = dis[j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (u == <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span>;<br>        visited[u] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">0</span>; v &lt; n; v++) &#123; <span class="hljs-comment">// 优化u-v的路线</span><br>            <span class="hljs-keyword">if</span> (!visited[v] &amp;&amp; G[u][v] != INF) &#123;<br>                <span class="hljs-keyword">if</span> (dis[u] + G[u][v] &lt; dis[v]) &#123;<br>                    dis[v] = dis[u] + G[u][v];<br>                    cost[v] = cost[u] + Cost[u][v];<br>                    pre[v] = u;<br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dis[u] + G[u][v] == dis[v]) &#123;<br>                    <span class="hljs-keyword">if</span> (cost[u] + Cost[u][v] &lt; cost[v]) &#123;<br>                        cost[v] = cost[u] + Cost[u][v];<br>                        pre[v] = u;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (v == s) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, pre[v]);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    dfs(pre[v]);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, v);<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;s, &amp;d);<br>    fill(G[<span class="hljs-number">0</span>], G[<span class="hljs-number">0</span>] + MAX * MAX, INF);<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;G[u][v], &amp;Cost[u][v]);<br>        G[v][u] = G[u][v];<br>        Cost[v][u] = G[u][v];<br>    &#125;<br>    Dijstra(s);<br>    dfs(d); <span class="hljs-comment">// 倒着输出</span><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span>, dis[d], cost[d]);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>Dijkstra</tag>
      
      <tag>dfs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1018 Public Bike Management</title>
    <link href="/2021/01/19/1018-Public-Bike-Management/"/>
    <url>/2021/01/19/1018-Public-Bike-Management/</url>
    
    <content type="html"><![CDATA[<h1 id="1018-Public-Bike-Management"><a href="#1018-Public-Bike-Management" class="headerlink" title="1018 Public Bike Management"></a>1018 Public Bike Management</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/fg0RYG.png" alt="fg0RYG"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题需要使用<code>Dijkstra</code>和<code>DFS</code>算法。</p><ul><li><code>Dijkstra</code>: 找到起点到指定点的权值最短的路径。使用<code>vector&lt;int&gt; pre[max]</code>来记录该位置。</li><li><code>DFS</code>: 计算最短路径花费的</li></ul><p>为了便于编写代码,不妨把每个点的点权(自行车数目)都减去Cmax /2,这样就可以用点权的正负来直接判断当前车站是需要补给还是需要带走额外的车辆。由于需要输出应从PBMC携带的自行车数目与从问题车站带回的自行车数目,因此对每个顶点来说需要增加两个属性:从PBMC到当前车站必须携带的自行车数目Need以及到达当前车站时手上多余的自行车数目Remain。显然,如果当前车站u的点权weightu为正,说明需要从该车站额外带走自行车,因此新的Remain等于旧的Remain加上weight[j;而如果当前车站u的点权weight[u]为负,说明当前车站需要补给自行车的数量为abs(weightu),此时如果Remain大于0,就可以用来补给当前车站,但如果Remain不够完全补给,剩余部分需要从PBMC携带,故Need增加这个数值。代码如下:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">int</span> need = <span class="hljs-number">0</span>, remain = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = tempPath.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)<br>&#123;<br><span class="hljs-keyword">int</span> id = tempPath[i];<br><span class="hljs-keyword">if</span> (weight[id] &gt; <span class="hljs-number">0</span>)<br>&#123;<br>remain += weight[id];<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-keyword">if</span> (remain &gt; <span class="hljs-built_in">abs</span>(weight[id])) &#123;<br>remain -= <span class="hljs-built_in">abs</span>(weight[id]);<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>need += <span class="hljs-built_in">abs</span>(weight[id]) - remain;<br>remain = <span class="hljs-number">0</span>;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span> (minNeed &gt; need)<br>&#123;<br>minNeed = need;<br>minRemain = remain;<br>path = tempPath;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (minNeed == need &amp;&amp; minRemain &gt; remain)<br>&#123;<br>minRemain = remain;<br>path = tempPath;<br>&#125;<br></code></pre></td></tr></table></figure><p>显然,本题可以使用Djkstra + DFS的写法求解。具体做法是,先使用Dijkstra求出所有最短路径,然后用DFS从这些最短路径中选出need最小的(need相同时选remain 小)最路径的效E可以在Dijikstra部分顺便求出,也可以在DFS中边界条件处进行累计。<br>注意点</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 1. 使用Dijkstra算法求得最短路径条数</span><br><span class="hljs-comment">// 2. 然后对最短路径条数使用DFS遍历获取need最小的值</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">510</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">987654321</span>;<br><span class="hljs-keyword">int</span> n, m, sp, cmax;<br><span class="hljs-keyword">int</span> G[MAX][MAX], dis[MAX], weight[MAX];<br><span class="hljs-keyword">bool</span> visited[MAX] = &#123;<span class="hljs-literal">false</span>&#125;;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; tempPath, path;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; pre[MAX]; <span class="hljs-comment">// 存储开始结点到该结点的最短路径中，前一个结点。</span><br><span class="hljs-keyword">int</span> minNeed = INF, minRemain = INF;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> s)</span> </span>&#123;<br>    fill(dis, dis + MAX, INF);<br>    dis[s] = <span class="hljs-number">0</span>; <span class="hljs-comment">// 自己到自己的距离为0</span><br>    <span class="hljs-comment">// visited[root] = true; // 访问自己</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123; <span class="hljs-comment">// 开始依次找到最短距离. == n</span><br>        <span class="hljs-keyword">int</span> u = <span class="hljs-number">-1</span>, minDis = INF; <span class="hljs-comment">// 找到最近的，且没有被访问的点</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt;= n; j++) &#123;<br>            <span class="hljs-keyword">if</span> (!visited[j] &amp;&amp; minDis &gt; dis[j]) &#123;<br>                u = j;<br>                minDis = dis[j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (u == <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span>; <span class="hljs-comment">// 没有找到</span><br>        visited[u] = <span class="hljs-literal">true</span>; <span class="hljs-comment">// 找到了，访问该结点。同时开始更新</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">0</span>; v &lt;= n; v++) &#123;<br>            <span class="hljs-keyword">if</span> (!visited[v] &amp;&amp; G[u][v] != INF) &#123; <span class="hljs-comment">// uv是可以访问</span><br>                <span class="hljs-keyword">if</span> (dis[u] + G[u][v] &lt; dis[v]) &#123;<br>                    dis[v] = dis[u] + G[u][v];<br>                    pre[v].clear();<br>                    pre[v].push_back(u); <span class="hljs-comment">// 存储的每个路径的最短的上一个结点</span><br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (dis[u] + G[u][v] == dis[v]) &#123;<br>                    pre[v].push_back(u); <span class="hljs-comment">// 存在多个最短路径的上一个结点</span><br>                &#125;<br>            &#125;;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (v == <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// 找到了边界</span><br>        tempPath.push_back(v);<br>        <span class="hljs-keyword">int</span> need = <span class="hljs-number">0</span>, remain = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = tempPath.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)<br>        &#123;<br>            <span class="hljs-keyword">int</span> id = tempPath[i];<br>            <span class="hljs-keyword">if</span> (weight[id] &gt; <span class="hljs-number">0</span>)<br>            &#123;<br>                remain += weight[id];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">if</span> (remain &gt; <span class="hljs-built_in">abs</span>(weight[id])) &#123;<br>                    remain -= <span class="hljs-built_in">abs</span>(weight[id]);<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    need += <span class="hljs-built_in">abs</span>(weight[id]) - remain;<br>                    remain = <span class="hljs-number">0</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (minNeed &gt; need)<br>        &#123;<br>            minNeed = need;<br>            minRemain = remain;<br>            path = tempPath;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (minNeed == need &amp;&amp; minRemain &gt; remain)<br>        &#123;<br>            minRemain = remain;<br>            path = tempPath;<br>        &#125;<br>        tempPath.pop_back();<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    tempPath.push_back(v); <span class="hljs-comment">// 存储路径</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; pre[v].size(); i++)<br>    &#123;<br>        dfs(pre[v][i]);<br>    &#125;<br><br>    tempPath.pop_back();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>, &amp;cmax, &amp;n, &amp;sp, &amp;m);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123; <span class="hljs-comment">// i从1开始</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;weight[i]);<br>        weight[i] -= cmax / <span class="hljs-number">2</span>;<br>    &#125;<br>    fill(G[<span class="hljs-number">0</span>], G[<span class="hljs-number">0</span>] + MAX * MAX, INF);<br>    <span class="hljs-keyword">int</span> u, v;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;u, &amp;v);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;G[u][v]);<br>        G[v][u] = G[u][v];<br>    &#125;<br>    Dijkstra(<span class="hljs-number">0</span>);<br>    dfs(sp);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, minNeed);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = path.size() - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, path[i]);<br>        <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-&gt;&quot;</span>);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; %d\n&quot;</span>, minRemain);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>Dijkstra</tag>
      
      <tag>dfs</tag>
      
      <tag>最短路径</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1584. 连接所有点的最小费用</title>
    <link href="/2021/01/19/1584-%E8%BF%9E%E6%8E%A5%E6%89%80%E6%9C%89%E7%82%B9%E7%9A%84%E6%9C%80%E5%B0%8F%E8%B4%B9%E7%94%A8/"/>
    <url>/2021/01/19/1584-%E8%BF%9E%E6%8E%A5%E6%89%80%E6%9C%89%E7%82%B9%E7%9A%84%E6%9C%80%E5%B0%8F%E8%B4%B9%E7%94%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="1584-连接所有点的最小费用"><a href="#1584-连接所有点的最小费用" class="headerlink" title="1584. 连接所有点的最小费用"></a><a href="https://emhui.fun/2021/01/19/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/">1584. 连接所有点的最小费用</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/MiReTb.png" alt="MiReTb"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题是求由这些点组成的最小生成树权值大小。可以使用<strong>Kruskal算法</strong>。</p><h3 id="Kruskal算法-lt-span-class-”hint–top-hint–rounded”-aria-label-”最小生成树"><a href="#Kruskal算法-lt-span-class-”hint–top-hint–rounded”-aria-label-”最小生成树" class="headerlink" title="Kruskal算法 &lt;span class=”hint–top hint–rounded” aria-label=”最小生成树"></a>Kruskal算法 <sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote">&lt;span class=”hint–top hint–rounded” aria-label=”最小生成树</h3><p>“&gt;[1]</span></a></sup></p><blockquote><p>该算法细节可以参考<a href="https://emhui.fun/2021/01/19/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/">最小生成树</a></p></blockquote><p>该算法满足实现两点</p><ul><li>建立一个权值边和边两个顶点的集合。同时该集合按照边的权值由小到达排序。</li><li>从该集合中几次选出最小的边，判断该边的两个点是否已经在最小生成树中（<strong>使用并查集</strong>），若不在，则将该边加入到最小生成树中，同时连通该两点。若存在该两点，则继续寻找下一个权值最小的边。</li></ul><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="Kruskal"><a href="#Kruskal" class="headerlink" title="Kruskal"></a>Kruskal</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span> &#123;</span><br>    <span class="hljs-keyword">private</span>:<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; parent;<br>    <span class="hljs-keyword">public</span>:<br>    UnionFind(<span class="hljs-keyword">int</span> n) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) parent.push_back(i);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (x != parent[x]) &#123;<br>            parent[x] = find(parent[x]);<br>        &#125;<br>        <span class="hljs-keyword">return</span> parent[x];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quick_union</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span> </span>&#123;<br>        parent[find(v)] = find(w);<br>    &#125;<br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">minCostConnectPoints</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; points)</span> </span>&#123;<br>        <span class="hljs-comment">// 建立一个权值的对应的边</span><br>        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;&gt; edges;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; points.size(); i++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = i + <span class="hljs-number">1</span>; j &lt; points.size(); j++) &#123;<br>                <span class="hljs-keyword">int</span> cost = <span class="hljs-built_in">abs</span>(points[i][<span class="hljs-number">0</span>] - points[j][<span class="hljs-number">0</span>]) + <span class="hljs-built_in">abs</span>(points[i][<span class="hljs-number">1</span>] - points[j][<span class="hljs-number">1</span>]);<br><br>                edges.push_back(<span class="hljs-built_in">make_pair</span>(cost, <span class="hljs-built_in">make_pair</span>(i, j))); <span class="hljs-comment">// 把i,j两个点放到求加权边的目录</span><br>            &#125;<br>        &#125;<br>        sort(edges.begin(), edges.end()); <span class="hljs-comment">// 按照权边进行排序</span><br>        <span class="hljs-function">UnionFind <span class="hljs-title">uf</span><span class="hljs-params">(points.size())</span></span>;<br>        <span class="hljs-comment">// 开始检查加权边</span><br>        <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; edges.size(); i++) &#123;<br>            <span class="hljs-keyword">int</span> cost = edges[i].first;<br>            <span class="hljs-keyword">int</span> u = edges[i].second.first, v = edges[i].second.second;<br>            <span class="hljs-keyword">if</span> (uf.find(u) == uf.find(v)) <span class="hljs-keyword">continue</span>;<br>            uf.quick_union(u, v);<br>            sum += cost;<br>        &#125;<br>        <span class="hljs-keyword">return</span> sum;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://emhui.fun/2021/01/19/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/">最小生成树</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>leetcode</tag>
      
      <tag>Kruskal</tag>
      
      <tag>最小生成树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>最小生成树</title>
    <link href="/2021/01/19/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/"/>
    <url>/2021/01/19/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h1 id="最小生成树算法"><a href="#最小生成树算法" class="headerlink" title="最小生成树算法"></a>最小生成树算法</h1><p>满足最小生成树</p><ul><li>所有顶点都连接</li><li>没有环</li></ul><p>生成树可能存在多个，而权值只和最小的就是最小生成树</p><p>实现方法</p><ul><li><input checked="" disabled="" type="checkbox"> Kruskal</li><li><input disabled="" type="checkbox"> Prim</li></ul><h2 id="Kruskal"><a href="#Kruskal" class="headerlink" title="Kruskal"></a>Kruskal</h2><ul><li>所有的边按照权值排序</li><li>解决当前最小的权值边和已添加的线是否形成回路（重点）</li></ul><p>如图是Kruskal算法的过程</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/mFdoQR.png" alt="mFdoQR"></p><p>每次从权值边选出最小边，再判断该边的两点是否已经存在于最小生成树中（使用并查集来判断），若不存在就加入最小生成树中。若存在则寻找下一条最小权值的边。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>如何将权值和两个顶点联系起来呢？这是使用<code>pair&lt;int, pair&lt;int, int&gt;&gt;</code>来实现，其中权值作为第一个元素，第二个元素为该权值对应的两个顶点。使用<code>sort</code>对权值边从小到达大进行排序。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">100</span>;<br>UnionFind uf;<br><span class="hljs-keyword">int</span> V; <span class="hljs-comment">// 顶点个数</span><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt; adj[MAX]; <span class="hljs-comment">// 邻接表，存储图</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">kruskal</span><span class="hljs-params">(&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>(<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>)&gt;&gt;&amp; selected)</span> </span>&#123;<br><span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>selected.clear(); <span class="hljs-comment">// 加入到最小生成树的顶点</span><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">pair</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;&gt;&gt; edges; <span class="hljs-comment">// 存储权值边以及两端顶点</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> u = <span class="hljs-number">0</span>; u &lt; V; u++) &#123;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; adj[u].size(); i++) &#123;<br><span class="hljs-keyword">int</span> v = adj[u][i].first;<br><span class="hljs-keyword">int</span> cost = adj[u][i].second;<br>edges.push_back(<span class="hljs-built_in">make_pair</span>(cost, <span class="hljs-built_in">make_pair</span>(u, v))); <span class="hljs-comment">// 把 权值， 两个点 存储到 edges中</span><br>&#125;<br>&#125;<br>sort(edges.begin(), sort.end()); <span class="hljs-comment">// 按照权值进行排序</span><br><span class="hljs-function">UnionFind <span class="hljs-title">uf</span><span class="hljs-params">(V)</span></span>; <span class="hljs-comment">// 建立并查集</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; edges.size(); i++) &#123; <span class="hljs-comment">// 开始依次选择最小权值生成最小生成树</span><br><span class="hljs-keyword">int</span> cost = edges[i].first;<br><span class="hljs-keyword">int</span> u = edges[i].second.first, v = edges[i].second.second;<br><span class="hljs-keyword">if</span> (uf.find(u) == uf.find(v)) <span class="hljs-keyword">continue</span>;<br>uf.quick_union(u, v);<br>selected.push_back(<span class="hljs-built_in">make_pair</span>(u, v));<br>sum += cost;<br>&#125;<br><span class="hljs-keyword">return</span> sum; <span class="hljs-comment">// 最小生成树权值</span><br>&#125;<br></code></pre></td></tr></table></figure><p>相关题目</p><ul><li><a href="https://emhui.fun/2021/01/19/1584-%E8%BF%9E%E6%8E%A5%E6%89%80%E6%9C%89%E7%82%B9%E7%9A%84%E6%9C%80%E5%B0%8F%E8%B4%B9%E7%94%A8/">1584.连接所有点的最小费用</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>leetcode</tag>
      
      <tag>Kruskal</tag>
      
      <tag>最小生成树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1005 Spell It Right</title>
    <link href="/2021/01/18/1005-Spell-It-Right/"/>
    <url>/2021/01/18/1005-Spell-It-Right/</url>
    
    <content type="html"><![CDATA[<h1 id="1005-Spell-It-Right"><a href="#1005-Spell-It-Right" class="headerlink" title="1005 Spell It Right"></a>1005 Spell It Right</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/AngAu5.png" alt="AngAu5"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><ul><li>$N &lt;= 10^100$。使用<code>int,long long</code>类型还是不行的，因此使用<code>char[]</code>作为输入。</li><li>建立一个二维字符数组<code>num2engilis</code>.建立数字和英文数字之间映射</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> num2englis[<span class="hljs-number">10</span>][<span class="hljs-number">10</span>] = &#123;<span class="hljs-string">&quot;zero&quot;</span>, <span class="hljs-string">&quot;one&quot;</span>, <span class="hljs-string">&quot;two&quot;</span>, <span class="hljs-string">&quot;three&quot;</span>, <span class="hljs-string">&quot;four&quot;</span>, <span class="hljs-string">&quot;five&quot;</span>, <span class="hljs-string">&quot;six&quot;</span>, <span class="hljs-string">&quot;seven&quot;</span>, <span class="hljs-string">&quot;eight&quot;</span>, <span class="hljs-string">&quot;nine&quot;</span>&#125;;<br></code></pre></td></tr></table></figure><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">101</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span> num2englis[<span class="hljs-number">10</span>][<span class="hljs-number">10</span>] = &#123;<span class="hljs-string">&quot;zero&quot;</span>, <span class="hljs-string">&quot;one&quot;</span>, <span class="hljs-string">&quot;two&quot;</span>, <span class="hljs-string">&quot;three&quot;</span>, <span class="hljs-string">&quot;four&quot;</span>, <span class="hljs-string">&quot;five&quot;</span>, <span class="hljs-string">&quot;six&quot;</span>, <span class="hljs-string">&quot;seven&quot;</span>, <span class="hljs-string">&quot;eight&quot;</span>, <span class="hljs-string">&quot;nine&quot;</span>&#125;;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> s[maxn];<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>    <span class="hljs-keyword">int</span> size = <span class="hljs-built_in">strlen</span>(s);<br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>, arr[maxn];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>        sum += s[i] - <span class="hljs-string">&#x27;0&#x27;</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">do</span> &#123;<br>        arr[num++] = sum % <span class="hljs-number">10</span>;<br>        sum /= <span class="hljs-number">10</span>;<br>    &#125; <span class="hljs-keyword">while</span> (sum);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = num - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s&quot;</span>, num2englis[arr[i]]);<br>        <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);&#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>哈希表</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1001 A+B Format</title>
    <link href="/2021/01/18/1001-A-B-Format/"/>
    <url>/2021/01/18/1001-A-B-Format/</url>
    
    <content type="html"><![CDATA[<h1 id="1001-A-B-Format"><a href="#1001-A-B-Format" class="headerlink" title="1001 A+B Format"></a>1001 A+B Format</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/FpwMfH.png" alt="FpwMfH"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题通过$a+b$得到一个新的值，新的值按照三个一组的格式输出，每组前面一个逗号。</p><p>因此可以考虑将新的值拆解到数组中，再倒序输出数组，每当三个的时候输出一个逗号。</p><p>⚠️： 如果结果是负数，需要取负数的绝对值进行运算。但是最好不要使用<code>abs</code>。经过测试，这个函数在有的编译器无法编译。考虑如果是负数对其取反即可。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> a,b;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);<br>    <span class="hljs-keyword">int</span> n = a + b;<br>    <span class="hljs-keyword">int</span> temp = n &lt; <span class="hljs-number">0</span> ? <span class="hljs-number">0</span> - n : n;<br>    <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>, arr[<span class="hljs-number">10</span>];<br>    <span class="hljs-keyword">do</span> &#123;<br>        arr[num++] = temp % <span class="hljs-number">10</span>;<br>        temp /= <span class="hljs-number">10</span>;<br>    &#125; <span class="hljs-keyword">while</span> (temp);<br>    <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">0</span>) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-&quot;</span>);&#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = num - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, arr[i]);<br>        <span class="hljs-keyword">if</span> (i % <span class="hljs-number">3</span> == <span class="hljs-number">0</span> &amp;&amp; i != <span class="hljs-number">0</span>) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;,&quot;</span>);&#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>数学</tag>
      
      <tag>算法</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>账户合并</title>
    <link href="/2021/01/18/%E8%B4%A6%E6%88%B7%E5%90%88%E5%B9%B6/"/>
    <url>/2021/01/18/%E8%B4%A6%E6%88%B7%E5%90%88%E5%B9%B6/</url>
    
    <content type="html"><![CDATA[<h1 id="账户合并"><a href="#账户合并" class="headerlink" title="账户合并"></a><a href="https://leetcode-cn.com/problems/accounts-merge/">账户合并</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/Ssq91V.png" alt="Ssq91V"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题需要找到邮箱之间的连通性，若邮箱之间连通，那么就确定了该邮箱所属的人。可以采用并查集来实现。设置两个哈希表。建立<strong>email-&gt;idx</strong>，<strong>email-&gt;name</strong>。</p><p>映射方法如下</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; email2idx;<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>,<span class="hljs-built_in">string</span>&gt; email2name;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; accounts.size(); i++) &#123;<br><span class="hljs-built_in">string</span> name = accounts[i][<span class="hljs-number">0</span>];<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; accounts[i].size(); j++) &#123;<br><span class="hljs-keyword">if</span> (email2idx.find(accounts[i][j]) == email2idx.end()) &#123;<br>email2idx[accounts[i][j]] = email2idx.size();<br>email2name[accounts[i][j]] = name;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>接着使用并查集，将属于同一连通分量的email连通。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">UnionFind <span class="hljs-title">uf</span><span class="hljs-params">(email2idx.size())</span></span>; <span class="hljs-comment">// 初始化</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; accounts.size(); i++) &#123;<br><span class="hljs-built_in">string</span> first = accounts[i][<span class="hljs-number">1</span>]; <span class="hljs-comment">// 每一组account对象中，各个邮箱都是连通的，因此只要选择一个来和其他连通就可以。</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>; j &lt; accounts[i].size(); j++) &#123;<br>uf.quick_union(email2idx[first], email2idx[accounts[i][j]]); <span class="hljs-comment">// 合并同一个集合</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>合并好连通分量后，开始将同一个连通分量下的email集合到一起</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C+">&#x2F;&#x2F; 将同一连通分量下的集合添加到一起<br>map&lt;int, vector&lt;string&gt;&gt; idx2emails;<br>for (map&lt;string, int&gt;::iterator it &#x3D; email2idx.begin(); it !&#x3D; email2idx.end(); it++) &#123;<br>idx2emails[uf.find(it-&gt;second)].push_back(it-&gt;first);<br>&#125;<br></code></pre></td></tr></table></figure><p>最后按照题目返回对应格式数据即可。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span> &#123;</span><br>    <span class="hljs-keyword">private</span>:<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; parent;<br>    <span class="hljs-keyword">public</span>:<br>    UnionFind(<span class="hljs-keyword">int</span> n) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) parent.push_back(i);<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (x != parent[x]) &#123;<br>            parent[x] = find(parent[x]);<br>        &#125;<br>        <span class="hljs-keyword">return</span> parent[x];<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quick_union</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span> </span>&#123;<br>        parent[find(v)] = find(w);<br>    &#125;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; <span class="hljs-title">accountsMerge</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;&amp; accounts)</span> </span>&#123;<br>        <span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; email2idx;<br>        <span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>,<span class="hljs-built_in">string</span>&gt; email2name;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; accounts.size(); i++) &#123;<br>            <span class="hljs-built_in">string</span> name = accounts[i][<span class="hljs-number">0</span>];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; accounts[i].size(); j++) &#123;<br>                <span class="hljs-keyword">if</span> (email2idx.find(accounts[i][j]) == email2idx.end()) &#123;<br>                    email2idx[accounts[i][j]] = email2idx.size();<br>                    email2name[accounts[i][j]] = name;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-function">UnionFind <span class="hljs-title">uf</span><span class="hljs-params">(email2idx.size())</span></span>; <span class="hljs-comment">// 初始化</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; accounts.size(); i++) &#123;<br>            <span class="hljs-built_in">string</span> first = accounts[i][<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">2</span>; j &lt; accounts[i].size(); j++) &#123;<br>                uf.quick_union(email2idx[first], email2idx[accounts[i][j]]); <span class="hljs-comment">// 合并同一个集合</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// 将同一连通分量下的集合添加到一起</span><br>        <span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; idx2emails;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt;::iterator it = email2idx.begin(); it != email2idx.end(); it++) &#123;<br>            <span class="hljs-comment">// cout &lt;&lt; it-&gt;first &lt;&lt; &quot; &quot; &lt;&lt; uf.find(it-&gt;second) &lt;&lt;endl;</span><br>            idx2emails[uf.find(it-&gt;second)].push_back(it-&gt;first);<br>        &#125;<br>        <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt; ans;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt;&gt;::iterator it = idx2emails.begin(); it != idx2emails.end(); it++) &#123;<br>            <span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">string</span>&gt; temp;<br>            temp.push_back(email2name[it-&gt;second[<span class="hljs-number">0</span>]]);<br>            sort(it-&gt;second.begin(), it-&gt;second.end());<br>            temp.insert(temp.end(), it-&gt;second.begin(), it-&gt;second.end());<br>            ans.push_back(temp);<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>&#125;;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul><li><code>vector&lt;type&gt;</code>合并数据</li></ul><p>如下例所示，使用<code>insert(oriin.end(), in.begin(), in.end())</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; vec1 = &#123;...&#125;;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; vec2 = &#123;...&#125;;<span class="hljs-comment">// vec1和vec2都存有内容</span><br><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; vec3;<span class="hljs-comment">//vec3是空的</span><br>vec3.insert(vec3.end(),vec1.begin(),vec1.end())<span class="hljs-comment">//将vec1压入</span><br>vec3.insert(vec3.end(),vec2.begin(),vec2.end())<span class="hljs-comment">//继续将vec2压入</span><br></code></pre></td></tr></table></figure><ul><li><code>vector</code>如何使用<code>sort</code></li></ul><p>基本使用：<code>sort(v.begin(), v.end())</code></p>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>union-find</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1034 Head of a Gang</title>
    <link href="/2021/01/18/1034-Head-of-a-Gang/"/>
    <url>/2021/01/18/1034-Head-of-a-Gang/</url>
    
    <content type="html"><![CDATA[<h1 id="1034-Head-of-a-Gang"><a href="#1034-Head-of-a-Gang" class="headerlink" title="1034 Head of a Gang"></a>1034 Head of a Gang</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/oAOiuF.png" alt="oAOiuF"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>略.</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">2001</span>;<br><span class="hljs-keyword">int</span> numPersion = <span class="hljs-number">0</span>, count = <span class="hljs-number">0</span>; <span class="hljs-comment">// count 连通分量个数</span><br><span class="hljs-keyword">int</span> parent[maxn] = &#123;<span class="hljs-number">0</span>&#125;, weight[maxn] = &#123;<span class="hljs-number">0</span>&#125;;<br><br><span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>,<span class="hljs-built_in">string</span>&gt; int2string;<br><span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>,<span class="hljs-keyword">int</span>&gt; string2num, gang;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">str2num</span><span class="hljs-params">(<span class="hljs-built_in">string</span> name)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (string2num.find(name) != string2num.end()) &#123;<br>        <span class="hljs-keyword">return</span> string2num[name];<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        string2num[name] = numPersion; <span class="hljs-comment">// str-&gt;num</span><br>        int2string[numPersion] = name; <span class="hljs-comment">// num-&gt;str</span><br>        <span class="hljs-keyword">return</span> numPersion++;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (v != parent[v]) &#123;parent[v] = find(parent[v]);&#125; <span class="hljs-comment">// 路径压缩</span><br>    <span class="hljs-keyword">return</span> parent[v];<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quick_union</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> vRoot = find(v), wRoot = find(w);<br>    <span class="hljs-keyword">if</span> (vRoot == wRoot) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">if</span> (weight[vRoot] &gt; weight[wRoot]) parent[wRoot] = vRoot;<br>    <span class="hljs-keyword">else</span> parent[vRoot] = wRoot;<br>    count--;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">string</span> s1, s2;<br>    <span class="hljs-keyword">int</span> n, k, w;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; temp[maxn];<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;k);<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; s1 &gt;&gt; s2 &gt;&gt; w;<br>        <span class="hljs-keyword">int</span> id1 = str2num(s1), id2 = str2num(s2);<br>        weight[id1] += w;<br>        weight[id2] += w;<br>        temp[i].push_back(id1);<br>        temp[i].push_back(id2);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numPersion; i++) &#123;parent[i] = i;&#125;<br>    count = numPersion; <span class="hljs-comment">// 一开始连通分量个数</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">int</span> v = temp[i][<span class="hljs-number">0</span>], w = temp[i][<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span> (find(v) != find(w)) &#123;<br>            quick_union(v, w);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> numGang = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; head; <span class="hljs-comment">// 记录所有的头</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; numPersion; i++) &#123;<br>        <span class="hljs-comment">// cout &lt;&lt; i &lt;&lt; &quot;:&quot; &lt;&lt;int2string[i] &lt;&lt; &quot;-&gt;&quot; &lt;&lt; int2string[parent[i]] &lt;&lt; &quot; w: &quot; &lt;&lt; weight[i] &lt;&lt; endl;</span><br>        <span class="hljs-keyword">if</span> (i == parent[i]) &#123;<br>            head.push_back(i);<br>            <span class="hljs-comment">// cout &lt;&lt; &quot;head =&gt; &quot; &lt;&lt; int2string[i] &lt;&lt;endl;</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; head.size(); i++) &#123;<br>        <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> weightGange = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; numPersion; j++) &#123;<br>            <span class="hljs-keyword">if</span> (find(j) == head[i]) &#123;<br>                weightGange += weight[j];<br>                num++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (num &gt; <span class="hljs-number">2</span> &amp;&amp; (weightGange / <span class="hljs-number">2</span>) &gt; k)<br>        &#123;<br>            gang[int2string[head[i]]] = num;<br>            numGang++;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; numGang &lt;&lt; <span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>,<span class="hljs-keyword">int</span>&gt;::iterator it = gang.begin(); it != gang.end(); it++) &#123;<br>        <span class="hljs-built_in">cout</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; it-&gt;second &lt;&lt;<span class="hljs-built_in">endl</span>;<br>    &#125;<br>    <span class="hljs-comment">// cout &lt;&lt; find(4) &lt;&lt; endl;</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>union-find</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1003 Emergency</title>
    <link href="/2021/01/17/1003-Emergency/"/>
    <url>/2021/01/17/1003-Emergency/</url>
    
    <content type="html"><![CDATA[<h1 id="1003-Emergency"><a href="#1003-Emergency" class="headerlink" title="1003 Emergency"></a>1003 Emergency</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/ugQwkH.png" alt="ugQwkH"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题主要是找出<strong>给出一个带有点和边的权值无向图，求出两点之间最短路径的数量和到达最短路径的最大点权值</strong></p><p>本题主要求</p><ul><li>给定两点之间的<strong>最短距离数量</strong></li><li>在满足<strong>最短距离</strong>下的<strong>最大点权值和</strong></li></ul><p>因此设置两个数组分别记录<strong>最短距离数量</strong>，<strong>最大点权值和</strong></p><ul><li><code>path</code></li><li><code>w</code></li></ul><p>找最短距离可以使用<code>Dijkstra</code>算法，在该算法的优化更新过程中对<code>path,w</code>进行优化,代码如下</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">0</span>; v &lt; n; v++) &#123; <span class="hljs-comment">// 开始进行优化u-v和s-v的最短距离。</span><br><span class="hljs-keyword">if</span> (visited[v] == <span class="hljs-literal">false</span> &amp;&amp; G[u][v] != INF) &#123;<br><span class="hljs-comment">// 判断最短路径</span><br><span class="hljs-keyword">if</span> (d[u] + G[u][v] &lt; d[v]) &#123; <span class="hljs-comment">// 如果存在还要短的路径，进行优化更新</span><br>d[v] = d[u] + G[u][v];<br>w[v] = w[u] + pw[v]; <span class="hljs-comment">// 同时更新该点权值</span><br>path[v] = path[u];<span class="hljs-comment">// 更新路径数量,不存在多条一样的最短路径</span><br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (d[u] + G[u][v] == d[v])&#123; <span class="hljs-comment">// 出现长度相同的路径</span><br>path[v] += path[u];<br><span class="hljs-keyword">if</span> (w[u] + pw[v] &gt; w[v]) &#123; <span class="hljs-comment">// 若这条路径的点权值大，则进行更新。</span><br>w[v] = w[u] + pw[v];<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">510</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> INF = <span class="hljs-number">100000000</span>;<br><br><span class="hljs-keyword">int</span> n, m, c1, c2, G[maxn][maxn];<br><span class="hljs-keyword">int</span> d[maxn], pw[maxn], path[maxn], w[maxn]; <span class="hljs-comment">// d 路径, w 点权重, path 路径数量</span><br><span class="hljs-keyword">bool</span> visited[maxn] = &#123;<span class="hljs-literal">false</span>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Dijkstra</span><span class="hljs-params">(<span class="hljs-keyword">int</span> start)</span> </span>&#123;<br>    <span class="hljs-comment">// 1. 查询前的初始化操作</span><br>    fill(d, d + maxn, INF); <span class="hljs-comment">// 初始化所有距离为INF</span><br>    <span class="hljs-built_in">memset</span>(path, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(path)); <span class="hljs-comment">// 初始化所有的路径为0</span><br>    <span class="hljs-built_in">memset</span>(w, <span class="hljs-number">0</span>, <span class="hljs-keyword">sizeof</span>(w)); <span class="hljs-comment">// 初始化点权重为0</span><br>    path[start] = <span class="hljs-number">1</span>; <span class="hljs-comment">// 自己到自己有一个路</span><br>    d[start] = <span class="hljs-number">0</span>; <span class="hljs-comment">// 自己到自己的距离为0</span><br>    w[start] = pw[start]; <span class="hljs-comment">// 默认点的权重是自己</span><br>    <span class="hljs-comment">// 2. 开始找start到各个点的距离</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-comment">// 2.1 找到最短距离。</span><br>        <span class="hljs-keyword">int</span> u = <span class="hljs-number">-1</span>, MIN = INF; <span class="hljs-comment">// 找到最近的那个点，开始遍历。</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) &#123;<br>            <span class="hljs-keyword">if</span> (visited[j] == <span class="hljs-literal">false</span> &amp;&amp; d[j] &lt; MIN) &#123;<br>                u = j;<br>                MIN = d[j];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (u == <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span>;<br>        visited[u] = <span class="hljs-literal">true</span>; <span class="hljs-comment">// 访问u</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v = <span class="hljs-number">0</span>; v &lt; n; v++) &#123; <span class="hljs-comment">// 开始进行优化u-v和s-v的最短距离。</span><br>            <span class="hljs-keyword">if</span> (visited[v] == <span class="hljs-literal">false</span> &amp;&amp; G[u][v] != INF) &#123;<br>                <span class="hljs-comment">// 判断最短路径</span><br>                <span class="hljs-keyword">if</span> (d[u] + G[u][v] &lt; d[v]) &#123; <span class="hljs-comment">// 如果存在还要短的路径，进行优化更新</span><br>                    d[v] = d[u] + G[u][v];<br>                    w[v] = w[u] + pw[v]; <span class="hljs-comment">// 同时计算该点权值</span><br>                    path[v] = path[u];<span class="hljs-comment">// 更新路径数量</span><br>                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (d[u] + G[u][v] == d[v])&#123; <span class="hljs-comment">// 出现长度相同的路径</span><br>                    path[v] += path[u];<br>                    <span class="hljs-keyword">if</span> (w[u] + pw[v] &gt; w[v]) &#123; <span class="hljs-comment">// 若这条路径的点权值大，则进行更新。</span><br>                        w[v] = w[u] + pw[v];<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;c1, &amp;c2);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123; <span class="hljs-comment">// 点权，每个城市的救护车数量</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;pw[i]);<br>    &#125;<br>    <span class="hljs-keyword">int</span> v1, v2, dis;<br>    fill(G[<span class="hljs-number">0</span>], G[<span class="hljs-number">0</span>] + maxn * maxn, INF); <span class="hljs-comment">// fill(首地址，尾地址，填充值);</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) &#123; <span class="hljs-comment">// 连通图</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;v1, &amp;v2, &amp;dis);<br>        G[v1][v2] = dis;<br>        G[v2][v1] = dis;<br>    &#125;<br>    Dijkstra(c1);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %d\n&quot;</span>, path[c2], w[c2]);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul><li><code>C++</code>中<code>memset</code>和<code>fill</code>区别</li></ul><p><code>memset</code>在<code>string.h</code>头文件中。<code>memset</code>只能填充字节，一般填充0或-1.填充其他数不适合。所以在使用初始化<code>bool</code>数组的可以使用。</p><p><code>memset(数组,填充数据0/-1,数组大小)</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">memset</span>(visited, <span class="hljs-literal">false</span>, <span class="hljs-keyword">sizeof</span>(visited));<br></code></pre></td></tr></table></figure><p><code>fill</code>在<code>algorithm</code>中，它可以填充任何值。使用方法<code>fill(首地址, 为地址,填充数据)</code>。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++">fill(G[<span class="hljs-number">0</span>], G[<span class="hljs-number">0</span>] + maxn * maxn, INF); <span class="hljs-comment">// fill(首地址，尾地址，填充值);</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>Dijkstra</tag>
      
      <tag>最短距离</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1021 Deepest Root</title>
    <link href="/2021/01/17/1021-Deepest-Root/"/>
    <url>/2021/01/17/1021-Deepest-Root/</url>
    
    <content type="html"><![CDATA[<h1 id="1021-Deepest-Root"><a href="#1021-Deepest-Root" class="headerlink" title="1021 Deepest Root"></a>1021 Deepest Root</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/8yP8rz.png" alt="8yP8rz"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题主要是求<strong>一个图转化为树，从图中每个顶点出发到根结点的最大深度。若图存在多个连通分量，则直接输出连通分量个数。若存在多个最大深度相同的根结点，则升序输出这些根结点</strong>。</p><p>步骤</p><ol><li>在输入的使用使用并查集,输入完成后就可以统计连通分量个个数。若连通分量个数大于1直接输出。</li><li>若整个图是连通的，则使用<code>BFS</code>将每个结点做根结点进行遍历。用一个数组<code>ans[maxn]</code>统计每个结点作为根结点时候的最大深度。再使用<code>maxHight</code>变量设置为整个图的最大深度。</li><li>最后使用遍历<code>ans[maxn]</code>便可以按升序输出最大深度的根结点。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">10010</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; graphic[maxn];<br><span class="hljs-keyword">bool</span> visited[maxn] = &#123;<span class="hljs-literal">false</span>&#125;;<br><span class="hljs-keyword">int</span> ans[maxn] = &#123;<span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// 记录每个结点的连通分量</span><br><span class="hljs-keyword">int</span> highest = <span class="hljs-number">-1</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root, <span class="hljs-keyword">int</span> depth)</span> </span>&#123;<br>    visited[root] = <span class="hljs-literal">true</span>;<br>    highest = highest &gt; depth ? highest: depth;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; graphic[root].size(); i++) &#123;<br>        <span class="hljs-keyword">if</span> (visited[graphic[root][i]] == <span class="hljs-literal">false</span>) &#123;<br>            dfs(graphic[root][i], depth + <span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">initVisited</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        visited[i] = <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// 判断是否有多个连通分量。这个函数无法统计连通分量，只能判断连通分量是否超过一个</span><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">countConnected</span><span class="hljs-params">(<span class="hljs-keyword">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">int</span> count = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>        <span class="hljs-keyword">if</span> (!visited[i]) &#123;<br>            count++;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> count;<br>&#125;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span> &#123;</span><br>    <span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">int</span> count;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; parent;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; sz;<br>    <span class="hljs-keyword">public</span>:<br>    UnionFind(<span class="hljs-keyword">int</span> n) &#123;<br>        count = n;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            parent.push_back(i);<br>            sz.push_back(<span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (x != parent[x]) &#123; <span class="hljs-comment">// 路径压缩</span><br>            parent[x] = find(parent[x]);<br>        &#125;<br>        <span class="hljs-keyword">return</span> parent[x];<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quick_union</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> vR = find(v), wR = find(w);<br>        <span class="hljs-keyword">if</span> (vR == wR ) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">if</span> (sz[vR] &gt; sz[wR]) &#123;<br>            parent[wR] = vR;<br>            sz[vR] += sz[wR];<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            parent[vR] = wR;<br>            sz[wR] += sz[vR];<br>        &#125;<br>        count--;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getCount</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">connected</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> find(v) == find(w);<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, v, w;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-function">UnionFind <span class="hljs-title">uf</span><span class="hljs-params">(n+<span class="hljs-number">1</span>)</span></span>; <span class="hljs-comment">// id是1~n</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i++) &#123; <span class="hljs-comment">// n-1条边</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;v, &amp;w);<br>        graphic[v].push_back(w);<br>        graphic[w].push_back(v);<br>        uf.quick_union(v,w);<br>    &#125;<br>    <span class="hljs-keyword">if</span> (uf.getCount() &gt; <span class="hljs-number">2</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Error: %d components\n&quot;</span>, uf.getCount() - <span class="hljs-number">1</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>, maxHight = <span class="hljs-number">-1</span>; <span class="hljs-comment">// 开始对每个点进行遍历，并且记录每个点的最大深度。</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++) &#123;<br>            initVisited(n);<br>            highest = <span class="hljs-number">-1</span>;<br>            dfs(i, <span class="hljs-number">0</span>);<br>            ans[i] = highest;<br>            maxHight = maxHight &gt; highest ? maxHight : highest;<br>            count = countConnected(n);<br>            <span class="hljs-keyword">if</span> (count &gt; <span class="hljs-number">1</span>) &#123;<span class="hljs-keyword">break</span>;&#125;<br>        &#125;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)&#123;<br>            <span class="hljs-keyword">if</span> (maxHight == ans[i]) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, i);&#125;;<br>        &#125; <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>union-find</tag>
      
      <tag>dfs</tag>
      
      <tag>树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1013 Battle Over Cities</title>
    <link href="/2021/01/16/1013-Battle-Over-Cities/"/>
    <url>/2021/01/16/1013-Battle-Over-Cities/</url>
    
    <content type="html"><![CDATA[<h1 id="1013-Battle-Over-Cities"><a href="#1013-Battle-Over-Cities" class="headerlink" title="1013 Battle Over Cities"></a>1013 Battle Over Cities</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/CLjpGz.png" alt="CLjpGz"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题意思就是在一个连通图中，删去一个结点，需要添加多少边使得图重新连通起来。</p><p>用下图来举例</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/5mOVVl.png" alt="5mOVVl"></p><p>在当前连通图中，若把$3$给删除了，存在4个连通分量。而只需要添加$4-2=2$条线将其重新连通。</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/lye84M.png" alt="lye84M"></p><p>在该图中，把结点$1$删除后，剩下三个连通分量。而只需要添加$3-2=1$条线即可重新连通。</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/9nbLnk.png" alt="9nbLnk"></p><p>因此需要添加的线的数量为<strong>删除该结点后的新的连通图连通分量-2</strong>。</p><p>所以我们每次查询的时候，都需要重新建立连通分量。</p><p>实现步骤</p><ol><li>设置一个<code>cityMap</code>对象存储连通的路线。</li><li>写一个<code>UnionFind</code>类，每次查询重新创建一个该类对象，并且计算连通分量。</li><li>当遇到查询点的时候，不将其进行连接。</li></ol><p>⚠️</p><ul><li>城市的编号是$1 \sim N$，所以<code>UnionFind</code>的<code>n</code>初始值为<code>n+1</code></li><li>在PAT中，一直有一个<code>段错误</code>无法通过,在牛客网中则可以通过。</li></ul><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 记录输入的值，每次重建并查集,同时计算连通分量，连通分量-2就是需要链接的数量。</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1010</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UnionFind</span> &#123;</span><br>    <span class="hljs-keyword">private</span>:<br>    <span class="hljs-keyword">int</span> count;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; parent;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; sz;<br>    <span class="hljs-keyword">public</span>:<br>    UnionFind(<span class="hljs-keyword">int</span> n) &#123;<br>        count = n;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            parent.push_back(i);<br>            sz.push_back(<span class="hljs-number">1</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (x != parent[x]) &#123; <span class="hljs-comment">// 路径压缩</span><br>            parent[x] = find(parent[x]);<br>        &#125;<br>        <span class="hljs-keyword">return</span> parent[x];<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quick_union</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> vR = find(v), wR = find(w);<br>        <span class="hljs-keyword">if</span> (vR == wR ) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">if</span> (sz[vR] &gt; sz[wR]) &#123;<br>            parent[wR] = vR;<br>            sz[vR] += sz[wR];<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            parent[vR] = wR;<br>            sz[wR] += sz[vR];<br>        &#125;<br>        count--;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getCount</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">connected</span><span class="hljs-params">(<span class="hljs-keyword">int</span> v, <span class="hljs-keyword">int</span> w)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> find(v) == find(w);<br>    &#125;<br>&#125;;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, m, k;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; cityMap[maxn];<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;k);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) &#123;<br>        <span class="hljs-keyword">int</span> v, w;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;v, &amp;w); <span class="hljs-comment">// 输入两条边</span><br>        cityMap[i].push_back(v);<br>        cityMap[i].push_back(w);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) &#123; <span class="hljs-comment">// 开始查询</span><br>        <span class="hljs-keyword">int</span> cityID;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;cityID);<br>        <span class="hljs-function">UnionFind <span class="hljs-title">uf</span><span class="hljs-params">(n + <span class="hljs-number">1</span>)</span></span>; <span class="hljs-comment">// 城市编号是1-n，所以需要传入n+1</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j++) &#123; <span class="hljs-comment">// 每次重建并查集，重新计算连通分量。</span><br>            <span class="hljs-keyword">int</span> v = cityMap[j][<span class="hljs-number">0</span>], w = cityMap[j][<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span> (v == cityID || w == cityID) <span class="hljs-keyword">continue</span>;<br>            <span class="hljs-keyword">if</span> (!uf.connected(v,w)) &#123;uf.quick_union(v,w);&#125;<br>        &#125;<br>        <span class="hljs-keyword">int</span> ans = uf.getCount() - <span class="hljs-number">3</span> &gt; <span class="hljs-number">0</span> ? uf.getCount() - <span class="hljs-number">3</span>: <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans); <span class="hljs-comment">// 减去被删除的连通分量，0位置的连通分量，需要修复的一个分量。</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>本代码在PAT中有一个段错误，把代码复制到牛客网中，有一个用例无法通过。牛客网可以看到该测试用例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">1 0 1<br>1<br></code></pre></td></tr></table></figure><p>这里只需要在程序最后加一个判断就可以通过牛客网的用例。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">int</span> ans = uf.getCount() - <span class="hljs-number">3</span> &gt; <span class="hljs-number">0</span> ? uf.getCount() - <span class="hljs-number">3</span>: <span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure><p>但是PAT中的<code>段错误</code>的用例是什么还不知道。。。</p>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>union-find</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1053 Path of Equal Weight</title>
    <link href="/2021/01/16/1053-Path-of-Equal-Weight/"/>
    <url>/2021/01/16/1053-Path-of-Equal-Weight/</url>
    
    <content type="html"><![CDATA[<h1 id="1053-Path-of-Equal-Weight"><a href="#1053-Path-of-Equal-Weight" class="headerlink" title="1053 Path of Equal Weight"></a>1053 Path of Equal Weight</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/mR0f9v.png" alt="mR0f9v"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><div class="note note-success">            <p>重点：多条路径的时候如何以递减方式输出。</p>          </div><p>本题不是很难，目标是<strong>输出根到叶子路径权值和为给值的的路径</strong>。</p><p>难点是输出的时候如何路径按照权值大小以递减方式进行输出。在给定子结点后，可以对子结点根据权重从大到小进行排序。然后遍历的时候自然也是结点自然也是从大到小遍历，可以直接输出路径。</p><p>根结点到叶子路径如何实现。方法有很多，这里使用<code>vector</code>模拟一个<strong>栈</strong>，因为<code>C++</code>的<code>stack</code>无法进行遍历输出。所以采用<code>vector</code>的<code>push_back</code> <code>pop_back</code>模拟一个栈。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">101</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span> &#123;</span><br>    <span class="hljs-keyword">int</span> weight;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; children;<br>&#125;treenode[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> treenode[a].weight &gt; treenode[b].weight;<br>&#125;<br><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; path; <span class="hljs-comment">// 使用vector模拟栈，因为等会需要遍历输出路径。stack无法实现遍历输出</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root, <span class="hljs-keyword">int</span> w, <span class="hljs-keyword">int</span> s, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; path)</span> </span>&#123;<br>    path.push_back(root);<br>    w += treenode[root].weight;<br>    <span class="hljs-keyword">if</span> (treenode[root].children.size() == <span class="hljs-number">0</span> &amp;&amp; w == s) &#123; <span class="hljs-comment">// 找到一条路径,输出该路径</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; path.size(); i++) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, treenode[path[i]].weight);<br>            <span class="hljs-keyword">if</span> (i &lt; path.size() - <span class="hljs-number">1</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-comment">// 遍历子结点</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; treenode[root].children.size(); i++) &#123;<br>        dfs(treenode[root].children[i], w, s, path);<br>    &#125;<br>    path.pop_back();<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, m, s, w, parent, child, k;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;s);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123; <span class="hljs-comment">// 设置权重</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;w);<br>        treenode[i].weight = w;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) &#123; <span class="hljs-comment">// 设置子结点</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;parent, &amp;k);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; k; j++) &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;child);<br>            treenode[parent].children.push_back(child);<br>        &#125;<br>        <span class="hljs-comment">// 按权重开始排序，等会直接可以输出</span><br>        sort(treenode[parent].children.begin(), treenode[parent].children.end(), cmp);<br>    &#125;<br>    dfs(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,s,path);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>dfs</tag>
      
      <tag>树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>并查集总结</title>
    <link href="/2021/01/16/%E5%B9%B6%E6%9F%A5%E9%9B%86%E6%80%BB%E7%BB%93/"/>
    <url>/2021/01/16/%E5%B9%B6%E6%9F%A5%E9%9B%86%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="并查集"><a href="#并查集" class="headerlink" title="并查集"></a>并查集</h1><blockquote><p>参考自《算法4》</p></blockquote><p>算法API</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/guUjRV.png" alt="guUjRV"></p><ul><li>union() 将两个不同分量中的结点归并</li><li>find() 返回给定结点所在的连通分量标识</li><li>connected() 判断两个结点是否存在同一连通分量中</li><li>count() 返回连通分量个数，每次归并两个结点，连通分量数量-1</li></ul><p>union-find的实现</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UF</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, N</span>):</span><br>        self.count = N<br>        self.<span class="hljs-built_in">id</span> = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(N)) <span class="hljs-comment"># 初始化</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.count<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">connected</span>(<span class="hljs-params">self, p, q</span>):</span><br>        <span class="hljs-keyword">return</span> self.find(p) == self.find(q)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span>(<span class="hljs-params">self, p</span>):</span><br>        <span class="hljs-keyword">pass</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span>(<span class="hljs-params">self, p, q</span>):</span><br><span class="hljs-keyword">pass</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    data = [[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>], [<span class="hljs-number">2</span>,<span class="hljs-number">3</span>], [<span class="hljs-number">3</span>,<span class="hljs-number">4</span>], [<span class="hljs-number">1</span>,<span class="hljs-number">4</span>], [<span class="hljs-number">1</span>,<span class="hljs-number">5</span>]]<br>    size = <span class="hljs-built_in">len</span>(data)<br>    uf = UF(size + <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">for</span> v, w <span class="hljs-keyword">in</span> data:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> uf.connected(v, w):<br>            uf.union(v, w)<br>    <span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><p>三种不同方式</p><ul><li><code>quick-find</code></li><li><code>quick-union</code></li><li><code>加权quick-union</code></li></ul><h3 id="quick-find"><a href="#quick-find" class="headerlink" title="quick-find"></a>quick-find</h3><p>重点：实现<code>find()</code>的快速查找</p><p>属于同一连通分量的<code>id[i]</code>值都应该相同。</p><p>实现一</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span>(<span class="hljs-params">self, p</span>):</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">id</span>[p]<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span>(<span class="hljs-params">slef, p, q</span>):</span><br>p_id, q_id = self.find(p), self.find(q)<br><span class="hljs-keyword">if</span> p_id == q_id: <span class="hljs-keyword">return</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(<span class="hljs-built_in">id</span>)):<br><span class="hljs-keyword">if</span> <span class="hljs-built_in">id</span>[i] == p_id:<br><span class="hljs-built_in">id</span>[i] = q_id <span class="hljs-comment"># 将所有属于连通分量p_id的结点挂到q_id上</span><br>self.count -= <span class="hljs-number">1</span> <span class="hljs-comment"># 两个连通分量合并后，总连通分量数量-1</span><br></code></pre></td></tr></table></figure><p>分析</p><ul><li>find() 速度很快，每次查找执行操作都是$O(1)$</li><li>union() 每次都要遍历数组，执行操作$O(n)$。数据量过大时不适用。</li></ul><p>由于<code>union()</code>操作比较耗时，下面介绍第二种方法</p><h3 id="quick-union"><a href="#quick-union" class="headerlink" title="quick-union"></a>quick-union</h3><p>重点：提升<code>union()</code>的速度。</p><p>这里需要重新定义一下<code>id</code>变量的意义，之前方法一中，该变量的意义是<strong>标识一个连通分量</strong>。但是在这里，我们使用<code>id</code>表示的是<strong>同一连通分量中，另一个结点的id</strong>。为了混淆，重新写一下上面的代码，并且使用<code>parent</code>来替换<code>id</code>,<code>parent</code>表示<strong>在同一连通分量中，当前结点的上一个结点是谁，有可能该结点是本身</strong></p><p>在实现<code>find()</code>的方法时候，通过<code>parent</code>找到它的上一个结点，再继续找上一个结点的上一个结点。最终找到根结点（根结点即是指向自己的结点）。所以当两个结点找到同一个根结点，则证明它们在同一连通分量中。</p><p>而在<code>union</code>中则需要维持这个关系，找到两个结点的根结点。然后将其中一个根结点指向另一个根结点。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QuickUnionUF</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, N</span>):</span><br>        self.count = N<br>        self.parent = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(N)) <span class="hljs-comment"># 初始化</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.count<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">connected</span>(<span class="hljs-params">self, p, q</span>):</span><br>        <span class="hljs-keyword">return</span> self.find(p) == self.find(q)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span>(<span class="hljs-params">self, p</span>):</span> <span class="hljs-comment"># 寻找根结点</span><br><span class="hljs-keyword">while</span> p ¡= self.parent[p]: p = self.parent[p]<br><span class="hljs-keyword">return</span> p<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span>(<span class="hljs-params">self, p, q</span>):</span><br>p_root, q_root = self.find(p), self.find(q)<br><span class="hljs-keyword">if</span> p_root == q_root: <span class="hljs-keyword">return</span><br>self.parent[p_root] = q_root <span class="hljs-comment"># 合并，将其中一个根结点挂在到另一个根结点</span><br>self.count -= <span class="hljs-number">1</span> <span class="hljs-comment"># 连通分量数量 - 1</span><br><span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><p><code>quick-union</code>的实现形成了一个树形结构。</p><h3 id="加权quick-union"><a href="#加权quick-union" class="headerlink" title="加权quick-union"></a>加权quick-union</h3><p>重点：提升效率，减少树的高度。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WeightQuickUnionUF</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, N</span>):</span><br>        self.count = N<br>        self.parent = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(N)) <span class="hljs-comment"># 初始化</span><br>self.sz = [<span class="hljs-number">1</span>] * N <span class="hljs-comment"># 每个连通分量根结点的权重</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.count<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">connected</span>(<span class="hljs-params">self, p, q</span>):</span><br>        <span class="hljs-keyword">return</span> self.find(p) == self.find(q)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span>(<span class="hljs-params">self, p</span>):</span> <span class="hljs-comment"># 寻找根结点</span><br><span class="hljs-keyword">while</span> p ¡= self.parent[p]: p = self.parent[p]<br><span class="hljs-keyword">return</span> p<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span>(<span class="hljs-params">self, p, q</span>):</span><br>p_root, q_root = self.find(p), self.find(q)<br><span class="hljs-keyword">if</span> p_root == q_root: <span class="hljs-keyword">return</span><br><br><span class="hljs-comment"># 根据权重，将权重小的根结点挂在到权重大的根结点上</span><br><span class="hljs-keyword">if</span> self.sz[p_root] &gt; self.sz[q_root]:<br>self.parent[q_root] = p_root<br>self.sz[p_root] += self.sz[q_root]<br><span class="hljs-keyword">else</span>:<br>self.parent[p_root] = q_root<br>self.sz[q_root] += self.sz[p_root]<br><br>self.count -= <span class="hljs-number">1</span> <span class="hljs-comment"># 连通分量数量 - 1</span><br><span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><h2 id="绝招：路径压缩的加权quick-union"><a href="#绝招：路径压缩的加权quick-union" class="headerlink" title="绝招：路径压缩的加权quick-union"></a>绝招：路径压缩的加权quick-union</h2><p>重点：检查每个结点的同时，直接将该结点链接到它的根结点。</p><p>因为<code>quick-union</code>已经无法在优化了，所以只能从<code>quick-find</code>入手，对<code>find</code>方法进行下手。将每次在查找路径中遇到的结点链接到根结点上。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CompressRouteWeightQuickUnionUF</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, N</span>):</span><br>        self.count = N<br>        self.parent = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(N)) <span class="hljs-comment"># 初始化</span><br>self.sz = [<span class="hljs-number">1</span>] * N <span class="hljs-comment"># 每个连通分量根结点的权重</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.count<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">connected</span>(<span class="hljs-params">self, p, q</span>):</span><br>        <span class="hljs-keyword">return</span> self.find(p) == self.find(q)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span>(<span class="hljs-params">self, p</span>):</span> <span class="hljs-comment"># 寻找根结点</span><br><span class="hljs-keyword">if</span> (p != self.parent[p]):<br>self.parent[p] = self.find(self.parent[p]) <span class="hljs-comment"># 将每一个结点都链接到根结点上</span><br><span class="hljs-keyword">return</span> self.parent[p] <span class="hljs-comment"># 最后返回根结点的值</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span>(<span class="hljs-params">self, p, q</span>):</span><br>p_root, q_root = self.find(p), self.find(q)<br><span class="hljs-keyword">if</span> p_root == q_root: <span class="hljs-keyword">return</span><br><br><span class="hljs-comment"># 根据权重，将权重小的根结点挂在到权重大的根结点上</span><br><span class="hljs-keyword">if</span> self.sz[p_root] &gt; self.sz[q_root]:<br>self.parent[q_root] = p_root<br>self.sz[p_root] += self.sz[q_root]<br><span class="hljs-keyword">else</span>:<br>self.parent[p_root] = q_root<br>self.sz[q_root] += self.sz[p_root]<br><br>self.count -= <span class="hljs-number">1</span> <span class="hljs-comment"># 连通分量数量 - 1</span><br><span class="hljs-keyword">pass</span><br></code></pre></td></tr></table></figure><p>最后通过此方法，得到的是一个扁平的树。</p>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>leetcode</tag>
      
      <tag>并查集</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1090 Highest Price in Supply Chain</title>
    <link href="/2021/01/15/1090-Highest-Price-in-Supply-Chain/"/>
    <url>/2021/01/15/1090-Highest-Price-in-Supply-Chain/</url>
    
    <content type="html"><![CDATA[<h1 id="1090-Highest-Price-in-Supply-Chain"><a href="#1090-Highest-Price-in-Supply-Chain" class="headerlink" title="1090 Highest Price in Supply Chain"></a>1090 Highest Price in Supply Chain</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/l1FlAd.png" alt="题目"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>给出一个供应链网络，其中有三类成员</p><ul><li>retailers</li><li>distributors</li><li>suppliers</li></ul><p>输入分析</p><p>首先输入三个参数</p><ul><li>$N$: 供应网络上成员的数量，成员的ID范围 $0 \sim N - 1$</li><li>$P$: 顶级（根）供应商的每件货物的价格</li><li>$r$: 每一级传下来增加的价格百分比。</li></ul><p>接下来是$N$个输入。每个输入假设叫做<code>S_i</code>。<code>S_i</code>别是的是第$i$个成员的供应商是谁。</p><p>输出分析</p><p>输出到零售商最高的价值和拥有最高价格的零售商的数量。</p><p>根据上面分析。转化为树的题目，即<strong>求一棵树最大深度的叶子结点数量和最大深度</strong>。</p><p><del>考虑使用静态二叉树，其结构如下,因为不需要存储数据，只需要存储子结点即可</del>。</p><p>本题可以直接使用<code>vector</code>数组来表示一个静态二叉树，索引表示该父结点<code>id</code>,索引內的数组表示子结点的<code>id</code>,结构如下。(代码部分暂时使用原来的静态二叉树，不做改动。)</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment">const int maxn = 100010;</span><br><span class="hljs-comment">struct TreeNode&#123;</span><br><span class="hljs-comment">    vector&lt;int&gt; children;</span><br><span class="hljs-comment">&#125;treenode[maxn];</span><br><span class="hljs-comment">**/</span><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; treenode[maxn];<br></code></pre></td></tr></table></figure><p>然后在输入数据的时候构建一个树，将输入的<code>id</code>作为树的索引，而当前索引<code>i</code>则是树<code>id</code>的子结点。</p><p>⚠️ 当<code>id=-1</code>是需要记录一下根结点。</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;id);<br><span class="hljs-keyword">if</span> (id != <span class="hljs-number">-1</span>) &#123;treenode[id].children.push_back(i);&#125;<br><span class="hljs-keyword">else</span> &#123;root = i;&#125; <span class="hljs-comment">// 根结点</span><br>&#125;<br></code></pre></td></tr></table></figure><p>最后使用<code>BFS</code>对每一层进行遍历。其中每一层的数量正好是栈的数量<code>q.size()</code>。所以只需要在每一层不断更新<code>highestPrice,maxNum</code>两个变量即可。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 最后一层有多少个叶子结点。然后计算出它的最高价格</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100010</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span>&#123;</span><br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; children;<br>&#125;treenode[maxn];<br><br><span class="hljs-keyword">int</span> n; <span class="hljs-comment">// n个供应商，id供应商id，根供应商</span><br><span class="hljs-keyword">double</span> P, r;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> depth = <span class="hljs-number">0</span>, maxNum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">double</span> highestPrice = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.push(root);<br>    <span class="hljs-keyword">while</span> (!q.empty()) &#123;<br>        <span class="hljs-keyword">int</span> size = q.size();<br>        maxNum = size;<br>        highestPrice = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>            <span class="hljs-keyword">int</span> node = q.front(); q.pop();<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; treenode[node].children.size(); j++) &#123;<br>                q.push(treenode[node].children[j]);<br>            &#125;<br>        &#125;<br>        highestPrice = P * <span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span>+r, depth++);<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.2lf %d\n&quot;</span>, highestPrice, maxNum);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> id, root;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%lf%lf&quot;</span>, &amp;n, &amp;P, &amp;r);<br>    r /= <span class="hljs-number">100</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;id);<br>        <span class="hljs-keyword">if</span> (id != <span class="hljs-number">-1</span>) &#123;treenode[id].children.push_back(i);&#125;<br>        <span class="hljs-keyword">else</span> &#123;root = i;&#125; <span class="hljs-comment">// 根结点</span><br>    &#125;<br>    bfs(root);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>bfs</tag>
      
      <tag>树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>BFS遍历模板</title>
    <link href="/2021/01/15/BFS%E9%81%8D%E5%8E%86%E6%A8%A1%E6%9D%BF/"/>
    <url>/2021/01/15/BFS%E9%81%8D%E5%8E%86%E6%A8%A1%E6%9D%BF/</url>
    
    <content type="html"><![CDATA[<h1 id="BFS遍历模板"><a href="#BFS遍历模板" class="headerlink" title="BFS遍历模板"></a>BFS遍历模板</h1><div class="note note-warning">            <p>有两种</p><ul><li>以结点为单位进行搜索，适用于<strong>图</strong></li><li>以层为单位进行搜索，适用于<strong>树</strong></li></ul>          </div><h2 id="结点为单位：图"><a href="#结点为单位：图" class="headerlink" title="结点为单位：图"></a>结点为单位：图</h2><p>C++</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">def <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>&#123;<br>visited[x] = <span class="hljs-literal">true</span>;<br><span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>q.push(x);<br><span class="hljs-keyword">while</span> (!q.empty()) &#123;<br><span class="hljs-keyword">int</span> node = q.front();<br>q.pop();<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; graphic[node].size(); i++) &#123;<br><span class="hljs-keyword">if</span> (!visited[graphic[node][i]]) &#123;<br>q.push(graphic[node][i]);<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>Python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">BFS</span>(<span class="hljs-params">x</span>):</span><br>    visit(x)<br>    bfs = collections.deque([x])<br>    <span class="hljs-keyword">while</span> bfs:<br>        v = bfs.popleft()<br>        <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> neighbor(v):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visited(n):<br>                visit(n)<br>                bfs.append(n)<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><h2 id="以层为单位：树"><a href="#以层为单位：树" class="headerlink" title="以层为单位：树"></a>以层为单位：树</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">maxDepth</span><span class="hljs-params">(Node* root)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> depth = <span class="hljs-number">0</span>;<br>        <span class="hljs-built_in">queue</span>&lt;Node*&gt; q;<br>        q.push(root);<br>        <span class="hljs-keyword">while</span> (!q.empty()) &#123;<br>            <span class="hljs-keyword">int</span> size = q.size();<br><span class="hljs-comment">// 操作。这里为计算树的深度</span><br>            depth++;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>                Node* node = q.front();<br>                q.pop();<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; node-&gt;children.size(); j++) &#123;<br>                    q.push(node-&gt;children[j]);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> depth;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>Python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">BFS</span>(<span class="hljs-params">x</span>):</span><br>    visit(x)<br>    bfs = collections.deque([x])<br>    <span class="hljs-keyword">while</span> bfs:<br>        num_level = <span class="hljs-built_in">len</span>(bfs)<br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num_level)<br>            v = bfs.popleft()<br>            <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> neighbor(v):<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visited(v):<br>                    visit(n)<br>                    bfs.append(n)<br>    <span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>bfs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1079 Total Sales of Supply Chain</title>
    <link href="/2021/01/15/1079-Total-Sales-of-Supply-Chain/"/>
    <url>/2021/01/15/1079-Total-Sales-of-Supply-Chain/</url>
    
    <content type="html"><![CDATA[<h1 id="1079-Total-Sales-of-Supply-Chain"><a href="#1079-Total-Sales-of-Supply-Chain" class="headerlink" title="1079 Total Sales of Supply Chain"></a>1079 Total Sales of Supply Chain</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/vlJ1r4.png" alt="题目"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>先分析题目想表达什么意思。</p><p>一个供应链网络有三类角色</p><ul><li>retailers</li><li>distributors</li><li>suppliers</li></ul><p>输入分析</p><p>首先输入三个参数</p><ul><li>$N$: 供应网络上成员的数量，成员的ID范围 $0 \sim N - 1$</li><li>$P$: 顶级（根）供应商的每件货物的价格</li><li>$r$: 每一级传下来增加的价格百分比。</li></ul><p>接下来是$N$个输入。</p><p>$K_i \quad ID[1] \quad ID[2] … ID[K_i]$</p><ul><li>$i$表示第$i$个供应商。</li><li>$K_i$表示第$i$个供应商供应成员的数量。</li><li>$ID$，则是成员的$ID$。</li><li>⭐️其中$K_i = 0$表示的是$ID=i$的成员是零售商，然后后面那个数则表示该零售商进货的数量。</li></ul><p>根据题目中的输入，可以得到下面这个树形图。</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/l7lba9.png" alt="l7lba9"></p><p>因此题目要求的就是到零售商这一级的总销售额。</p><p>$$<br>1.8*((7+9)<em>(1+0.01)^2 + (4+3)</em>(1+0.01)^3)=42.4<br>$$</p><p>根据上面分析。这里使用静态二叉树。我们需要将数据分成两种</p><ul><li>非叶子结点。$K_i!=0$的结点。该结点需要存储<strong>供应链的下一级(子结点)</strong></li><li>叶子结点。$K_i=0$的结点。该结点需要存储<strong>进货量</strong>。</li></ul><p>然后使用<code>BFS,DFS</code>求出叶子结点深度。在计算结果即可。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>C++</p><blockquote><p>bfs和dfs方法两者都写了，把注释取消即可。</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100010</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span>&#123;</span><br>    <span class="hljs-keyword">int</span> val;<br>    <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; children;<br>&#125;treenode[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> idx, <span class="hljs-keyword">int</span> depth, <span class="hljs-keyword">double</span> r, <span class="hljs-keyword">double</span>&amp; ans)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (treenode[idx].children.size() == <span class="hljs-number">0</span>) &#123;<br>        ans += treenode[idx].val * <span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span> + r, depth);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; treenode[idx].children.size(); i++) &#123;<br>        dfs(treenode[idx].children[i], depth + <span class="hljs-number">1</span>, r, ans);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> idx, <span class="hljs-keyword">int</span> depth, <span class="hljs-keyword">double</span> r, <span class="hljs-keyword">double</span>&amp; ans)</span> </span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.push(<span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">while</span> (!q.empty()) &#123;<br>        <span class="hljs-keyword">int</span> size = q.size();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>             <span class="hljs-keyword">int</span> node = q.front();<br>            q.pop();<br>            <span class="hljs-keyword">if</span> (treenode[node].children.size() == <span class="hljs-number">0</span>) &#123;<br>                ans += treenode[node].val * <span class="hljs-built_in">pow</span>(<span class="hljs-number">1</span> + r, depth);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; treenode[node].children.size(); i++) &#123;<br>                    q.push(treenode[node].children[i]);<br>                &#125;<br>            &#125;<br>        &#125;<br>        depth++;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">double</span> P, r;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%lf%lf&quot;</span>, &amp;n, &amp;P, &amp;r);<br>    <span class="hljs-keyword">int</span> val, k;<br>    r /= <span class="hljs-number">100</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;k);<br>        <span class="hljs-keyword">if</span> (k == <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// k = 0证明是叶子结点</span><br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;treenode[i].val);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; k; j++) &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;val);<br>                treenode[i].children.push_back(val);<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">double</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// dfs(0,0,r,ans);</span><br>    bfs(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,r,ans);<br><br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%.1lf\n&quot;</span>, P * ans);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>dfs</tag>
      
      <tag>bfs</tag>
      
      <tag>树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1102 Invert a Binary Tree</title>
    <link href="/2021/01/15/1102-Invert-a-Binary-Tree/"/>
    <url>/2021/01/15/1102-Invert-a-Binary-Tree/</url>
    
    <content type="html"><![CDATA[<h1 id="1102-Invert-a-Binary-Tree"><a href="#1102-Invert-a-Binary-Tree" class="headerlink" title="1102 Invert a Binary Tree"></a>1102 Invert a Binary Tree</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/wAVNFn.png" alt="wAVNFn"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><div class="note note-warning">            <p>难点：输入数据的处理</p>          </div><ol><li>使用静态二叉树结构</li><li>设置一个bool数组，假设所有结点是根结点。当读取子结点的时候，设置子结点为false</li><li>使用后序遍历交换两边</li><li>使用层次和中序遍历输出结果</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 1. 使用静态二叉树结构</span><br><span class="hljs-comment">// 2. 设置一个bool数组，假设所有结点是根结点。当读取子结点的时候，设置子结点为false</span><br><span class="hljs-comment">// 3. 使用后序遍历交换两边</span><br><span class="hljs-comment">// 4. 使用层次和中序遍历输出结果</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">10010</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span>&#123;</span><br>    <span class="hljs-keyword">int</span> left, right;<br>&#125;treenode[maxn];<br><br><span class="hljs-keyword">bool</span> isRoot[maxn]; <span class="hljs-comment">// 无法设置为true，这样只可以设置第一个值为true。但是设置为false却可以。</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">ch2num</span><span class="hljs-params">(<span class="hljs-keyword">char</span> c)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (c == <span class="hljs-string">&#x27;-&#x27;</span>) &#123;<span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;&#125;<br>    isRoot[c - <span class="hljs-string">&#x27;0&#x27;</span>] = <span class="hljs-literal">false</span>; <span class="hljs-comment">// 子结点</span><br>    <span class="hljs-keyword">return</span> c - <span class="hljs-string">&#x27;0&#x27;</span>;<br>&#125;<br><br><span class="hljs-comment">// 交换左右子树</span><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">posttravel</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span>;<br>    posttravel(treenode[root].left);<br>    posttravel(treenode[root].right);<br>    swap(treenode[root].left, treenode[root].right);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root, <span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;<span class="hljs-keyword">int</span>&gt; q;<br>    q.push(root);<br>    <span class="hljs-keyword">while</span> (!q.empty()) &#123;<br>        <span class="hljs-keyword">int</span> node = q.front();<br>        q.pop();<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, node);<br>        <span class="hljs-keyword">if</span> (--n) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);&#125;<br>        <span class="hljs-keyword">if</span> (treenode[node].left != <span class="hljs-number">-1</span>) q.push(treenode[node].left);<br>        <span class="hljs-keyword">if</span> (treenode[node].right != <span class="hljs-number">-1</span>) q.push(treenode[node].right);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">intravel</span><span class="hljs-params">(<span class="hljs-keyword">int</span> root, <span class="hljs-keyword">int</span>&amp; n)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-number">-1</span>) <span class="hljs-keyword">return</span>;<br>    intravel(treenode[root].left, n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, root);<br>    <span class="hljs-keyword">if</span> (--n) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);&#125;<br>    intravel(treenode[root].right, n);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">memset</span>(isRoot, <span class="hljs-literal">true</span>, <span class="hljs-keyword">sizeof</span>(isRoot)); <span class="hljs-comment">// 需要引入头文件 &lt;memory.h&gt; or &lt;string.h&gt;</span><br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-keyword">char</span> c1, c2;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        getchar(); <span class="hljs-comment">//吸收回车字符</span><br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%c %c&quot;</span>, &amp;c1, &amp;c2);<br>        treenode[i].left = ch2num(c1);<br>        treenode[i].right = ch2num(c2);<br>    &#125;<br>    <span class="hljs-keyword">int</span> root = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">if</span> (isRoot[i]) &#123;<br>            root = i;<br>            <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>    posttravel(root);<br>    bfs(root, n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    intravel(root, n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ul><li><code>memset</code>的使用需要引入头文件<code>memory.h</code> or <code>string.h</code></li></ul>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>二叉树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1086 Tree Traversals Again</title>
    <link href="/2021/01/14/1086-Tree-Traversals-Again/"/>
    <url>/2021/01/14/1086-Tree-Traversals-Again/</url>
    
    <content type="html"><![CDATA[<h1 id="1086-Tree-Traversals-Again"><a href="#1086-Tree-Traversals-Again" class="headerlink" title="1086 Tree Traversals Again"></a>1086 Tree Traversals Again</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/Fo0YeY.png" alt="Fo0YeY"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题使用栈模拟先序遍历和中序遍历，其中</p><ul><li><code>push</code>: 1,2,3,4,5,6 为先序遍历</li><li><code>pop</code>: 3,2,4,1,6,5 为中序遍历</li></ul><p>输出它的后续遍历。因此可以先使用栈储存它的输入，同时构建<code>preorder, inorder</code>序列。再通过<strong>先序遍历和中序遍历求出后序遍历</strong></p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; preorder, inorder;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span> &#123;</span><br>    <span class="hljs-keyword">int</span> val;<br>    TreeNode *left, *right;<br>&#125;;<br><br><span class="hljs-function">TreeNode* <span class="hljs-title">createTree</span><span class="hljs-params">(<span class="hljs-keyword">int</span> preL, <span class="hljs-keyword">int</span> preR, <span class="hljs-keyword">int</span> inL, <span class="hljs-keyword">int</span> inR, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; preorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (preL &gt; preR) <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>    TreeNode *root = <span class="hljs-keyword">new</span> TreeNode;<br>    root-&gt;val = preorder[preL];<br>    <span class="hljs-keyword">int</span> mid = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (mid = inL; mid &lt;= inR; mid++) &#123;<br>        <span class="hljs-keyword">if</span> (inorder[mid] == preorder[preL]) <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> leftNum = mid - inL;<br>    root-&gt;left = createTree(preL + <span class="hljs-number">1</span>, preL + leftNum, inL, mid - <span class="hljs-number">1</span>, preorder, inorder);<br>    root-&gt;right = createTree(preL + leftNum + <span class="hljs-number">1</span>, preR, mid + <span class="hljs-number">1</span>, inR, preorder, inorder);<br>    <span class="hljs-keyword">return</span> root;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">posttravel</span><span class="hljs-params">(TreeNode* root, <span class="hljs-keyword">int</span> &amp;n)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (root == <span class="hljs-literal">NULL</span>) <span class="hljs-keyword">return</span>;<br>    posttravel(root-&gt;left, n);<br>    posttravel(root-&gt;right, n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, root-&gt;val);<br>    <span class="hljs-keyword">if</span> (--n) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">char</span> s[<span class="hljs-number">5</span>];<br>    <span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; st;<br>    <span class="hljs-keyword">int</span> n, val;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2</span>*n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%s&quot;</span>, s);<br>        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">strcmp</span>(s, <span class="hljs-string">&quot;Push&quot;</span>) == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;val);<br>            st.push(val);<br>            preorder.push_back(val);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            inorder.push_back(st.top());<br>            st.pop();<br>        &#125;<br>    &#125;<br>    TreeNode* root = createTree(<span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, preorder, inorder);<br>    posttravel(root, n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>中序遍历</tag>
      
      <tag>二叉树</tag>
      
      <tag>先序遍历</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>105. 从前序与中序遍历序列构造二叉树</title>
    <link href="/2021/01/14/105-%E4%BB%8E%E5%89%8D%E5%BA%8F%E4%B8%8E%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    <url>/2021/01/14/105-%E4%BB%8E%E5%89%8D%E5%BA%8F%E4%B8%8E%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h1 id="105-从前序与中序遍历序列构造二叉树"><a href="#105-从前序与中序遍历序列构造二叉树" class="headerlink" title="105. 从前序与中序遍历序列构造二叉树"></a><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/">105. 从前序与中序遍历序列构造二叉树</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/8Fzs61.png" alt="8Fzs61"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>参考<a href="https://emhui.fun/2021/01/14/106-%E4%BB%8E%E4%B8%AD%E5%BA%8F%E4%B8%8E%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91/">106. 从中序与后序遍历序列构造二叉树</a></p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">TreeNode* <span class="hljs-title">buildTree</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; preorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> createTree(<span class="hljs-number">0</span>, preorder.size() - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, inorder.size() - <span class="hljs-number">1</span>, preorder, inorder);<br>    &#125;<br><br>    <span class="hljs-function">TreeNode* <span class="hljs-title">createTree</span><span class="hljs-params">(<span class="hljs-keyword">int</span> preL, <span class="hljs-keyword">int</span> preR, <span class="hljs-keyword">int</span> inL, <span class="hljs-keyword">int</span> inR, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; preorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (preL &gt; preR) <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>        TreeNode *root = <span class="hljs-keyword">new</span> TreeNode;<br>        root-&gt;val = preorder[preL];<br>        <span class="hljs-keyword">int</span> mid = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (mid = inL; mid &lt;= inR; mid++) &#123;<br>            <span class="hljs-keyword">if</span> (inorder[mid] == preorder[preL]) <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> leftNum = mid - inL;<br>        root-&gt;left = createTree(preL + <span class="hljs-number">1</span>, preL + leftNum, inL, mid - <span class="hljs-number">1</span>, preorder, inorder);<br>        root-&gt;right = createTree(preL + leftNum + <span class="hljs-number">1</span>, preR, mid + <span class="hljs-number">1</span>, inR, preorder, inorder);<br>        <span class="hljs-keyword">return</span> root;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>leetcode</tag>
      
      <tag>二叉树</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1020 Tree Traversals</title>
    <link href="/2021/01/14/1020-Tree-Traversals/"/>
    <url>/2021/01/14/1020-Tree-Traversals/</url>
    
    <content type="html"><![CDATA[<h1 id="1020-Tree-Traversals"><a href="#1020-Tree-Traversals" class="headerlink" title="1020 Tree Traversals"></a>1020 Tree Traversals</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/SSNibA.png" alt="SSNibA"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题目的是<strong>给出后续遍历和中序遍历，输出层次遍历</strong>。因此本题分为两步</p><ol><li>根据后序遍历和中序遍历推断出二叉树<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="106. 从中序与后序遍历序列构造二叉树">[1]</span></a></sup>。</li><li>使用BFS层次遍历二叉树。</li></ol><p>这里分析第一点实现的思路:由用后序遍历序列和中序遍历序列来重建二叉树。</p><p>假设递归过程中某步的后序序列区间为[postL, postR],中序序列区间为[inL, inR],那么由后序序列性质可知,后序序列的最后一个元素post[postR]即为根结点。接着需要在中序序列中寻找一个位置k,使得in(k]=postpostR],这样就找到了中序序列中的根结点。易知左子树结点个数为numLeft=k-inL,于是左子树的后序序列区间为[postL, postL + numLeft1],左子树的中序序列区间为[inL, k-1];右子树的后序序列区间为[postL + numLefj),右子树的中序序列区间为k + 1, inR]。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 先构建好二叉树，再用bfs遍历.</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; postorder, inorder;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">TreeNode</span>&#123;</span><br>    <span class="hljs-keyword">int</span> val;<br>    TreeNode *left, *right;<br>&#125;;<br><br><span class="hljs-function">TreeNode* <span class="hljs-title">createTree</span><span class="hljs-params">(<span class="hljs-keyword">int</span> inL, <span class="hljs-keyword">int</span> inR, <span class="hljs-keyword">int</span> postL, <span class="hljs-keyword">int</span> postR, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; postorder)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (postL &gt; postR) <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>    TreeNode* node = <span class="hljs-keyword">new</span> TreeNode;<br>    node-&gt;val = postorder[postR];<br>    <span class="hljs-keyword">int</span> mid = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (mid = inL; mid &lt;= inR; mid++) &#123; <span class="hljs-comment">// 找到中序遍历的根结点位置</span><br>        <span class="hljs-keyword">if</span> (inorder[mid] == node-&gt;val) <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">int</span> leftNum = mid - inL; <span class="hljs-comment">// 左子树的数量</span><br>    node-&gt;left = createTree(inL, mid - <span class="hljs-number">1</span>, postL, postL + leftNum - <span class="hljs-number">1</span>, inorder, postorder);<br>    node-&gt;right = createTree(mid + <span class="hljs-number">1</span>, inR, postL + leftNum, postR - <span class="hljs-number">1</span>, inorder, postorder);<br>    <span class="hljs-keyword">return</span> node;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bfs</span><span class="hljs-params">(TreeNode* root, <span class="hljs-keyword">int</span> n)</span> </span>&#123;<br>    <span class="hljs-built_in">queue</span>&lt;TreeNode*&gt;  q;<br>    q.push(root);<br>    <span class="hljs-keyword">while</span> (!q.empty()) &#123;<br>        TreeNode* node = q.front();<br>        q.pop();<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, node-&gt;val);<br>        n--;<br>        <span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">0</span>) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot; &quot;</span>);&#125;;<br>        <span class="hljs-keyword">if</span> (node-&gt;left != <span class="hljs-literal">NULL</span>) q.push(node-&gt;left);<br>        <span class="hljs-keyword">if</span> (node-&gt;right != <span class="hljs-literal">NULL</span>) q.push(node-&gt;right);<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, val;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;val);<br>        postorder.push_back(val);<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i ++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;val);<br>        inorder.push_back(val);<br>    &#125;<br>    TreeNode* root = createTree(<span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, n - <span class="hljs-number">1</span>, inorder, postorder);<br>    bfs(root, n);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://emhui.fun/2021/01/14/106-%E4%BB%8E%E4%B8%AD%E5%BA%8F%E4%B8%8E%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91/">106. 从中序与后序遍历序列构造二叉树</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>bfs</tag>
      
      <tag>后序遍历</tag>
      
      <tag>中序遍历</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>106. 从中序与后序遍历序列构造二叉树</title>
    <link href="/2021/01/14/106-%E4%BB%8E%E4%B8%AD%E5%BA%8F%E4%B8%8E%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91/"/>
    <url>/2021/01/14/106-%E4%BB%8E%E4%B8%AD%E5%BA%8F%E4%B8%8E%E5%90%8E%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91/</url>
    
    <content type="html"><![CDATA[<h1 id="106-从中序与后序遍历序列构造二叉树"><a href="#106-从中序与后序遍历序列构造二叉树" class="headerlink" title="106. 从中序与后序遍历序列构造二叉树"></a><a href="https://leetcode-cn.com/problems/construct-binary-tree-from-inorder-and-postorder-traversal/">106. 从中序与后序遍历序列构造二叉树</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><div class="note note-warning">            <p>难度：中等</p>          </div><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/qPKWr8.png" alt="qPKWr8"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>分析由用后序遍历序列和中序遍历序列来重建二叉树。</p><p>假设递归过程中某步的后序序列区间为[postL, postR],中序序列区间为[inL, inR],那么由后序序列性质可知,后序序列的最后一个元素post[postR]即为根结点。接着需要在中序序列中寻找一个位置k,使得in(k]=postpostR],这样就找到了中序序列中的根结点。易知左子树结点个数为numLeft=k-inL,于是左子树的后序序列区间为[postL, postL + numLeft1],左子树的中序序列区间为[inL, k-1];右子树的后序序列区间为[postL + numLefj),右子树的中序序列区间为k + 1, inR]。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for a binary tree node.</span><br><span class="hljs-comment"> * struct TreeNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     TreeNode *left;</span><br><span class="hljs-comment"> *     TreeNode *right;</span><br><span class="hljs-comment"> *     TreeNode(int x) : val(x), left(NULL), right(NULL) &#123;&#125;</span><br><span class="hljs-comment"> * &#125;;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function">TreeNode* <span class="hljs-title">buildTree</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; postorder)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> createTree(<span class="hljs-number">0</span>, inorder.size() - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, postorder.size() - <span class="hljs-number">1</span>, inorder, postorder);<br>    &#125;<br>    <span class="hljs-function">TreeNode* <span class="hljs-title">createTree</span><span class="hljs-params">(<span class="hljs-keyword">int</span> inL, <span class="hljs-keyword">int</span> inR, <span class="hljs-keyword">int</span> postL, <span class="hljs-keyword">int</span> postR, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; inorder, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; postorder)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (postL &gt; postR) <span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;<br>        TreeNode* node = <span class="hljs-keyword">new</span> TreeNode;<br>        node-&gt;val = postorder[postR];<br>        <span class="hljs-keyword">int</span> mid = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (mid = inL; mid &lt;= inR; mid++) &#123; <span class="hljs-comment">// 找到中序遍历的根结点位置</span><br>            <span class="hljs-keyword">if</span> (inorder[mid] == node-&gt;val) <span class="hljs-keyword">break</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> leftNum = mid - inL; <span class="hljs-comment">// 左子树的数量</span><br>        node-&gt;left = createTree(inL, mid - <span class="hljs-number">1</span>, postL, postL + leftNum - <span class="hljs-number">1</span>, inorder, postorder);<br>        node-&gt;right = createTree(mid + <span class="hljs-number">1</span>, inR, postL + leftNum, postR - <span class="hljs-number">1</span>, inorder, postorder);<br>        <span class="hljs-keyword">return</span> node;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>后序遍历</tag>
      
      <tag>leetcode</tag>
      
      <tag>二叉树</tag>
      
      <tag>前序遍历</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1091 Acute Stroke</title>
    <link href="/2021/01/14/1091-Acute-Stroke/"/>
    <url>/2021/01/14/1091-Acute-Stroke/</url>
    
    <content type="html"><![CDATA[<h1 id="1091-Acute-Stroke"><a href="#1091-Acute-Stroke" class="headerlink" title="1091 Acute Stroke"></a>1091 Acute Stroke</h1><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/VMhdDm.png" alt="题目"></p><p>部分专有名词</p><ul><li><code>MBR</code>: (Magnetic Resonance Imaging) 核磁共振成像。</li><li><code>threshold</code>: 门槛,阈值。</li></ul><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题意思是<strong>给出一个三维数组,数组元素的取值为0或1。与某一个元素相邻的元素为其上、下、左、右、前、后这6个方向的邻接元素。另外,若干个相邻的”1”称为一个“块” (不必两两相邻,只要与块中某一个”1”相邻,该”1”就在块中),而如果某个块中的“1”的个数不低于T个,那么称这个块为“卒中核心区”。现在需要求解所有卒中核心区中的1的个数之和。</strong></p><p>本题是一个三维的BFS。基本思路是:枚举三维数组中的每一个位置,如果为0,则跳过;如果为1,则使用BFS查询与该位置相邻的6个位置(前提是不出界),判断它们是否为1 (如果某个相邻的位置为1,则同样去查询与该位置相邻的6个位置,直到整个”1”块访问完毕)。而为了防止重复,可以设置一个bool型数组<code>visited</code>来记录每个位置是否在BFS中已入过队。</p><p>其中枚举6个方向的代码如下</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">int</span> X[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// X方向移动</span><br><span class="hljs-keyword">int</span> Y[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// Y方向移动</span><br><span class="hljs-keyword">int</span> Z[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;; <span class="hljs-comment">// Z方向移动</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">6</span>; i++) &#123;<br><span class="hljs-keyword">int</span> newX = top.x + X[i];<br><span class="hljs-keyword">int</span> newY = top.y + Y[i];<br><span class="hljs-keyword">int</span> newZ = top.z + Z[i];<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 题目意思，计算每个点附近的连通情况，若连通，即1的数量，若该层1的数量大于T则符合条件</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;queue&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> x, y, z;<br>&#125;Node;<br><br><span class="hljs-keyword">int</span> M, N, L, T;<br><br><span class="hljs-keyword">int</span> pixel[<span class="hljs-number">1296</span>][<span class="hljs-number">130</span>][<span class="hljs-number">61</span>]; <span class="hljs-comment">// M N L</span><br><span class="hljs-keyword">bool</span> visited[<span class="hljs-number">1296</span>][<span class="hljs-number">130</span>][<span class="hljs-number">61</span>] = &#123;<span class="hljs-literal">false</span>&#125;; <span class="hljs-comment">// M N L</span><br><br><span class="hljs-keyword">int</span> X[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// X方向移动</span><br><span class="hljs-keyword">int</span> Y[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>&#125;; <span class="hljs-comment">// Y方向移动</span><br><span class="hljs-keyword">int</span> Z[<span class="hljs-number">6</span>] = &#123;<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">-1</span>&#125;; <span class="hljs-comment">// Z方向移动</span><br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isVaildNode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (x &lt; <span class="hljs-number">0</span> || x &gt;= M || y &lt; <span class="hljs-number">0</span> || y &gt;= N || z &lt; <span class="hljs-number">0</span> || z &gt;= L) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span> (pixel[x][y][z] == <span class="hljs-number">0</span> || visited[x][y][z] == <span class="hljs-literal">true</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">bfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">int</span> y, <span class="hljs-keyword">int</span> z)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">queue</span>&lt;node&gt; Q;<br>    Node.x = x, Node.y = y, Node.z = z;<br>    Q.push(Node);<br>    visited[x][y][z] = <span class="hljs-literal">true</span>; <span class="hljs-comment">// 记住这个一定要写。当前的入队</span><br>    <span class="hljs-keyword">while</span> (!Q.empty()) &#123;<br>        node top = Q.front();<br>        Q.pop();<br>        num++; <span class="hljs-comment">// 满足数量+1</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">6</span>; i++) &#123;<br>            <span class="hljs-keyword">int</span> newX = top.x + X[i];<br>            <span class="hljs-keyword">int</span> newY = top.y + Y[i];<br>            <span class="hljs-keyword">int</span> newZ = top.z + Z[i];<br>            <span class="hljs-keyword">if</span> (isVaildNode(newX, newY, newZ)) &#123;<br>                Node.x = newX, Node.y = newY, Node.z = newZ;<br>                Q.push(Node);<br>                visited[newX][newY][newZ] = <span class="hljs-literal">true</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> num &gt;= T ? num : <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d%d&quot;</span>, &amp;M, &amp;N, &amp;L, &amp;T);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> z = <span class="hljs-number">0</span>; z &lt; L; z++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>; x &lt; M; x++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> y = <span class="hljs-number">0</span>; y &lt; N; y++) &#123;<br>                <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;pixel[x][y][z]); <span class="hljs-comment">// 注意xyz顺序</span><br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> z = <span class="hljs-number">0</span>; z &lt; L; z++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>; x &lt; M; x++) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> y = <span class="hljs-number">0</span>; y &lt; N; y++)<br>            &#123;<br>                <span class="hljs-keyword">if</span> (pixel[x][y][z] == <span class="hljs-number">1</span> &amp;&amp; visited[x][y][z] == <span class="hljs-literal">false</span>)&#123;<br>                    ans += bfs(x, y, z);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>bfs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>990. Satisfiability of Equality Equations</title>
    <link href="/2021/01/14/990-Satisfiability-of-Equality-Equations/"/>
    <url>/2021/01/14/990-Satisfiability-of-Equality-Equations/</url>
    
    <content type="html"><![CDATA[<h1 id="990-Satisfiability-of-Equality-Equations"><a href="#990-Satisfiability-of-Equality-Equations" class="headerlink" title="990. Satisfiability of Equality Equations"></a><a href="https://leetcode-cn.com/problems/satisfiability-of-equality-equations/">990. Satisfiability of Equality Equations</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><div class="note note-warning">            <p>难度：中等</p>          </div><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/oY9FRa.png" alt="oY9FRa"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>这里考察等式是否成立，若两个值本来就相等，但是出现不等的情况，说明有矛盾，等式不成立。因此可以反过来想，若一个不等式中出现了等式的情况，那么也是有矛盾。所以题目可以转化为<strong>判断一个不等式的两个值在一个连通图中是否连通，若连通，则矛盾，返回false</strong>。使用<strong>并查集</strong>可以判断两个点的连通问题。</p><p>⚠️ 这里使用<code>dict</code>将每个字符与唯一数字进行映射。因为，数组查找元素的速度大于字典。也可以直接使用字典。</p><p>步骤</p><ol><li>使用字典将字符和唯一数字进行映射。</li><li>建立一个<code>parent</code>数组存储每个结点，初始化<code>parent[i]=i</code>。</li><li>对于<code>a==b</code>的等式使用<code>union-find</code>建立一个连通图。</li><li>对<code>a!=b</code>判断是<code>a,b</code>是否连通。若连通，则返回<code>False</code></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">equationsPossible</span>(<span class="hljs-params">self, equations: List[<span class="hljs-built_in">str</span>]</span>) -&gt; bool:</span><br>        order = <span class="hljs-number">0</span><br>        hasmap = &#123;&#125;<br>        <span class="hljs-comment"># 1. 处理数据，将字符与唯一的数字进行映射。</span><br>        <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> equations:<br>            <span class="hljs-keyword">if</span> s[<span class="hljs-number">0</span>] <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> hasmap.keys():<br>                hasmap[s[<span class="hljs-number">0</span>]] = order<br>                order += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> s[<span class="hljs-number">-1</span>] <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> hasmap.keys():<br>                hasmap[s[<span class="hljs-number">-1</span>]] = order<br>                order += <span class="hljs-number">1</span><br>        parent = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(hasmap))) <span class="hljs-comment"># 初始化数据</span><br><br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span>(<span class="hljs-params">p</span>):</span><br>            <span class="hljs-keyword">while</span> p != parent[p]: p = parent[p]<br>            <span class="hljs-keyword">return</span> p<br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span>(<span class="hljs-params">p, q</span>):</span><br>            parent[find(p)] = find(q)<br>        <span class="hljs-comment"># 构建一个连通的并查集</span><br>        <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> equations:<br>            <span class="hljs-keyword">if</span> s[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;=&#x27;</span>:<br>                <span class="hljs-keyword">if</span> find(hasmap[s[<span class="hljs-number">0</span>]]) != find(hasmap[s[<span class="hljs-number">-1</span>]]):<br>                    union(hasmap[s[<span class="hljs-number">0</span>]], hasmap[s[<span class="hljs-number">-1</span>]])<br>        <span class="hljs-comment"># 若本来不连通的出现连通的现象，证明有误</span><br>        <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> equations:<br>            <span class="hljs-keyword">if</span> s[<span class="hljs-number">1</span>] == <span class="hljs-string">&#x27;!&#x27;</span>:<br>                <span class="hljs-keyword">if</span> find(hasmap[s[<span class="hljs-number">0</span>]]) == find(hasmap[s[<span class="hljs-number">-1</span>]]):<br>                    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><p>复杂度分析</p><ul><li>时间复杂度: $O(n + ClogC)$. $n$是方程数量，$C$是变量总数，合并和查找的时间复杂度是$logC$，但是要遍历每个方程，因此时间复杂度是$ClogC$。</li><li>空间复杂度: $O(C)$, $C$是<code>parent</code>的长度。</li></ul>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>union-find</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>geoserver通过wfs服务对feature进行增删改查</title>
    <link href="/2021/01/14/geoserver%E9%80%9A%E8%BF%87wfs%E6%9C%8D%E5%8A%A1%E5%AF%B9feature%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/"/>
    <url>/2021/01/14/geoserver%E9%80%9A%E8%BF%87wfs%E6%9C%8D%E5%8A%A1%E5%AF%B9feature%E8%BF%9B%E8%A1%8C%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/</url>
    
    <content type="html"><![CDATA[<h1 id="GeoServer对feature实现增删改查"><a href="#GeoServer对feature实现增删改查" class="headerlink" title="GeoServer对feature实现增删改查"></a>GeoServer对feature实现增删改查</h1><blockquote><p><a href="http://docs.opengeospatial.org/is/09-025r2/09-025r2.html#351">官方参考文档</a></p></blockquote><h3 id="查询feature"><a href="#查询feature" class="headerlink" title="查询feature"></a>查询feature</h3><p>该功能很简单，具体使用参考之前写的<a href="https://www.jianshu.com/p/3160dc274d07">文档</a></p><h3 id="更新feature"><a href="#更新feature" class="headerlink" title="更新feature"></a>更新feature</h3><p>官方示例</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span></span><br><span class="hljs-tag">   <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.02.0.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:fes</span>=<span class="hljs-string">&quot;http://www.opengis.net/fes/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://schemas.opengis.net/wfs/2.0.02.0/wfs.xsd&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Update</span> <span class="hljs-attr">typeName</span>=<span class="hljs-string">&quot;BuiltUpA_1M&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Property</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">wfs:ValueReference</span>&gt;</span>population<span class="hljs-tag">&lt;/<span class="hljs-name">wfs:ValueReference</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Value</span>&gt;</span>4070000<span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Value</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Property</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fes:Filter</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">fes:ResourceId</span> <span class="hljs-attr">rid</span>=<span class="hljs-string">&quot;BuiltUpA_1M.10131&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">fes:Filter</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Update</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p>示例</p><p>将CHINA改成中国</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/svAJ4Z.png" alt="svAJ4Z"></p><p>使用post发送下面的xml文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span></span><br><span class="hljs-tag">   <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.02.0.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:fes</span>=<span class="hljs-string">&quot;http://www.opengis.net/fes/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://schemas.opengis.net/wfs/2.0.02.0/wfs.xsd&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Update</span> <span class="hljs-attr">typeName</span>=<span class="hljs-string">&quot;cesium:0&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Property</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">wfs:ValueReference</span>&gt;</span>水流<span class="hljs-tag">&lt;/<span class="hljs-name">wfs:ValueReference</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Value</span>&gt;</span>不不不<span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Value</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Property</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fes:Filter</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">fes:ResourceId</span> <span class="hljs-attr">rid</span>=<span class="hljs-string">&quot;0.142&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">fes:Filter</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Update</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/2tbSGG.png" alt="2tbSGG"></p><p>刷新后即可看到修改成功</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/Mjdj1M.png" alt="Mjdj1M"></p><h3 id="同时更新多个feature"><a href="#同时更新多个feature" class="headerlink" title="同时更新多个feature"></a>同时更新多个feature</h3><p>官方示例</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span></span><br><span class="hljs-tag">   <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.02.0.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:fes</span>=<span class="hljs-string">&quot;http://www.opengis.net/fes/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://schemas.opengis.net/wfs/2.0.02.0/wfs.xsd&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Update</span> <span class="hljs-attr">typeName</span>=<span class="hljs-string">&quot;BuiltUpA_1M&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Property</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">wfs:ValueReference</span>&gt;</span>populationType<span class="hljs-tag">&lt;/<span class="hljs-name">wfs:ValueReference</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Value</span>&gt;</span>CITY<span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Value</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Property</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fes:Filter</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">fes:ResourceId</span> <span class="hljs-attr">rid</span>=<span class="hljs-string">&quot;BuiltUpA_1M.1013&quot;</span>/&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">fes:ResourceId</span> <span class="hljs-attr">rid</span>=<span class="hljs-string">&quot;BuiltUpA_1M.34&quot;</span>/&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">fes:ResourceId</span> <span class="hljs-attr">rid</span>=<span class="hljs-string">&quot;BuiltUpA_1M.24256&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">fes:Filter</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Update</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p>在<code>&lt;fes:ResoureId&gt;&lt;/fes:ResourId&gt;</code>中添加多个<code>rid</code>即可。</p><p>示例</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span></span><br><span class="hljs-tag">   <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.02.0.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:fes</span>=<span class="hljs-string">&quot;http://www.opengis.net/fes/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://schemas.opengis.net/wfs/2.0.02.0/wfs.xsd&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Update</span> <span class="hljs-attr">typeName</span>=<span class="hljs-string">&quot;cesium:0&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Property</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">wfs:ValueReference</span>&gt;</span>NAME_0<span class="hljs-tag">&lt;/<span class="hljs-name">wfs:ValueReference</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Value</span>&gt;</span>中国<span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Value</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Property</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fes:Filter</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">fes:ResourceId</span> <span class="hljs-attr">rid</span>=<span class="hljs-string">&quot;0.142&quot;</span>/&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">fes:ResourceId</span> <span class="hljs-attr">rid</span>=<span class="hljs-string">&quot;0.132&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">fes:Filter</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Update</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/Qb5aBC.png" alt="Qb5aBC"></p><p>结果</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/x5hMbi.png" alt="x5hMbi"></p><h3 id="删除feature"><a href="#删除feature" class="headerlink" title="删除feature"></a>删除feature</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span></span><br><span class="hljs-tag">   <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.02.0.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:fes</span>=<span class="hljs-string">&quot;http://www.opengis.net/fes/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://schemas.opengis.net/wfs/2.0.02.0/wfs.xsd&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Delete</span> <span class="hljs-attr">typeName</span>=<span class="hljs-string">&quot;InWaterA_1M&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fes:Filter</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">fes:ResourceId</span> <span class="hljs-attr">rid</span>=<span class="hljs-string">&quot;InWaterA_1M.1013&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">fes:Filter</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Delete</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p>该功能很简单，我们先保存一个feature的xml文档</p><p>发送下面请求获取一个feature</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">http</span>://localhost:<span class="hljs-number">8080</span>/geoserver/cesium/wms?request=GetFeature&amp;typeNames=cesium:<span class="hljs-number">0</span>&amp;featureID=<span class="hljs-number">0</span>.<span class="hljs-number">134</span>&amp;service=wfs&amp;version=<span class="hljs-number">2</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>该feature如下</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:FeatureCollection</span> <span class="hljs-attr">xmlns:xs</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="hljs-attr">xmlns:cesium</span>=<span class="hljs-string">&quot;http://geoserver.org/cesium&quot;</span> <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span> <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">numberMatched</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">numberReturned</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">timeStamp</span>=<span class="hljs-string">&quot;2020-09-21T02:38:52.053Z&quot;</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0 http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd http://geoserver.org/cesium http://localhost:8080/geoserver/cesium/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=cesium%3A0 http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:member</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cesium:0</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.134&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiSurface</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.134.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.134.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span>29.81506157 115.72956848 29.82217026 115.71960449 29.82777786 115.71416473 29.83111763 115.70983887 29.8347168 115.70683289 29.84010124 115.70166016 29.8450222 115.69623566 29.84768677 115.69246674 29.85103226 115.6884079 29.85296249 115.68280792 29.85422516 115.67776489 29.8561573 115.67216492 29.85637283 115.67055511 29.85693741 115.66633606 29.85682869 115.66159821 29.85533524 115.65663147 29.85359573 115.65088654 29.85184669 115.64487457 29.85085487 115.64173889 29.850317 115.63832855 29.84844398 115.63366699 29.84682655 115.63008118 29.84588623 115.62283325 29.84552193 115.61641693 29.84498024 115.61184692 29.84428978 115.60660553 29.84382057 115.60006714 29.84374237 115.59405518 29.84334183 115.58800507 29.84311485 115.58010101 29.84339333 115.57376099 29.84266853 115.5676651 29.84222984 115.5619812 29.84182549 115.55593109 29.84131622 115.55099487 29.84058762 115.54489899 29.84057808 115.53814697 29.84034729 115.53024292 29.84062576 115.52390289 29.84190559 115.5173111 29.84304619 115.5121994 29.84264565 115.50952911 29.8418293 115.5051651 29.84661865 115.49472809 29.8494339 115.4878006 29.85424423 115.47364807 29.85790634 115.46347809 29.85978699 115.4585495 29.86179924 115.45496368 29.86443138 115.45159912 29.86746979 115.44799042 29.87176514 115.44335938 29.8758812 115.44062805 29.88026619 115.43777466 29.88619232 115.43497467 29.89163589 115.43313599 29.89594841 115.43138885 29.89977646 115.42862701 29.90291214 115.42562103 29.90578842 115.42156219 29.90798187 115.41753387 29.90940475 115.41378784 29.91155434 115.41007233 29.91537285 115.40641022 29.91927528 115.40319824 29.9222374 115.40179443 29.92589378 115.4012146 29.9312458 115.40172577 29.93623543 115.40338135 29.94021988 115.40458679 29.9441433 115.40550995 29.94849586 115.40536499 29.95268631 115.40349579 29.95589828 115.39878082 29.95940971 115.39259338 29.96587372 115.38524628 29.96989059 115.38088989 29.97303009 115.37814331 29.97774506 115.37429047 29.98273277 115.37200928 29.98750496 115.37026215 29.99247169 115.3671875 29.99629021 115.364151 30.00214005 115.35973358 30.00527573 115.35671997 30.00772858 115.35415649 30.01029205 115.35151672 30.01271057 115.34900665 30.01479149 115.3460083 30.01750183 115.34176636 30.01949883 115.33831024 30.0214901 115.33486176 30.02381134 115.33204651 30.02626038 115.32923889 30.02857971 115.32642365 30.03138161 115.32395935 30.03614426 115.3211441 30.04019165 115.31912994 30.04350662 115.31806183 30.04650116 115.31768799 30.04898453 115.31725311 30.05270004 115.31741333 30.05552483 115.31746674 30.05999184 115.31786346 30.06435966 115.31798553 30.06869698 115.31730652 30.07304955 115.31715393 30.0772171 115.31658173 30.08354378 115.31494904 30.08725166 115.31381989 30.09217262 115.3120575 30.09922218 115.30818939 30.1111927 115.30123138 30.11541557 115.29863739 30.11912155 115.29613495 30.12313652 115.29307556 30.12813759 115.28910065 30.13327789 115.28499603 30.13906097 115.28050995 30.1444664 115.27688599 30.14805031 115.27358246 30.15231323 115.26999664 30.15721703 115.26261902 30.16082573 115.26143646 30.16357231 115.25817108 30.16630936 115.25383759 30.16820335 115.25177765 30.17579651 115.24555969 30.18298531 115.23720551 30.1863575 115.23271942 30.18650627 115.23258972 30.18887138 115.22937775 30.18951416 115.22852325 30.18955421 115.22844696 30.1897068 115.2282486 30.19566727 115.22171021 30.19865799 115.21778107 30.20532036 115.21072388 30.20846367 115.20822906 30.21140099 115.20653534 30.21600151 115.20415497 30.21641541 115.19683075 30.21702385 115.19389343 30.21808243 115.19068146 30.21912956 115.18693542 30.22018433 115.18345642 30.22079849 115.18078613 30.2216568 115.17864227 30.22237015 115.17385864 30.22171402 115.16978455 30.22035789 115.16635895 30.21869469 115.16233826 30.2174511 115.16030121 30.21419525 115.15494537 30.21224022 115.15100861 30.21118164 115.14569092 30.21045685 115.139534 30.20988083 115.13457489 30.20967865 115.13114166 30.20977783 115.12582397 30.21059227 115.1197052 30.21143723 115.11495209 30.21263695 115.10855103 30.21364403 115.10348511 30.21801567 115.09468079 30.22067833 115.09085083 30.22369766 115.0873642 30.22710609 115.08446503 30.23121834 115.08100891 30.2366333 115.07662201 30.24075508 115.07371521 30.24587059 115.0712204 30.2492485 115.07103729 30.25103951 115.07094574 30.25465775 115.07079315 30.25707436 115.07108307 30.2598877 115.0712738 30.26357841 115.07171631 30.26795387 115.07238007 30.26827049 115.07242584 30.269207 115.07273102 30.27189636 115.0736084 30.27635765 115.0754776 30.28105927 115.07752228 30.28686714 115.08094788 30.29125786 115.08210754 30.29518127 115.0830307 30.2984314 115.08317566 30.3024826 115.08247375 30.30809975 115.08152008 30.3150444 115.08013153 30.32249641 115.07880402 30.33215523 115.0772934 30.3367691 115.07607269 30.34120369 115.07541656 30.34636307 115.07381439 30.35124588 115.07247162 30.35485649 115.07098389 30.35965157 115.06918335 30.36444664 115.06738281 30.36911201 115.06557465 30.37454796 115.0623703 30.38142204 115.05864716 30.38635254 115.05448914 30.39106178 115.05059814 30.39387131 115.04644012 30.39901924 115.03996277 30.40122986 115.03618622 30.40428543 115.03154755 30.40491867 115.02967834 30.40555573 115.02778625 30.40662766 115.02509308 30.40788078 115.02080536 30.40950584 115.01331329 30.4114933 115.01499176 30.41604424 115.01882172 30.42029572 115.0174408 30.43195534 115.01416016 30.43951225 115.01356506 30.44041443 115.01196289 30.43627548 115.00934601 30.4314537 115.00779724 30.4305191 115.00489044 30.43590927 115.00042725 30.4366684 114.99980164 30.44945145 114.99359131 30.4604969 114.99330139 30.46328545 114.9932251 30.46479607 114.99318695 30.4792614 114.99756622 30.48962593 115.00335693 30.49467087 115.00617981 30.50706863 115.010849 30.52150536 115.01151276 30.52701187 115.01279449 30.53433609 115.0121994 30.54283905 115.01610565 30.54654884 115.02244568 30.54818916 115.02826691 30.54707336 115.03279114 30.54345322 115.03945923 30.54190636 115.04823303 30.54606247 115.05297089 30.55020142 115.0555954 30.56005478 115.05630493 30.56394386 115.05521393 30.58938408 115.05738831 30.59676743 115.06034088 30.60109329 115.06207275 30.60916138 115.06996918 30.61017609 115.07056427 30.61694145 115.0676651 30.61940575 115.06716156 30.62244415 115.06725311 30.62530136 115.06654358 30.62855148 115.06503296 30.63042641 115.0631485 30.63228989 115.06033325 30.63437271 115.05685425 30.63593864 115.05351257 30.63746262 115.05117035 30.63938713 115.04921722 30.64126968 115.04818726 30.64367104 115.04735565 30.64582253 115.04520416 30.6463089 115.04221344 30.64674187 115.0402832 30.64569092 115.03817749 30.64394188 115.03601074 30.6415081 115.03419495 30.63867569 115.03231812 30.63664818 115.03063202 30.63381577 115.02888489 30.63018417 115.02661896 30.62762833 115.0240097 30.62446976 115.01908875 30.62252998 115.01481628 30.62059975 115.01186371 30.61806679 115.01077271 30.61542892 115.01095581 30.61220741 115.01033783 30.60972786 115.00912476 30.60780144 115.00637054 30.60673141 115.00314331 30.60467339 114.99880219 30.60320282 114.99591064 30.60191345 114.99347687 30.6000061 114.99211884 30.59815407 114.99128723 30.59591484 114.99105835 30.59356308 114.9906311 30.59021378 114.98856354 30.58720207 114.98642731 30.58471489 114.98461151 30.58280754 114.98358917 30.58032036 114.98203278 30.57777596 114.98028564 30.5759201 114.97806549 30.57375526 114.97518921 30.57201576 114.97270203 30.57036781 114.96934509 30.56889153 114.96625519 30.56850052 114.96255493 30.5684166 114.9601059 30.56821251 114.95738983 30.56674767 114.95483398 30.56534195 114.9526062 30.56394768 114.95117188 30.56215858 114.95027161 30.56070709 114.94863892 30.56056213 114.94632721 30.56070328 114.94380188 30.5607872 114.94115448 30.56126022 114.93796539 30.56133461 114.93471527 30.56244469 114.93138885 30.56385231 114.9291153 30.56530762 114.92650604 30.56614113 114.92390442 30.56593323 114.92119598 30.56537628 114.91841888 30.56494904 114.91590881 30.56533241 114.9145813 30.5662384 114.91383362 30.56761551 114.91347504 30.5697937 114.91310883 30.5716877 114.91320801 30.57398605 114.91383362 30.5759449 114.91432953 30.57818985 114.91488647 30.58019829 114.91551971 30.58215714 114.91614532 30.58433723 114.91603851 30.58668327 114.91553497 30.59006882 114.91514587 30.59332657 114.9148941 30.59520912 114.91413116 30.59664345 114.91364288 30.59771729 114.91255951 30.59798241 114.9106369 30.59794617 114.9082489 30.59786606 114.90606689 30.59771156 114.90322113 30.59778023 114.89904022 30.59866714 114.89650726 30.60064507 114.89442444 30.60285568 114.89232635 30.60513115 114.89083099 30.6073513 114.88933563 30.60996628 114.88762665 30.61218071 114.88573456 30.6145668 114.88383484 30.61659431 114.88108826 30.6166153 114.87843323 30.61629486 114.87578583 30.61545372 114.87242126 30.61478424 114.86972046 30.61411095 114.86647797 30.61286354 114.86299133 30.61115265 114.85930634 30.60944748 114.85595703 30.60698891 114.85222626 30.60474968 114.84775543 30.60252953 114.84442139 30.59949684 114.84043121 30.59700012 114.83835602 30.5942421 114.83847046 30.59139061 114.83924866 30.58829117 114.83904266 30.58494759 114.83777618 30.58251762 114.83656311 30.58192062 114.8342514 30.58137512 114.83240509 30.58020401 114.83030701 30.5783329 114.82788849 30.57622337 114.82484436 30.57367134 114.82085419 30.59084511 114.81065369 30.61187172 114.78574371 30.61618042 114.77648163 30.6186409 114.77120209 30.62172508 114.77833557 30.62757301 114.79185486 30.62856293 114.80326843 30.62611008 114.81394196 30.63005066 114.8239212 30.63604546 114.83177185 30.64387512 114.83818054 30.65648079 114.83547974 30.65700722 114.83522034 30.6672039 114.83031464 30.66731453 114.82255554 30.66734886 114.82021332 30.66472054 114.80696106 30.67109299 114.80210114 30.67680359 114.80017853 30.68320084 114.80218506 30.68833542 114.79758453 30.69790649 114.79558563 30.69954872 114.7959137 30.70626259 114.79199982 30.71751785 114.80033112 30.72039223 114.80447388 30.72372437 114.80860138 30.7279911 114.81322479 30.73113441 114.81868744 30.73430061 114.82494354 30.73602104 114.82888794 30.7577343 114.8487854 30.76602936 114.85406494 30.78707314 114.86351013 30.78794289 114.86329651 30.79253387 114.86338806 30.79556465 114.86512756 30.79862785 114.86794281 30.80100441 114.87077332 30.80246353 114.8736496 30.80348778 114.87733459 30.8031311 114.8808136 30.79932976 114.88415527 30.79732132 114.88610077 30.79416275 114.88781738 30.79101563 114.89006805 30.78858185 114.89309692 30.7860775 114.89543152 30.78285027 114.90223694 30.79527283 114.91991425 30.79388237 114.92255402 30.79473305 114.92347717 30.79781151 114.92681885 30.79909325 114.93156433 30.79595566 114.93408203 30.79210663 114.93582916 30.78782272 114.93838501 30.7835083 114.93988037 30.78133392 114.94485474 30.78114128 114.94529724 30.78123856 114.94875336 30.78340149 114.95213318 30.78476143 114.95207977 30.78546333 114.95205688 30.78796005 114.95116425 30.79182434 114.94995117 30.79570389 114.94926453 30.79935837 114.94886017 30.80126762 114.95145416 30.80125237 114.952034 30.80375671 114.95275116 30.80717087 114.9629364 30.81906319 114.98040009 30.82794571 114.98408508 30.83781242 114.98287964 30.85696411 114.98634338 30.86056519 114.99578857 30.86041069 114.99619293 30.86196136 114.99736023 30.86367989 115.00128937 30.86308098 115.00450897 30.86089516 115.00832367 30.8591671 115.01211548 30.85653114 115.01621246 30.85345268 115.02085876 30.85296249 115.02140045 30.8529892 115.02616119 30.86195564 115.04252625 30.86208534 115.04264832 30.86491013 115.04520416 30.86753082 115.04884338 30.86852646 115.05097961 30.87015915 115.05286407 30.87719536 115.06043243 30.89391327 115.07062531 30.89690018 115.06768799 30.89700508 115.06758118 30.89823341 115.06448364 30.89929008 115.06124878 30.90127182 115.0582428 30.90326691 115.05577087 30.90663528 115.05324554 30.9090519 115.04942322 30.91102219 115.04615021 30.9120636 115.04238129 30.91336632 115.03966522 30.91394806 115.03591156 30.91455269 115.03295898 30.91536331 115.02919769 30.9175663 115.02591705 30.92093086 115.02311707 30.92181969 115.02223206 30.92450714 115.01271057 30.92999268 115.00527954 30.93830109 115.00005341 30.95608711 114.99281311 30.95682144 114.99207306 30.95693779 114.99082947 30.95939636 114.98860168 30.96033669 114.9885025 30.96353722 114.98525238 30.97158432 114.98394775 30.97164345 114.98387146 30.97408676 114.98110962 30.97653198 114.97834778 30.97949409 114.97770691 30.98179245 114.97788239 30.98342514 114.97888947 30.98601341 114.98119354 30.98608971 114.98159027 30.99247742 114.98055267 31.01956558 114.97079468 31.01920891 114.96609497 31.01658058 114.96748352 31.01361656 114.96813202 31.01115036 114.97009277 31.00774574 114.97129059 31.0040741 114.97116852 31.00085068 114.97075653 30.99855232 114.97057343 30.99669075 114.9695816 30.99479675 114.96751404 30.99263763 114.96413422 30.99000359 114.96022797 30.98895073 114.95546722 30.98978424 114.95249939 30.99131203 114.9497757 30.99329758 114.94702911 30.99611282 114.94477081 31.00264549 114.93260193 31.00034523 114.91832733 30.99864197 114.91747284 30.99565506 114.91732025 30.99305916 114.91475677 30.99389839 114.91205597 30.9956665 114.90985107 30.99793053 114.90869904 30.99830627 114.90827179 30.99557495 114.90039063 30.99472237 114.89040375 31.00022888 114.88117218 31.00231171 114.87412262 31.00240135 114.87303925 31.00225449 114.86806488 30.99908829 114.86062622 30.99212074 114.85277557 30.98832512 114.85354614 30.98653412 114.85578156 30.9845829 114.85959625 30.98420906 114.8625412 30.98340797 114.86657715 30.98168373 114.87037659 30.97993088 114.87311554 30.97675514 114.87430573 30.97400856 114.87441254 30.9696331 114.87378693 30.96411324 114.87319946 30.96130753 114.8714447 30.95663452 114.86842346 30.95217514 114.86486816 30.94833755 114.85914612 30.94890213 114.8548584 30.94931221 114.85172272 30.94707108 114.84728241 30.95165253 114.82900238 30.95082855 114.82678223 30.95025253 114.82279968 30.95103455 114.8182373 30.9527092 114.81283569 30.95602036 114.80843353 30.9563961 114.80796814 30.95757484 114.8049469 30.9596405 114.8038559 30.96131897 114.80155945 30.96423912 114.79957581 30.9681015 114.7983551 30.9726696 114.79763794 30.97657585 114.79801941 30.98073006 114.79891968 30.98419571 114.79985046 30.98786354 114.79969788 30.98939323 114.79941559 31.00333023 114.78469086 31.00369453 114.78352356 31.00292969 114.78202057 30.99944687 114.78056335 30.99621773 114.77989197 30.9918499 114.77953339 30.98586273 114.77870178 30.97870827 114.7771225 30.97194481 114.77339172 30.96845627 114.77166748 30.96661568 114.77146912 30.96427727 114.76996613 30.96276665 114.7654953 30.96338272 114.76306915 30.96493721 114.76140594 30.96767044 114.76075745 30.97042465 114.76091766 30.9729538 114.76107788 30.97614479 114.76042175 30.97934341 114.76002502 30.98320389 114.75880432 30.9866066 114.75759888 30.99043846 114.75531006 30.99072647 114.74969482 30.98938751 114.74334717 30.98929214 114.74014282 30.98873901 114.73696899 30.98776627 114.73513794 30.98609352 114.73280334 30.98484039 114.72938538 30.98311806 114.72545624 30.98163033 114.72177887 30.98152733 114.71831512 30.98118591 114.71598053 30.98094559 114.71434021 30.98059464 114.71035004 30.97974205 114.70809937 30.97909927 114.70641327 30.97804642 114.70191956 30.97452354 114.6991272 30.97194672 114.69736481 30.96870041 114.69616699 30.96615791 114.69546509 30.96293449 114.69506836 30.95903206 114.69496155 30.95674133 114.6950531 30.95313454 114.69706726 30.94996262 114.69826508 30.94682503 114.70079041 30.94389153 114.70224762 30.94284439 114.69802094 30.94345665 114.69559479 30.94454956 114.69368744 30.94523621 114.69268036 30.94512367 114.67021179 30.94557762 114.66819763 30.94512367 114.66752625 30.94311905 114.66201019 30.9418354 114.65752411 30.94031334 114.65278625 30.93924141 114.64776611 30.93838882 114.64247131 30.93761635 114.6363678 30.93416786 114.63034058 30.9306221 114.62020874 30.93173218 114.60909271 30.94575691 114.59012604 30.95459747 114.58635712 30.96483421 114.58634949 30.96940422 114.58403015 30.96958351 114.58355713 30.97082329 114.57923126 30.97256088 114.57622528 30.97473526 114.57239532 30.97622871 114.56887054 30.9786644 114.56609344 30.9801693 114.56394196 30.98098755 114.56172943 30.99032593 114.5424881 31.0147953 114.50666809 31.02158737 114.49855804 31.03015137 114.49401855 31.04962158 114.49652863 31.08299065 114.51545715 31.10105515 114.52197266 31.12078285 114.51976013 31.12900925 114.51432037 31.13559341 114.50557709 31.139328 114.49550629 31.15138626 114.47747803 31.15525055 114.46746063 31.16874313 114.4500351 31.1769352 114.44445038 31.19674492 114.44618225 31.2046814 114.43972015 31.22733498 114.40280914 31.23546219 114.3968277 31.2449398 114.39897156 31.24708176 114.40052032 31.24877167 114.4005661 31.25383568 114.40114594 31.25824738 114.4028244 31.26288605 114.40449524 31.26727867 114.40563965 31.27168465 114.40705109 31.27539825 114.40849304 31.27981949 114.41043854 31.28426361 114.41318512 31.28923035 114.41778564 31.29349709 114.42214966 31.29812241 114.42524719 31.29912376 114.42591858 31.3047142 114.42861938 31.30963326 114.43188477 31.31271553 114.43495941 31.31509018 114.43753052 31.31768608 114.43982697 31.32091713 114.44049072 31.32461548 114.44139862 31.32806778 114.44178772 31.33149529 114.4413681 31.33490181 114.44041443 31.33785248 114.43948364 31.34032631 114.43803406 31.34347343 114.43602753 31.34613419 114.43323517 31.34924507 114.43015289 31.35097313 114.42685699 31.35430336 114.42350006 31.35793495 114.42227173 31.36298752 114.42258453 31.36532021 114.4238205 31.36790657 114.42584991 31.37047958 114.42734528 31.37301445 114.42777252 31.37626266 114.42897034 31.37950325 114.42989349 31.38321686 114.43134308 31.38629913 114.43441772 31.38730621 114.43732452 31.3876152 114.43972015 31.38816833 114.44264221 31.38938141 114.44473267 31.39150238 114.44651794 31.39453125 114.44799042 31.3968544 114.44896698 31.39870262 114.44941711 31.40146637 114.44983673 31.40556908 114.44911957 31.40945625 114.44868469 31.41286278 114.44773102 31.41563606 114.44841003 31.41736031 114.4520874 31.4172287 114.45503998 31.41497993 114.45648193 31.4125309 114.4587326 31.41030121 114.46070099 31.40787506 114.46376038 31.40687561 114.46835327 31.40723419 114.4723587 31.40891266 114.47470093 31.41125488 114.47620392 31.41449356 114.4771347 31.41976166 114.47690582 31.42478943 114.47642517 31.42866135 114.47572327 31.43185997 114.47531128 31.43507576 114.47544098 31.43782234 114.47532654 31.44243622 114.47619629 31.44499779 114.47742462 31.44800758 114.47836304 31.45196533 114.48033905 31.45497704 114.4812851 31.45915031 114.48271179 31.46284866 114.48361969 31.46585083 114.48429871 31.46820641 114.48633575 31.46759987 114.48877716 31.46605682 114.49072266 31.46429825 114.49320984 31.46255302 114.49597168 31.46175575 114.49975586 31.46209526 114.50322723 31.46357727 114.5066452 31.46569443 114.50816345 31.46939659 114.50934601 31.47237396 114.50921631 31.47623825 114.50824738 31.48124313 114.50695801 31.48350716 114.50605774 31.48667908 114.50485229 31.48984909 114.50363922 31.49391174 114.50158691 31.49774361 114.49954224 31.50137329 114.4983139 31.50502777 114.49788666 31.5089283 114.49799347 31.5118885 114.49732208 31.51602554 114.49768066 31.51834488 114.4983902 31.52135849 114.49960327 31.52349663 114.50192261 31.52611542 114.50502777 31.52939796 114.50730133 31.53173828 114.50881195 31.5340786 114.51032257 31.53617668 114.51129913 31.53944016 114.51303864 31.54358482 114.51366425 31.54634857 114.51408386 31.55025864 114.51445007 31.55460739 114.51426697 31.55788994 114.51654053 31.55800819 114.52029419 31.55789757 114.52405548 31.5568943 114.52866364 31.55591011 114.53379822 31.55515671 114.5389328 31.55482674 114.54296875 31.55588913 114.54776001 31.5601387 114.55160522 31.55871391 114.55729675 31.5561924 114.56465149 31.55766678 114.56781006 31.55799675 114.5710144 31.56111336 114.57544708 31.5637722 114.57989502 31.56613922 114.58221436 31.56833076 114.58641052 31.57286453 114.59212494 31.57833862 114.59860229 31.5835495 114.60402679 31.58661842 114.60684967 31.58925056 114.61049652 31.59048843 114.61339569 31.59175491 114.61737061 31.59115982 114.62034607 31.59123421 114.62275696 31.58824348 114.62986755 31.58538246 114.63374329 31.5807476 114.63957214 31.57788467 114.64344788 31.57498932 114.64625549 31.57323265 114.64874268 31.56985855 114.65076447 31.5667038 114.65250397 31.56330872 114.6539917 31.56035423 114.65491486 31.55787086 114.65609741 31.55607986 114.65750885 31.55270195 114.65953064 31.54914665 114.66316223 31.54876137 114.66559601 31.54862976 114.66882324 31.55016136 114.67385864 31.55093575 114.67677307 31.55084419 114.68134308 31.54937935 114.68596649 31.5490036 114.68865967 31.54659843 114.69252014 31.54336929 114.69184875 31.53970528 114.69199371 31.53667831 114.69051361 31.53412819 114.68954468 31.53255844 114.69068146 31.53173447 114.69366455 31.53004074 114.69829559 31.52900124 114.701828 31.52844238 114.70614624 31.52634811 114.71266937 31.52438927 114.7162323 31.5230999 114.71897125 31.52298164 114.72273254 31.52428818 114.7280426 31.52520943 114.73578644 31.52675247 114.7413559 31.52776146 114.74453735 31.52852821 114.74718475 31.52863121 114.75067139 31.52717209 114.7555542 31.52658272 114.75879669 31.52470589 114.76504517 31.52434349 114.76828003 31.52233696 114.77024078 31.52034378 114.77246857 31.51719284 114.77446747 31.51304626 114.77383423 31.50660324 114.77301788 31.50318527 114.7736969 31.49914169 114.77653503 31.49572563 114.77721405 31.49275589 114.77760315 31.4900322 114.77851868 31.4877739 114.77967834 31.48555756 114.78218079 31.48310852 114.78469086 31.48161888 114.78850555 31.4801178 114.79205322 31.4792881 114.79503632 31.47915268 114.79825592 31.47909355 114.80389404 31.47813416 114.81036377 31.47661018 114.81311035 31.47397423 114.8169632 31.46976471 114.82196045 31.4661808 114.82478333 31.46442604 114.82753754 31.46220589 114.83003235 31.46227074 114.83217621 31.46167183 114.83515167 31.4624424 114.8380661 31.46438217 114.84174347 31.46716881 114.8429718 31.47063828 114.84391022 31.47387314 114.84485626 31.4773407 114.84578705 31.4792347 114.84786224 31.48095131 114.85181427 31.4820385 114.85767365 31.48129654 114.86360168 31.47820663 114.86774445 31.47468567 114.87270355 31.47341728 114.87651062 31.47356224 114.88159943 31.47533035 114.88716125 31.47712517 114.8937912 31.47964478 114.90174103 31.48049355 114.90733337 31.48151779 114.91104889 31.48137283 114.91400146 31.48082542 114.91885376 31.48049736 114.92342377 31.48112297 114.9292984 31.48223877 114.93622589 31.48534393 114.9406662 31.48773384 114.94406128 31.48967743 114.94800568 31.49449539 114.95613098 31.4975853 114.96003723 31.49929237 114.96372223 31.50009346 114.96772003 31.49996948 114.97147369 31.49887848 114.9733963 31.49684906 114.97454834 31.49504662 114.97568512 31.49207687 114.97606659 31.48829842 114.97827911 31.48482895 114.97949219 31.47868919 114.98234558 31.47596359 114.9846344 31.47373772 114.98764038 31.47191048 114.99559021 31.47236824 114.99990082 31.47499847 115.00185394 31.48084641 115.00222778 31.48681641 115.00131989 31.49222946 115.00033569 31.49696922 115.00057983 31.50124168 115.0003891 31.5082531 115.00521851 31.5133419 115.0069046 31.51661682 115.00919342 31.5214901 115.0114212 31.52451324 115.01291656 31.5269165 115.01685333 31.52518082 115.020401 31.5243454 115.02338409 31.5219841 115.02910614 31.51888275 115.03298187 31.51424599 115.0393219 31.51167488 115.04586029 31.51063538 115.0496521 31.50936317 115.05345154 31.50951958 115.05908203 31.50919342 115.06391907 31.50934029 115.0692749 31.50875664 115.07305908 31.51010704 115.080513 31.5137825 115.08922577 31.5166626 115.09394836 31.52024841 115.09944916 31.52308846 115.10256195 31.52589417 115.10460663 31.52818298 115.10452271 31.5307045 115.10443115 31.53483963 115.10481262 31.54098511 115.10324097 31.54551888 115.10146332 31.54938507 115.10025024 31.55256653 115.09932709 31.55533028 115.09976196 31.55858612 115.10151672 31.56183052 115.10273743 31.56533623 115.10529327 31.56837845 115.10759735 31.57097054 115.11018372 31.57590675 115.11456299 31.57740021 115.11907196 31.58111382 115.12081146 31.58681679 115.11979675 31.592062 115.1187973 31.59459686 115.11923981 31.59712219 115.11942291 31.59877586 115.12123871 31.60043526 115.12332153 31.60254288 115.12485504 31.60445213 115.12773895 31.60687828 115.13275146 31.60725212 115.1381073 31.60695457 115.14402008 31.60669708 115.15155029 31.60568619 115.15668488 31.6026268 115.16217041 31.60023117 115.16681671 31.59638596 115.1688385 31.59394073 115.17160797 31.58986092 115.17337036 31.58576775 115.17459106 31.58072472 115.17450714 31.57598114 115.17709351 31.57194138 115.18045807 31.56930351 115.18457794 31.56596947 115.1884613 31.56331825 115.19231415 31.56096458 115.19856262 31.55818558 115.20617676 31.55636978 115.21537018 31.55682755 115.22420502 31.55713844 115.22741699 31.55583191 115.22987366 31.5533123 115.22996521 31.5500412 115.22766876 31.54703712 115.22669983 31.54126358 115.22502899 31.53333664 115.21994781 31.52431488 115.21678162 31.51785469 115.2151413 31.51342392 115.21234894 31.50993729 115.21059418 31.50374413 115.21028137 31.49916458 115.21044922 31.49297905 115.21067047 31.48519516 115.21094513 31.47946167 115.21088409 31.47509003 115.2102356 31.46889305 115.20992279 31.46384048 115.20956421 31.4576149 115.20818329 31.45414352 115.20696259 31.45088768 115.20520782 31.44760323 115.20237732 31.44504929 115.2011261 31.44071388 115.20182037 31.43849754 115.20458221 31.43511772 115.20684814 31.4315052 115.2091217 31.42792892 115.21246338 31.42479324 115.21525574 31.42398453 115.21929932 31.42281532 115.22711182 31.42510223 115.23561096 31.42472649 115.2388382 31.42339516 115.24049377 31.42050362 115.24381256 31.41919708 115.24653625 31.41627693 115.2487793 31.41261292 115.24891663 31.40846443 115.24798584 31.40431213 115.24706268 31.40179253 115.24715424 31.39632225 115.24842072 31.39384842 115.25011444 31.39341927 115.26004028 31.3977375 115.26738739 31.40084839 115.27236938 31.40166664 115.27742767 31.40315247 115.28166199 31.40301323 115.28514862 31.40146446 115.28734589 31.39970016 115.29008484 31.39321136 115.29621124 31.38600731 115.30128479 31.38445854 115.30348206 31.38546371 115.30692291 31.38830948 115.31057739 31.3909111 115.31369781 31.39279938 115.31577301 31.39538765 115.318367 31.39705658 115.32098389 31.39807129 115.3246994 31.39908028 115.32841492 31.40177917 115.335289 31.40188217 115.33930206 31.40040016 115.34417725 31.39962006 115.3495636 31.40183258 115.3553772 31.40309715 115.3601532 31.40503883 115.36437225 31.40400314 115.36869812 31.40295029 115.3724823 31.40097618 115.3760376 31.39877892 115.3795929 31.39610672 115.38289642 31.3943119 115.38430023 31.39158249 115.38519287 31.38948631 115.38392639 31.38739204 115.38265991 31.38504982 115.38059235 31.38248253 115.37880707 31.38083076 115.37699127 31.37872314 115.37519073 31.37685013 115.37364197 31.37476158 115.37264252 31.37246513 115.37245178 31.37062645 115.37225342 31.36833572 115.37232971 31.36536598 115.37269592 31.36174202 115.3744278 31.35310555 115.37739563 31.3474884 115.38187408 31.3457489 115.38568115 31.34493446 115.38972473 31.34456444 115.39321899 31.3439579 115.39645386 31.34333801 115.39914703 31.34317398 115.40183258 31.34535027 115.40631104 31.34729576 115.41079712 31.34947014 115.41527557 31.35112762 115.4173584 31.35302734 115.41997528 31.35399437 115.42208099 31.35336876 115.42451477 31.35210037 115.42884064 31.35008621 115.43078613 31.34763145 115.43354034 31.34538269 115.43522644 31.34243011 115.43639374 31.33970642 115.43755341 31.33628845 115.43820953 31.33285904 115.438591 31.32691002 115.4390564 31.32303047 115.43972015 31.31869888 115.4406662 31.31599426 115.44263458 31.31445122 115.44509125 31.31542778 115.44747162 31.3168602 115.4498291 31.31783676 115.45220947 31.31792259 115.45568085 31.31521416 115.4573822 31.31292343 115.4574585 31.30489922 115.4574585 31.2973156 115.45663452 31.29247475 115.45545959 31.28853416 115.45372009 31.28600121 115.45326996 31.28212166 115.45393372 31.27554512 115.45682526 31.27284813 115.45905304 31.27063751 115.46234131 31.26911926 115.46586609 31.26671982 115.47076416 31.26782417 115.47848511 31.26951218 115.48190308 31.27075768 115.48587799 31.27150917 115.48852539 31.27205086 115.49198914 31.27169037 115.49600983 31.27108383 115.49924469 31.27000809 115.50222015 31.26848984 115.50575256 31.26694489 115.50820923 31.26562881 115.51065826 31.26295853 115.51395416 31.2598114 115.51673126 31.2555809 115.52168274 31.25152779 115.52475739 31.24722862 115.52703857 31.24360085 115.52876282 31.23886681 115.53212738 31.23637581 115.53327179 31.23411179 115.5344162 31.2313652 115.53477478 31.22814751 115.53434753 31.22585106 115.53414917 31.22101784 115.53324127 31.21736908 115.5341568 31.21210861 115.5345993 31.20866585 115.53443909 31.20590401 115.53399658 31.20271873 115.53490448 31.19698906 115.53508759 31.19355965 115.53546906 31.18924713 115.53720856 31.18383408 115.54086304 31.17932129 115.54394531 31.17616081 115.54592133 31.17212296 115.5495224 31.16782951 115.55207062 31.16487503 115.55323029 31.1626091 115.55437469 31.15970039 115.55741119 31.15793228 115.56013489 31.15527344 115.56396484 31.1528492 115.5680542 31.14931297 115.57350922 31.14755058 115.57649994 31.14650154 115.58054352 31.14654732 115.58267975 31.14731407 115.58586121 31.14945221 115.58899689 31.15249062 115.59157562 31.15527725 115.59308624 31.1580658 115.59460449 31.1606102 115.59558868 31.16568947 115.59703064 31.16958046 115.59690857 31.17327118 115.59786224 31.17604065 115.59857178 31.17722893 115.60041046 31.17825127 115.60491943 31.17949104 115.60888672 31.18027306 115.61286926 31.18196487 115.61656189 31.18340683 115.61945343 31.18694878 115.62388611 31.19137001 115.6266861 31.19390869 115.62741089 31.19853973 115.62940216 31.20224762 115.63115692 31.2050457 115.63320923 31.20855141 115.63603973 31.21043968 115.63838196 31.21186829 115.64074707 31.21266174 115.64526367 31.21323013 115.65006256 31.21287346 115.65435028 31.2124958 115.65783691 31.21187592 115.66079712 31.21086884 115.6667099 31.20986366 115.67288971 31.20755386 115.68205261 31.20628166 115.68663025 31.20478821 115.69149017 31.20327759 115.69554901 31.20080566 115.69776154 31.19631767 115.70191193 31.19294357 115.70468903 31.18802071 115.70991516 31.1830883 115.7148819 31.18151855 115.71652985 31.17996407 115.71871948 31.17839622 115.72036743 31.17684937 115.72281647 31.1736908 115.72505188 31.16868973 115.72681427 31.16505432 115.72825623 31.16075325 115.73078918 31.15827751 115.73274231 31.15512466 115.73523712 31.1531353 115.7385025 31.15181541 115.74095154 31.15027237 115.7436676 31.14894295 115.74558258 31.1462326 115.74753571 31.14469528 115.7505188 31.13764763 115.75313568 31.13083458 115.75601196 31.12628937 115.75775146 31.1235466 115.75810242 31.1203537 115.75873566 31.11743164 115.76148987 31.11521339 115.76476288 31.11419487 115.770401 31.11449051 115.77333069 31.11569977 115.77622986 31.11828041 115.77882385 31.1204071 115.78170013 31.1218338 115.78406525 31.12484169 115.78530884 31.12671852 115.78712463 31.12836456 115.78920746 31.13004684 115.79263306 31.13061333 115.79742432 31.13137627 115.8008728 31.13236809 115.80431366 31.13313866 115.80802917 31.13230324 115.8117981 31.13145065 115.8147583 31.12970924 115.81881714 31.1293087 115.82150269 31.12867546 115.8239212 31.12850761 115.82686615 31.12857246 115.82980347 31.12932014 115.83245087 31.13123512 115.83613586 31.13382339 115.83926392 31.13849258 115.84313202 31.14271927 115.84781647 31.14555931 115.85201263 31.14820862 115.85781097 31.14967537 115.86204529 31.14994812 115.86417389 31.14889717 115.86847687 31.14667511 115.87174988 31.14422417 115.87502289 31.13877869 115.87758636 31.13514137 115.87902832 31.12969017 115.88132477 31.12419128 115.88148499 31.1200695 115.88159943 31.11572266 115.88199615 31.11160278 115.88237762 31.10776711 115.88516235 31.10438156 115.88766479 31.10124016 115.89096069 31.09749794 115.89801025 31.09305573 115.90454102 31.08924294 115.90866089 31.08475685 115.91332245 31.07918358 115.92069244 31.07744789 115.92527771 31.07502937 115.93015289 31.07418633 115.93364716 31.07147598 115.93559265 31.06783485 115.93676758 31.06302643 115.93717194 31.05957031 115.936203 31.05520439 115.93579102 31.05220604 115.93480682 31.04965591 115.93354034 31.04626083 115.93550873 31.04538345 115.93740082 31.04477692 115.94115448 31.04772949 115.95094299 31.0492115 115.95597839 31.04861832 115.96053314 31.04781342 115.96588898 31.04604912 115.9691391 31.04611588 115.97234344 31.04548836 115.97529602 31.04418182 115.97853851 31.04037857 115.98317719 31.03682899 115.98888397 31.03670883 115.99395752 31.03794479 115.99845886 31.03685951 116.00141907 31.03230476 116.00288391 31.02819252 116.00353241 31.02316284 116.0042038 31.01950836 116.00483704 31.01678085 116.00598145 31.01521873 116.00788879 31.01410866 116.00978851 31.0137043 116.01246643 31.01377106 116.01566315 31.01504135 116.02176666 31.01766777 116.02676392 31.01845169 116.03154755 31.01901245 116.03659821 31.01725006 116.04011536 31.01390076 116.04447937 31.01005363 116.04698181 31.00688171 116.04866791 31.00301743 116.05037689 30.99803162 116.05317688 30.99029732 116.05605316 30.98438072 116.05834961 30.97984314 116.06060791 30.97553635 116.06311798 30.972826 116.06506348 30.97012138 116.06726837 30.9664917 116.06922913 30.96191025 116.06935883 30.95867538 116.0681076 30.95498276 116.06687927 30.95516777 116.06473541 30.95650482 116.06283569 30.95804596 116.0595932 30.95882034 116.05264282 30.95875168 116.04917908 30.95890045 116.04517365 30.95858383 116.04091644 30.95804214 116.03692627 30.95706177 116.03376007 30.95559883 116.02926636 30.95436859 116.02529907 30.95337677 116.02159119 30.95236588 116.01708984 30.95158768 116.01258087 30.95106697 116.00965881 30.95029831 116.0056839 30.9495163 116.0011673 30.94851112 115.99693298 30.94706726 115.99350739 30.94447517 115.9901123 30.94205856 115.98404694 30.93475151 115.97438812 30.93159866 115.96620941 30.92757034 115.95993042 30.92291069 115.95632935 30.91804123 115.95379639 30.91411972 115.95257568 30.91059494 115.94841003 30.90888405 115.94339752 30.90741158 115.93890381 30.90574837 115.9360199 30.90104294 115.93029022 30.89752007 115.9263916 30.89470482 115.92327881 30.89167023 115.92070007 30.88933372 115.91863251 30.88734245 115.91123199 30.88537216 115.90489197 30.88288689 115.89590454 30.88178444 115.887146 30.87862778 115.87897491 30.8757267 115.87213135 30.87311554 115.86794281 30.86841202 115.86248779 30.86256027 115.85706329 30.85881805 115.85370636 30.85461617 115.85009766 30.85040474 115.84622955 30.84620285 115.84262085 30.84270096 115.83979797 30.839674 115.8377533 30.83667946 115.83704376 30.83235931 115.83876801 30.82829666 115.8415451 30.82489395 115.84324646 30.82173157 115.84546661 30.81882477 115.84874725 30.81705475 115.85173035 30.81413269 115.85447693 30.81118965 115.8561554 30.80842972 115.85570526 30.80474091 115.85475159 30.80174255 115.85403442 30.79759789 115.85309601 30.7925396 115.85243988 30.78889084 115.85334778 30.78618622 115.85555267 30.78466415 115.85932159 30.78311348 115.861763 30.78108788 115.86341858 30.77738571 115.86193085 30.77527618 115.85986328 30.77315712 115.85726166 30.77148247 115.85411835 30.76911736 115.8507309 30.76396179 115.84555817 30.76032257 115.83634949 30.75831985 115.82868958 30.75589943 115.82290649 30.75417137 115.81736755 30.75404358 115.81151581 30.75441933 115.8077774 30.75660896 115.80319214 30.75927162 115.79912567 30.76079178 115.79534912 30.76164246 115.79239655 30.76198959 115.78733063 30.76235199 115.7830658 30.75997734 115.77941132 30.75713921 115.77550507 30.75318527 115.77295685 30.74604225 115.7713089 30.73980713 115.76937103 30.73423767 115.76634216 30.72496986 115.76210022 30.71757889 115.75965881 30.71203041 115.75769806 30.7060585 115.75708008 30.69709778 115.75628662 30.69156837 115.75511932 30.68675041 115.75499725 30.68127632 115.75622559 30.67651939 115.75876617 30.67427635 115.76095581 30.67192459 115.76847076 30.66674423 115.77261353 30.66476059 115.77613068 30.66326141 115.78096008 30.66176414 115.78578949 30.659338 115.79011536 30.65552711 115.79395294 30.65147972 115.79753113 30.64764977 115.80056763 30.64152145 115.80340576 30.63604736 115.80462646 30.62940025 115.80482483 30.6259346 115.8035965 30.62107086 115.80135345 30.61577606 115.80044556 30.61279869 115.80053711 30.60755348 115.80175018 30.6027813 115.80375671 30.59803391 115.8068161 30.59672165 115.80950928 30.59655952 115.81270599 30.59891129 115.81529236 30.60103607 115.81815338 30.60287285 115.81809998 30.6047039 115.81804657 30.60726547 115.81983185 30.61004257 115.82107544 30.61013794 115.82532501 30.60863113 115.82988739 30.6073513 115.83417511 30.60559845 115.83794403 30.60227966 115.84335327 30.60004616 115.84607697 30.59828949 115.84958649 30.59652519 115.85282135 30.59478378 115.85712433 30.59237862 115.86250305 30.59107208 115.86573029 30.58883858 115.86845398 30.58658218 115.87010956 30.58135986 115.87239075 30.57679939 115.87358093 30.57130814 115.87400818 30.5664959 115.87414551 30.56282806 115.87425232 30.55714035 115.87627411 30.55312157 115.88117218 30.55064011 115.88310242 30.54841042 115.88608551 30.53985214 115.89323425 30.53465652 115.89683533 30.52989578 115.89936066 30.52673912 115.90184021 30.52475739 115.90560913 30.52342033 115.90750885 30.52046585 115.90865326 30.51794624 115.90872955 30.51540184 115.90773773 30.51194191 115.90677643 30.50777245 115.9047699 30.50263214 115.90040588 30.49818993 115.89628601 30.49399567 115.89321899 30.49051666 115.8914566 30.48635674 115.88972473 30.48130608 115.88960266 30.4783802 115.89207458 30.47566986 115.89400482 30.47114563 115.89678955 30.4683857 115.89633942 30.46421432 115.89433289 30.45818138 115.89105988 30.45540237 115.88980865 30.4524765 115.89228058 30.45004082 115.89633179 30.44759941 115.90011597 30.44607162 115.90361023 30.44405365 115.90578461 30.44203758 115.90796661 30.43751526 115.91101074 30.43479538 115.91241455 30.43281174 115.91618347 30.43291855 115.92121887 30.43323326 115.92519379 30.43309593 115.92943573 30.43271255 115.93289948 30.43141937 115.93691254 30.42939186 115.93856049 30.42733955 115.93914795 30.42406464 115.93605804 30.42003441 115.92980957 30.41713524 115.92299652 30.41568947 115.91958618 30.4137001 115.91248322 30.41132355 115.90857697 30.40755081 115.90364838 30.4046917 115.89868927 30.40119362 115.89587402 30.39908028 115.89354706 30.39509964 115.88967896 30.39273834 115.88656616 30.39013672 115.88292694 30.38755989 115.88035583 30.38500977 115.87910461 30.37997437 115.87950897 30.37225151 115.88291168 30.36613464 115.88626862 30.35936928 115.89150238 30.35396385 115.89589691 30.34972763 115.90158081 30.34659576 115.90511322 30.34344673 115.9081192 30.34073639 115.91004944 30.33778572 115.91146088 30.33389854 115.91183472 30.33067894 115.91139984 30.32696342 115.90937805 30.3248291 115.90599823 30.32130241 115.9018631 30.31848335 115.89875793 30.31639862 115.89775848 30.31276321 115.89945221 30.31080437 115.90428162 30.30883408 115.90856934 30.30686951 115.91313171 30.30396843 115.91692352 30.30589485 115.92110443 30.30762672 115.92714691 30.30960274 115.93371582 30.30924416 115.93849182 30.30934334 115.94326019 30.30900574 115.94882965 30.30795288 115.95336151 30.30642319 115.95684814 30.3042202 115.96115112 30.30268478 115.96437073 30.30119133 115.9697113 30.29964828 115.97267151 30.29834175 115.97588348 30.29586792 115.97833252 30.29361343 115.9802475 30.29087639 115.98085785 30.28766251 115.98068237 30.28263855 115.98161316 30.27692604 115.98256683 30.27419853 115.98370361 30.26961136 115.98382568 30.26596642 115.98472595 30.26255417 115.98613739 30.25758553 115.98972321 30.25511932 115.99243927 30.2531395 115.99645996 30.25253487 116.00045013 30.25260162 116.00362396 30.25198364 116.00708008 30.25043869 116.00977325 30.24644279 116.01623535 30.24421692 116.01947021 30.24219322 116.02137756 30.23649597 116.02312469 30.23376465 116.02399445 30.23126411 116.0251236 30.22945786 116.02648926 30.22905922 116.02941895 30.22798729 116.03314972 30.22691345 116.03662109 30.22631264 116.04087067 30.22499084 116.04355621 30.22231102 116.04706573 30.21893883 116.05033112 30.2178421 116.052742 30.21445465 116.05522156 30.21196747 116.05713654 30.20925522 116.05905914 30.20698738 116.06018066 30.20401001 116.06026459 30.19595146 116.05862427 30.19176674 116.05582428 30.18711853 116.05278015 30.18340683 116.05075836 30.17997169 116.05085754 30.17378807 116.05128479 30.16832542 116.05328369 30.16149521 116.05558014 30.15807724 116.05673218 30.15397263 116.05789948 30.14648819 116.06180573 30.14355278 116.06399536 30.14105797 116.06539154 30.1390419 116.06755829 30.13587379 116.06975555 30.13365746 116.07351685 30.13209724 116.07594299 30.12850952 116.07974243 30.12280464 116.0812149 30.11801529 116.08239746 30.11252594 116.08306885 30.10953522 116.08262634 30.10563469 116.0824585 30.10285759 116.0812149 30.10053825 116.07995605 30.09798622 116.07843781 30.09545326 116.07797241 30.09223557 116.07752991 30.08879852 116.07762146 30.08469772 116.07905579 30.08219337 116.07991028 30.07828712 116.07949066 30.07294273 116.07592773 30.0685463 116.07393646 30.06440926 116.07351685 30.05961609 116.0746994 30.05690575 116.07662201 30.05305672 116.07910156 30.04786682 116.08320618 30.04309845 116.08544159 30.03853035 116.08635712 30.03438759 116.0856781 30.03208542 116.08520508 30.0293045 116.08369446 30.02765656 116.08162689 30.02508736 116.07932281 30.020895 116.0759964 30.01649475 116.0737381 30.01257706 116.07305145 30.00937653 116.0734024 30.0061779 116.07401276 30.00161743 116.07518768 29.99382591 116.07540131 29.98948669 116.0763092 29.98650742 116.0763855 29.98397446 116.0759201 29.97957993 116.07392883 29.97724152 116.07187653 29.97514343 116.07009125 29.97236061 116.06858063 29.96937752 116.06838989 29.96571541 116.0687561 29.96231079 116.07042694 29.95845795 116.07264709 29.9578228 116.07530212 29.9548912 116.07849884 29.95311165 116.08044434 29.94814491 116.08426666 29.94115639 116.09026337 29.93483162 116.09490967 29.92917442 116.09875488 29.92264175 116.1044693 29.91676712 116.10884857 29.90865898 116.11618805 29.90369987 116.1205368 29.90004158 116.12245178 29.89893341 116.12303162 29.89621735 116.12468719 29.89122009 116.12718964 29.88756752 116.12781525 29.88504791 116.12814331 29.88231277 116.12874603 29.8798008 116.1293335 29.87726784 116.12887573 29.87380791 116.1279068 29.87058067 116.12693787 29.86757469 116.12569427 29.86480713 116.12497711 29.86228943 116.12504578 29.8588562 116.12539673 29.85427666 116.1257782 29.84671974 116.12624359 29.84078026 116.12745667 29.8339119 116.12789154 29.82485008 116.12962341 29.82421875 116.12970734 29.82066536 116.12059784 29.81477737 116.11170959 29.79938507 116.0978241 29.76622963 116.05888367 29.76525879 116.05774689 29.75039101 116.04251099 29.745924 116.03296661 29.74394798 116.02223206 29.73869133 116.00779724 29.74310493 116.00341797 29.73211479 115.95598602 29.73175049 115.95488739 29.7285881 115.94628906 29.72634506 115.93791962 29.72527695 115.93083954 29.7247448 115.92301178 29.72516441 115.91889954 29.72561264 115.914505 29.7277298 115.90628052 29.72938538 115.89807129 29.73038864 115.89469147 29.73151016 115.89091492 29.73320961 115.88400269 29.73513222 115.87762451 29.73709679 115.87309265 29.73905754 115.86829376 29.74145126 115.86243439 29.74337387 115.85605621 29.74557495 115.85177612 29.74840736 115.84510803 29.75036621 115.84030914 29.75235176 115.83520508 29.75279427 115.8340683 29.75448036 115.82939148 29.75777817 115.82297516 29.76020813 115.81894684 29.7628994 115.81438446 29.76563263 115.80986023 29.76821518 115.8068161 29.76990891 115.80290985 29.77264023 115.79838562 29.77537346 115.79386139 29.77900124 115.78683472 29.78302383 115.77909851 29.78862762 115.76856995 29.79297447 115.76087952 29.79703522 115.75276947 29.80242157 115.74446106 29.81014061 115.73499298 29.81506157 115.72956848<span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiSurface</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_0</span>&gt;</span>CHN<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_0</span>&gt;</span>China<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_1</span>&gt;</span>CHN.13_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_1</span>&gt;</span>Hubei<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span>湖北<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_2</span>&gt;</span>CHN.13.3_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_2</span>&gt;</span>Huanggang<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span>Huánggāng<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span>黄冈市<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:TYPE_2</span>&gt;</span>Dìjíshì<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:TYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span>Prefecture City<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:CC_2</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:HASC_2</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:0</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:member</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:FeatureCollection</span>&gt;</span><br></code></pre></td></tr></table></figure><p>发送下面xml文件</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span></span><br><span class="hljs-tag">   <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:fes</span>=<span class="hljs-string">&quot;http://www.opengis.net/fes/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://schemas.opengis.net/wfs/2.0.02.0/wfs.xsd&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Delete</span> <span class="hljs-attr">typeName</span>=<span class="hljs-string">&quot;cesium:0&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fes:Filter</span>&gt;</span><br>         <span class="hljs-tag">&lt;<span class="hljs-name">fes:ResourceId</span> <span class="hljs-attr">rid</span>=<span class="hljs-string">&quot;0.134&quot;</span>/&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">fes:Filter</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Delete</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/9KpQKt.png" alt="9KpQKt"></p><p>我们再去查询一下featureid=0.134的feature</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/w0RSZX.png" alt="w0RSZX"></p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/skTU6D.png" alt="skTU6D"></p><h3 id="插入feature"><a href="#插入feature" class="headerlink" title="插入feature"></a>插入feature</h3><p>我们把刚刚删除的feature再添加进去。</p><p>官方示例</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span></span><br><span class="hljs-tag">   <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns ./SampleSchema.xsd</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://schemas.opengis.net/wfs/2.0/wfs.xsd</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://www.opengis.net/gml/3.2</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://schemas.opengis.net/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Insert</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">InWaterA_1M</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;F1&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">wkbGeom</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;P1&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span>-30.93597221374512 117.6290588378906 -30.94830513000489 117.6447219848633 -30.95219421386719 117.6465530395508 -30.95219421386719 117.6431121826172 -30.94802856445312 117.6386108398438 -30.94799995422363 117.6314163208008 -30.946138381958 117.62850189209 -30.94430541992188 117.6295852661133 -30.93280601501464 117.6240539550781 -30.92869377136231 117.624641418457 -30.92386054992676 117.6201400756836 -30.92111206054688 117.6206970214844 -30.92458343505859 117.6275863647461 -30.93597221374512 117.6290588378906<span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">wkbGeom</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>28022<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fCode</span>&gt;</span>BH000<span class="hljs-tag">&lt;/<span class="hljs-name">fCode</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">hyc</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">hyc</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tileId</span>&gt;</span>177<span class="hljs-tag">&lt;/<span class="hljs-name">tileId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">facId</span>&gt;</span>132<span class="hljs-tag">&lt;/<span class="hljs-name">facId</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">InWaterA_1M</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">InWaterA_1M</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;F2&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">wkbGeom</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;P2&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span>-30.92013931274414 117.6552810668945 -30.92383384704589 117.661361694336 -30.93005561828613 117.6666412353516 -30.93280601501464 117.6663589477539 -30.93186187744141 117.6594467163086 -30.93780517578125 117.6541137695312 -30.94397163391114 117.6519470214844 -30.94255638122559 117.6455535888672 -30.93402862548828 117.6336364746094 -30.92874908447266 117.6355285644531 -30.92138862609864 117.6326370239258 -30.92236137390137 117.6395568847656 -30.91708374023438 117.6433029174805 -30.91711044311523 117.6454467773437 -30.92061042785645 117.6484985351563 -30.92061042785645 117.6504135131836 -30.91638946533203 117.6504440307617 -30.92013931274414 117.6552810668945 <span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">wkbGeom</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>28021<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fCode</span>&gt;</span>BH000<span class="hljs-tag">&lt;/<span class="hljs-name">fCode</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">hyc</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">hyc</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tileId</span>&gt;</span>177<span class="hljs-tag">&lt;/<span class="hljs-name">tileId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">facId</span>&gt;</span>131<span class="hljs-tag">&lt;/<span class="hljs-name">facId</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">InWaterA_1M</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p>我们发送下面xml文件。</p><blockquote><p>⚠️ 注意这里需要指定<code>cesium</code>的命名空间，即添加<code>xmlns:cesium=&quot;http://geoserver.org/cesium&quot;</code>到首部</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.2&quot;</span> <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:cesium</span>=<span class="hljs-string">&quot;http://geoserver.org/cesium&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://localhost:8080/geoserver/cesium&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>  <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://geoserver.org/cesium http://localhost:8080/geoserver/cesium/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=cesium%3A0</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Insert</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cesium:0</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.133&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiSurface</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.133.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.133.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span>30.25465775 115.07079315 30.25456238 115.06994629 30.2590847 115.0690918 30.26287651 115.05915833 30.26636124 115.0373764 30.26559639 115.02616882 30.26219177 115.01602173 30.24378777 115.01037598 30.23891258 115.00079346 30.2325573 114.99259949 30.22265625 114.99238586 30.21601677 114.98714447 30.21361542 114.97647095 30.21756935 114.95479584 30.21509171 114.94419098 30.21652412 114.9338913 30.22030449 114.92395782 30.22470665 114.90261841 30.23828316 114.8738327 30.237463 114.86690521 30.24502373 114.85974121 30.26275063 114.85244751 30.27095985 114.84703064 30.27897072 114.84107971 30.28544044 114.83226776 30.31149673 114.81967163 30.31545067 114.80973816 30.31489944 114.79901123 30.30734825 114.75548553 30.30898285 114.74446869 30.31279564 114.73446655 30.32083511 114.728508 30.3254776 114.71905518 30.32468033 114.70842743 30.31648254 114.70349121 30.30724144 114.70632935 30.29900169 114.71166992 30.29092407 114.71338654 30.2834053 114.70578766 30.27821732 114.69649506 30.26984024 114.66522217 30.26228333 114.65762329 30.25385284 114.65278625 30.24425125 114.65103912 30.22662354 114.65866089 30.21840668 114.66404724 30.21080589 114.67111969 30.1901722 114.69676971 30.18137741 114.70079803 30.17220116 114.69802856 30.16435051 114.69155121 30.15465546 114.69039154 30.14727783 114.69818115 30.14146996 114.70727539 30.13384056 114.71439362 30.1242466 114.71257019 30.11707115 114.72077942 30.10812569 114.72307587 30.09960556 114.71850586 30.07957649 114.71770477 30.07112122 114.72245026 30.06212807 114.72244263 30.04593849 114.69551849 30.04584122 114.68448639 30.04269409 114.67558289 30.03408623 114.67113495 30.02782249 114.65065765 30.02654648 114.64027405 30.02986717 114.63014984 30.03682518 114.62254333 30.04561043 114.61869812 30.0521698 114.61106873 30.05439758 114.60043335 30.05428886 114.58940887 30.04920769 114.56819916 30.05509186 114.5532608 30.06316757 114.54646301 30.06556892 114.53590393 30.08077812 114.52945709 30.09724998 114.51882172 30.11962128 114.4966507 30.12949181 114.49556732 30.16864777 114.49947357 30.18676567 114.50556946 30.20768929 114.52744293 30.22538757 114.53474426 30.24469757 114.53747559 30.25306511 114.54249573 30.25988579 114.55049896 30.27596855 114.56256104 30.29089546 114.57728577 30.30810165 114.58521271 30.33786583 114.58705902 30.40586662 114.57727051 30.41341209 114.58026123 30.42062187 114.57582092 30.44076347 114.57483673 30.45099258 114.57481384 30.47934532 114.58094788 30.48887062 114.57894897 30.49550056 114.57282257 30.49972153 114.56293488 30.50855637 114.56085205 30.53451347 114.57071686 30.54680061 114.59066772 30.56194687 114.60480499 30.55775261 114.62402344 30.5594101 114.63503265 30.57954979 114.67248535 30.59669876 114.71140289 30.60749054 114.74160767 30.61718369 114.76052856 30.6186409 114.77120209 30.61618042 114.77648163 30.61187172 114.78574371 30.59084511 114.81065369 30.57367134 114.82085419 30.57622337 114.82484436 30.5783329 114.82788849 30.58020401 114.83030701 30.58137512 114.83240509 30.58192062 114.8342514 30.58251762 114.83656311 30.58494759 114.83777618 30.58829117 114.83904266 30.59139061 114.83924866 30.5942421 114.83847046 30.59700012 114.83835602 30.59949684 114.84043121 30.60252953 114.84442139 30.60474968 114.84775543 30.60698891 114.85222626 30.60944748 114.85595703 30.61115265 114.85930634 30.61286354 114.86299133 30.61411095 114.86647797 30.61478424 114.86972046 30.61545372 114.87242126 30.61629486 114.87578583 30.6166153 114.87843323 30.61659431 114.88108826 30.6145668 114.88383484 30.61218071 114.88573456 30.60996628 114.88762665 30.6073513 114.88933563 30.60513115 114.89083099 30.60285568 114.89232635 30.60064507 114.89442444 30.59866714 114.89650726 30.59778023 114.89904022 30.59771156 114.90322113 30.59786606 114.90606689 30.59794617 114.9082489 30.59798241 114.9106369 30.59771729 114.91255951 30.59664345 114.91364288 30.59520912 114.91413116 30.59332657 114.9148941 30.59006882 114.91514587 30.58668327 114.91553497 30.58433723 114.91603851 30.58215714 114.91614532 30.58019829 114.91551971 30.57818985 114.91488647 30.5759449 114.91432953 30.57398605 114.91383362 30.5716877 114.91320801 30.5697937 114.91310883 30.56761551 114.91347504 30.5662384 114.91383362 30.56533241 114.9145813 30.56494904 114.91590881 30.56537628 114.91841888 30.56593323 114.92119598 30.56614113 114.92390442 30.56530762 114.92650604 30.56385231 114.9291153 30.56244469 114.93138885 30.56133461 114.93471527 30.56126022 114.93796539 30.5607872 114.94115448 30.56070328 114.94380188 30.56056213 114.94632721 30.56070709 114.94863892 30.56215858 114.95027161 30.56394768 114.95117188 30.56534195 114.9526062 30.56674767 114.95483398 30.56821251 114.95738983 30.5684166 114.9601059 30.56850052 114.96255493 30.56889153 114.96625519 30.57036781 114.96934509 30.57201576 114.97270203 30.57375526 114.97518921 30.5759201 114.97806549 30.57777596 114.98028564 30.58032036 114.98203278 30.58280754 114.98358917 30.58471489 114.98461151 30.58720207 114.98642731 30.59021378 114.98856354 30.59356308 114.9906311 30.59591484 114.99105835 30.59815407 114.99128723 30.6000061 114.99211884 30.60191345 114.99347687 30.60320282 114.99591064 30.60467339 114.99880219 30.60673141 115.00314331 30.60780144 115.00637054 30.60972786 115.00912476 30.61220741 115.01033783 30.61542892 115.01095581 30.61806679 115.01077271 30.62059975 115.01186371 30.62252998 115.01481628 30.62446976 115.01908875 30.62762833 115.0240097 30.63018417 115.02661896 30.63381577 115.02888489 30.63664818 115.03063202 30.63867569 115.03231812 30.6415081 115.03419495 30.64394188 115.03601074 30.64569092 115.03817749 30.64674187 115.0402832 30.6463089 115.04221344 30.64582253 115.04520416 30.64367104 115.04735565 30.64126968 115.04818726 30.63938713 115.04921722 30.63746262 115.05117035 30.63593864 115.05351257 30.63437271 115.05685425 30.63228989 115.06033325 30.63042641 115.0631485 30.62855148 115.06503296 30.62530136 115.06654358 30.62244415 115.06725311 30.61940575 115.06716156 30.61694145 115.0676651 30.61017609 115.07056427 30.60916138 115.06996918 30.60109329 115.06207275 30.59676743 115.06034088 30.58938408 115.05738831 30.56394386 115.05521393 30.56005478 115.05630493 30.55020142 115.0555954 30.54606247 115.05297089 30.54190636 115.04823303 30.54345322 115.03945923 30.54707336 115.03279114 30.54818916 115.02826691 30.54654884 115.02244568 30.54283905 115.01610565 30.53433609 115.0121994 30.52701187 115.01279449 30.52150536 115.01151276 30.50706863 115.010849 30.49467087 115.00617981 30.48962593 115.00335693 30.4792614 114.99756622 30.46479607 114.99318695 30.46328545 114.9932251 30.4604969 114.99330139 30.44945145 114.99359131 30.4366684 114.99980164 30.43590927 115.00042725 30.4305191 115.00489044 30.4314537 115.00779724 30.43627548 115.00934601 30.44041443 115.01196289 30.43951225 115.01356506 30.43195534 115.01416016 30.42029572 115.0174408 30.41604424 115.01882172 30.4114933 115.01499176 30.40950584 115.01331329 30.40788078 115.02080536 30.40662766 115.02509308 30.40555573 115.02778625 30.40491867 115.02967834 30.40428543 115.03154755 30.40122986 115.03618622 30.39901924 115.03996277 30.39387131 115.04644012 30.39106178 115.05059814 30.38635254 115.05448914 30.38142204 115.05864716 30.37454796 115.0623703 30.36911201 115.06557465 30.36444664 115.06738281 30.35965157 115.06918335 30.35485649 115.07098389 30.35124588 115.07247162 30.34636307 115.07381439 30.34120369 115.07541656 30.3367691 115.07607269 30.33215523 115.0772934 30.32249641 115.07880402 30.3150444 115.08013153 30.30809975 115.08152008 30.3024826 115.08247375 30.2984314 115.08317566 30.29518127 115.0830307 30.29125786 115.08210754 30.28686714 115.08094788 30.28105927 115.07752228 30.27635765 115.0754776 30.27189636 115.0736084 30.269207 115.07273102 30.26827049 115.07242584 30.26795387 115.07238007 30.26357841 115.07171631 30.2598877 115.0712738 30.25707436 115.07108307 30.25465775 115.07079315<span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiSurface</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_0</span>&gt;</span>CHN<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_0</span>&gt;</span>China<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_1</span>&gt;</span>CHN.13_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_1</span>&gt;</span>Hubei<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span>湖北<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_2</span>&gt;</span>CHN.13.2_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_2</span>&gt;</span>Ezhou by emhui<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span>Èzhōu<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span>鄂州市<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:TYPE_2</span>&gt;</span>Dìjíshì<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:TYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span>Prefecture City<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:CC_2</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:HASC_2</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:0</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p>插入结果如图所示，插入成功，但是feaureid好像是系统自动分配的</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/Drk4uR.png" alt="Drk4uR"></p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/nzIcHX.png" alt="nzIcHX"></p><p>其他</p><blockquote><p> 查询需要添加一句话到xml中</p></blockquote><blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">xmlns:cesium=&quot;http://geoserver.org/cesium&quot;<br></code></pre></td></tr></table></figure></blockquote><blockquote><p><code>xmlns:cesium</code>是一个命名空间，如果不添加这句话，那么下面的<code>&lt;cesium:xxx&gt;&lt;/cesium:xxx&gt;</code>都无法解析</p></blockquote><blockquote><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/ZVwnjv.png" alt="ZVwnjv"></p></blockquote><p>测试</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.2&quot;</span> <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:cesium</span>=<span class="hljs-string">&quot;http://geoserver.org/cesium&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://localhost:8080/geoserver/cesium&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>  <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://geoserver.org/cesium http://localhost:8080/geoserver/cesium/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=cesium%3A0</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Insert</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cesium:0</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;1.123&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiSurface</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;1.123.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.133.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span><br>                                        50.75596883266384 103.3116295189964<br>                                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiSurface</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_0</span>&gt;</span>CHN<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_0</span>&gt;</span>China<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_1</span>&gt;</span>CHN.13_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_1</span>&gt;</span>CUG<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span>中国地质大学<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_2</span>&gt;</span>CHN.13.2_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_2</span>&gt;</span>Ezhou by emhui<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span>Geo<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span>中国地质大学市<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:TYPE_2</span>&gt;</span>Da<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:TYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span>Prefecture City<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:CC_2</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:HASC_2</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:0</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="删除元素"><a href="#删除元素" class="headerlink" title="删除元素"></a>删除元素</h2><p>先保留id为<code>0.102</code>的元素数据，等会再插入进去</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:FeatureCollection</span> <span class="hljs-attr">xmlns:xs</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="hljs-attr">xmlns:cesium</span>=<span class="hljs-string">&quot;http://geoserver.org/cesium&quot;</span> <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span> <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">numberMatched</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">numberReturned</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">timeStamp</span>=<span class="hljs-string">&quot;2020-10-21T05:46:20.854Z&quot;</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0 http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd http://geoserver.org/cesium http://localhost:8080/geoserver/cesium/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=cesium%3A0 http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:member</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cesium:0</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.102&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiSurface</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.102.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.102.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span>52.87590027 125.72106171 52.87631226 125.72225189 52.88783264 125.75554657 52.89224243 125.764328 52.89488983 125.7745285 52.89529037 125.78442383 52.896492 125.81410217 52.89524078 125.83249664 52.89196014 125.83946228 52.88703156 125.84554291 52.87664032 125.84452057 52.87240982 125.84525299 52.86016083 125.84910583 52.8502121 125.85823822 52.84778976 125.86045837 52.83636093 125.87821198 52.83235931 125.88729095 52.82593918 125.8939209 52.80849075 125.91542816 52.79116058 125.92941284 52.7725296 125.95012665 52.76522446 125.96109772 52.76082993 125.96769714 52.76063919 125.98059082 52.76224136 125.98866272 52.76686096 126.0015564 52.77236938 126.00979614 52.77455902 126.01432037 52.77589035 126.01785278 52.78863144 126.03088379 52.79095078 126.03325653 52.79547882 126.04283142 52.79640961 126.04923248 52.79468918 126.05885315 52.78869629 126.0717392 52.78517151 126.07932281 52.77574539 126.09641266 52.7726593 126.10201263 52.76383972 126.11279297 52.75654221 126.10933685 52.74768066 126.09442139 52.74520111 126.08686066 52.74556351 126.07211304 52.74491119 126.06838226 52.74302673 126.05756378 52.74243927 126.04737854 52.73875046 126.04234314 52.73246002 126.04145813 52.71908569 126.04541779 52.71452332 126.04907227 52.70608139 126.05583954 52.69290924 126.06349182 52.69031906 126.06529999 52.67987823 126.0612793 52.67793274 126.06053162 52.67624664 126.05988312 52.67142868 126.05570984 52.67074966 126.05439758 52.66882324 126.0506897 52.66833878 126.04975891 52.66824341 126.0484848 52.66770172 126.04132843 52.66749191 126.03855896 52.6676178 126.03557587 52.66808319 126.0245285 52.67086411 126.00449371 52.66779327 125.99062347 52.66372681 125.97955322 52.65679169 125.97042847 52.647789 125.96539307 52.63829041 125.96382904 52.6240654 125.96531677 52.62253952 125.96547699 52.60788345 125.97412872 52.59682465 125.98561096 52.58967209 125.99310303 52.585289 125.99677277 52.58097076 126.00572205 52.58272171 126.0329361 52.58744049 126.04354095 52.59114838 126.04823303 52.59743881 126.05819702 52.59880066 126.06402588 52.60015869 126.06984711 52.59307861 126.08294678 52.58863068 126.08965302 52.58499146 126.10262299 52.56912994 126.13548279 52.5561409 126.15809631 52.55437469 126.16126251 52.54172516 126.18392944 52.53516006 126.19391632 52.52664948 126.20195007 52.52629089 126.20210266 52.51834869 126.20542145 52.5013504 126.19664764 52.49483871 126.19084167 52.48332977 126.18566132 52.48165894 126.18490601 52.47868347 126.18482971 52.47293091 126.18467712 52.46583176 126.1891098 52.46239853 126.20199585 52.46405411 126.2103653 52.4681015 126.2308197 52.46928406 126.24416351 52.46891403 126.25847626 52.45798874 126.27282715 52.43928146 126.29168701 52.42892075 126.30406189 52.42092514 126.31637573 52.41634369 126.32343292 52.41387939 126.32723236 52.39595032 126.34368134 52.38718033 126.34778595 52.37871933 126.35177612 52.36703873 126.35231781 52.36366653 126.35355377 52.34489059 126.34986877 52.33483124 126.35057068 52.32474899 126.34641266 52.31212997 126.33402252 52.30638123 126.32837677 52.29935074 126.33920288 52.29716873 126.35408783 52.29674911 126.36348724 52.29473877 126.3731308 52.29474258 126.38474274 52.29456711 126.39484406 52.29444122 126.40196228 52.2919693 126.42025757 52.29092026 126.4230957 52.28876114 126.42894745 52.28483963 126.43284607 52.284729 126.43959808 52.27436447 126.4257431 52.27056122 126.41020966 52.26525879 126.38932037 52.25489044 126.34854889 52.25144958 126.34008026 52.24515915 126.32977295 52.23178864 126.31151581 52.2234993 126.30290222 52.22328186 126.30267334 52.21572876 126.29889679 52.21130753 126.29862213 52.20675659 126.29833221 52.20487213 126.30098724 52.19971848 126.3082962 52.19490433 126.31886292 52.18843842 126.33305359 52.1817894 126.36309052 52.18046951 126.38202667 52.17932129 126.39849091 52.17782974 126.40426636 52.17742157 126.40585327 52.17720795 126.40973663 52.17578125 126.43553925 52.17034149 126.45848083 52.16846085 126.46639252 52.15779495 126.49472046 52.15632629 126.49604034 52.15385056 126.4982605 52.1477356 126.51048279 52.14263916 126.52066803 52.13064957 126.54882813 52.13016891 126.54995728 52.12087631 126.55645752 52.10924149 126.55768585 52.10704041 126.55502319 52.10092163 126.54767609 52.09401703 126.54486084 52.07162094 126.53572083 52.06470871 126.53472137 52.05416107 126.52191925 52.04748917 126.51729584 52.03342056 126.51571655 52.02902985 126.50630188 52.028862 126.49443054 52.03126144 126.48229218 52.03084946 126.47454834 52.03079224 126.46118164 52.02825928 126.45262909 52.02186966 126.44481659 52.01605606 126.44325256 52.0060997 126.44558716 52.00541687 126.44574738 51.99919891 126.44716644 51.98892975 126.45504761 51.97336197 126.46427155 51.95381927 126.45921326 51.94272232 126.46186829 51.93531036 126.46920776 51.93198013 126.4756012 51.92747879 126.48677063 51.92549133 126.49170685 51.91908646 126.49756622 51.909729 126.5061264 51.89935684 126.51386261 51.8944397 126.52307129 51.89051056 126.53042603 51.88995743 126.53146362 51.88882828 126.53260803 51.87733078 126.54429626 51.86809921 126.55161285 51.85640335 126.56086731 51.83979034 126.56851959 51.83467102 126.57087708 51.82268143 126.5739975 51.80533981 126.59337616 51.79030991 126.59984589 51.7828598 126.60661316 51.78023148 126.6089859 51.77146149 126.62124634 51.76145935 126.64070892 51.75664139 126.65392303 51.74295044 126.65982056 51.73701859 126.65789795 51.73140335 126.65572357 51.72661209 126.65691376 51.72369003 126.66078949 51.72128677 126.66825104 51.72270966 126.6786499 51.72069168 126.71335602 51.71342087 126.72354889 51.70373535 126.72705078 51.69779968 126.72602844 51.69771957 126.72601318 51.6920929 126.72171021 51.69031906 126.72035217 51.67741394 126.71911621 51.66592789 126.72322083 51.65882111 126.72749329 51.65858078 126.72766876 51.6475296 126.73561096 51.63954926 126.73667145 51.63279724 126.73461914 51.63142776 126.73253632 51.62857056 126.72817993 51.61809921 126.7118988 51.61271667 126.7052536 51.60774994 126.6889801 51.60272598 126.68045044 51.59516144 126.67594147 51.58526993 126.6798172 51.57971954 126.68792725 51.57567978 126.69399261 51.57139969 126.70449066 51.57077026 126.70820618 51.56853104 126.71530914 51.56731796 126.71925354 51.56486893 126.72484589 51.55844116 126.74260712 51.55466843 126.75936127 51.55263901 126.76837158 51.54499054 126.79840851 51.53752899 126.8184967 51.53118134 126.82923889 51.52653885 126.83277893 51.5180397 126.83242035 51.50726318 126.82794189 51.48564529 126.80396271 51.48271179 126.80278778 51.47718048 126.80059052 51.4642334 126.7954483 51.46060181 126.79400635 51.45281219 126.78954315 51.44799042 126.78502655 51.44036484 126.78382111 51.42922592 126.78879547 51.42758179 126.78952789 51.41687012 126.80448914 51.41358948 126.81664276 51.40718079 126.8533783 51.40335846 126.88684082 51.39736176 126.90445709 51.38801193 126.91363525 51.38576889 126.91583252 51.3727951 126.92144775 51.3678093 126.92360687 51.35659409 126.9239502 51.34836578 126.91988373 51.34331131 126.91503143 51.33750916 126.90442657 51.33502197 126.89597321 51.33753967 126.84552002 51.33433914 126.83204651 51.32218933 126.81861877 51.30900192 126.81630707 51.29687119 126.81678772 51.28210068 126.81942749 51.27231979 126.82544708 51.26358414 126.83396912 51.25592041 126.84143829 51.24687958 126.85756683 51.24261856 126.86871338 51.24144745 126.8772583 51.24150848 126.88308716 51.24364853 126.90289307 51.24961853 126.9107666 51.25273132 126.91487885 51.26441956 126.91485596 51.26712418 126.91279602 51.27480698 126.9069519 51.29574966 126.87650299 51.30630112 126.87185669 51.31003952 126.87320709 51.31946945 126.89211273 51.32014465 126.89595032 51.32331085 126.9139328 51.32506943 126.92175293 51.32585144 126.9373703 51.32633209 126.95632935 51.32514954 126.96488953 51.31987762 126.97432709 51.30776978 126.97986603 51.29138947 126.97318268 51.29086685 126.9728241 51.26647949 126.95622253 51.25538254 126.94384766 51.25119019 126.93917084 51.24597931 126.93225098 51.23915863 126.92317963 51.23791504 126.92227936 51.23273087 126.91851807 51.22598267 126.91645813 51.2025032 126.90084839 51.18836594 126.89791107 51.18774033 126.89804077 51.15409088 126.9048233 51.12990952 126.91191101 51.12837982 126.91205597 51.11531067 126.91339874 51.10058975 126.91707611 51.07971954 126.91718292 51.06199265 126.92015839 51.05799866 126.92285156 51.05142975 126.93348694 51.0464592 126.94429779 51.03083801 126.96961212 51.02141953 126.98487091 51.0120697 126.99511719 51.00599289 127.00061798 51.00318146 127.0031662 51.00043869 127.00565338 50.9928894 127.01058197 50.98195648 127.02148438 50.97803497 127.02539825 50.97168732 127.03173065 50.96573257 127.04118347 50.95992279 127.05800629 50.95709991 127.06617737 50.93721008 127.10488892 50.93387222 127.11181641 50.92562866 127.121521 50.90480042 127.14109039 50.89715958 127.14679718 50.82955933 127.19722748 50.81772995 127.20249176 50.8290062 127.1934433 50.84143066 127.18460846 50.8509903 127.17686462 50.86335754 127.16628265 50.87846756 127.1550293 50.89469147 127.14411926 50.90481186 127.1367569 50.91569901 127.12320709 50.92816925 127.10733795 50.9373436 127.09216309 50.94043732 127.08535004 50.94525909 127.07228088 50.95055771 127.05697632 50.95501328 127.04130554 50.95893097 127.0344162 50.96425247 127.02828979 50.97383881 127.01743317 50.97483063 127.01677704 50.9727478 127.01443481 50.96881104 127.0100174 50.96577835 127.00613403 50.96249771 127.00196075 50.96134567 127.00049591 50.95464325 126.99638367 50.95064545 126.99305725 50.94421387 126.98770142 50.93795776 126.98285675 50.93370056 126.97395325 50.92806625 126.96474457 50.92312241 126.95587158 50.91993713 126.94258881 50.92022324 126.93171692 50.91953278 126.91725922 50.91687012 126.89382172 50.91635895 126.87646484 50.91648102 126.86994171 50.91445541 126.84431458 50.91308975 126.83097839 50.91116714 126.81185913 50.91139221 126.7980957 50.91049576 126.78582001 50.90964508 126.76304626 50.91085052 126.75322723 50.91019821 126.72899628 50.91067505 126.71703339 50.91034317 126.68554688 50.90908813 126.66677856 50.90808105 126.64907837 50.90955734 126.62982941 50.90919876 126.61029816 50.90846252 126.5954895 50.90641022 126.58363342 50.90483856 126.57320404 50.90386581 126.55804443 50.90472031 126.5428009 50.90435791 126.53593445 50.90330505 126.51679993 50.90257645 126.50271606 50.90236664 126.49222565 50.9033699 126.48493958 50.90555191 126.47940826 50.90907288 126.47236633 50.91281509 126.46459198 50.91748047 126.45748901 50.92059326 126.4529953 50.92720413 126.44001007 50.93205261 126.4307251 50.93820572 126.41811371 50.9431572 126.40229797 50.94868469 126.39297485 50.95284653 126.38371277 50.95550156 126.37923431 50.95859528 126.3736496 50.96419144 126.36756897 50.96996689 126.35895538 50.97477722 126.34819794 50.97891235 126.33784485 50.97994995 126.3356781 50.97982788 126.33287048 50.98060989 126.32783508 50.98106003 126.32662201 50.98625565 126.31998444 50.99028778 126.31083679 50.99201202 126.29992676 50.99075699 126.28835297 50.98873901 126.26882172 50.99270248 126.25314331 50.99448013 126.24766541 50.99892807 126.2355957 51.00014496 126.22033691 50.99439621 126.21720886 50.9814682 126.20519257 50.97307587 126.18981171 50.96608353 126.1772995 50.9648819 126.1678772 50.96528625 126.16680908 50.96580505 126.15122223 50.96826553 126.14544678 50.96892929 126.14389038 50.96986771 126.1253891 50.96960831 126.12360382 50.95794678 126.12140656 50.95501709 126.12338257 50.95301819 126.12469482 50.95140839 126.12574768 50.94734573 126.12850952 50.94320297 126.12728119 50.93739319 126.12361145 50.93211746 126.11302948 50.9274292 126.09842682 50.92007828 126.08724213 50.91493988 126.07303619 50.91330338 126.0615387 50.91288757 126.05358887 50.91337204 126.0448761 50.91464233 126.0306778 50.91737366 126.01282501 50.92559052 126.01356506 50.92775345 126.01615906 50.93208694 126.02135468 50.93081284 126.02971649 50.92565536 126.0354538 50.92313766 126.03825378 50.92521667 126.03946686 50.92728424 126.0406723 50.93482971 126.04046631 50.94166183 126.03810883 50.94568634 126.04560089 50.94914246 126.05202484 50.95256805 126.05157471 50.95941162 126.0503006 50.9619751 126.05421448 50.95911407 126.06407166 50.95949173 126.0669632 50.95986938 126.06985474 50.96079254 126.07091522 50.96197128 126.07378387 50.96657181 126.07619476 50.96672821 126.0745163 50.96718216 126.06965637 50.96733475 126.06312561 50.97328186 126.06296539 50.97466278 126.06105042 50.97620392 126.05889893 50.97563171 126.04876709 50.97806168 126.04145813 50.9809494 126.04037476 50.98329926 126.03949738 50.9884758 126.04147339 50.98950195 126.04186249 50.99836349 126.03726959 51.00282669 126.02771759 51.00533295 126.02692413 51.00854492 126.02792358 51.01338959 126.03141785 51.01610184 126.02880096 51.02079773 126.03156281 51.02140045 126.03192139 51.02312469 126.04239655 51.02641296 126.03842163 51.02650833 126.03830719 51.03010178 126.03276825 51.0349617 126.0377121 51.03113937 126.04486847 51.0284729 126.04986572 51.03128433 126.0555954 51.03695679 126.05281067 51.03833008 126.05213928 51.04117584 126.04153442 51.04175949 126.03244781 51.04172134 126.02916718 51.04167175 126.02519226 51.04389572 126.01968384 51.04613876 126.02201843 51.04898834 126.02498627 51.05376434 126.02304077 51.05222321 126.00856018 51.05679321 126.0044632 51.06391525 126.01113892 51.06535721 126.00455475 51.06472778 126.00376129 51.0617485 126 51.07627106 125.98672485 51.08142853 125.97301483 51.08511353 125.97464752 51.08472443 125.98296356 51.08680344 125.98679352 51.08995819 125.98358154 51.09184647 125.97545624 51.09569931 125.973526 51.10979843 125.98777008 51.11581421 125.99384308 51.12041473 125.99200439 51.11642838 125.98077393 51.12343979 125.97563934 51.12371826 125.96970367 51.10895157 125.9469986 51.10687256 125.94380188 51.10811615 125.93320465 51.11288071 125.92779541 51.11592865 125.92696381 51.12005234 125.91909027 51.12304688 125.91944122 51.12399292 125.93149567 51.12687302 125.93422699 51.12848282 125.93202972 51.139534 125.90465546 51.13484573 125.89215851 51.13511658 125.88621521 51.13973618 125.87678528 51.14009857 125.87604523 51.13984299 125.86525726 51.14316177 125.85847473 51.14839935 125.85909271 51.1529274 125.87516022 51.15999222 125.86881256 51.16757965 125.86730957 51.17341995 125.85484314 51.18464661 125.8561554 51.20015335 125.8460083 51.20912933 125.84705353 51.21651459 125.83355713 51.22052765 125.82803345 51.22411728 125.81528473 51.22247314 125.78517151 51.22388077 125.76933289 51.2255249 125.75080872 51.22953415 125.7452774 51.24406815 125.75653076 51.25844955 125.75458527 51.2642746 125.74208069 51.27442932 125.73365784 51.27939606 125.72344208 51.28538132 125.72412872 51.29863739 125.71365356 51.30295944 125.70095825 51.31038666 125.70300293 51.33047867 125.69090271 51.33454132 125.68416595 51.33488464 125.68043518 51.33597183 125.66873169 51.34622192 125.65789032 51.34878159 125.65097809 51.3569603 125.65310669 51.3590889 125.6389389 51.37233353 125.6284256 51.38204193 125.61270905 51.38704681 125.61151123 51.38888168 125.61107635 51.39070892 125.61181641 51.39700699 125.61438751 51.39728165 125.61236572 51.39923096 125.59781647 51.41701126 125.58659363 51.42192459 125.57776642 51.43087387 125.56169128 51.43910217 125.56260681 51.44398117 125.57157135 51.45022964 125.56625366 51.45133591 125.55796051 51.45992661 125.55049896 51.46128845 125.53620911 51.48515701 125.52321625 51.49158478 125.5128479 51.49664688 125.50467682 51.51098633 125.48152161 51.51797485 125.47626495 51.53258896 125.45489502 51.54430008 125.4377594 51.55322266 125.42469788 51.55554581 125.42249298 51.56575012 125.41279602 51.57954407 125.38657379 51.58615112 125.37400818 51.59233856 125.37206268 51.59757614 125.37041473 51.60856247 125.36265564 51.61027145 125.3614502 51.61604309 125.35317993 51.62217712 125.34353638 51.61994553 125.33113861 51.61970139 125.33011627 51.6163826 125.31748962 51.61348343 125.31406403 51.6115799 125.31181335 51.60829163 125.30813599 51.61278152 125.29942322 51.63233566 125.28128052 51.63581848 125.2746582 51.6350975 125.26425934 51.63000107 125.26003265 51.62871933 125.25215912 51.6360054 125.23300171 51.6371994 125.2298584 51.63894272 125.22083282 51.63664246 125.21543121 51.62950134 125.21060944 51.62907791 125.2101059 51.62643814 125.20697021 51.63657379 125.1717453 51.63764954 125.1680069 51.63730621 125.15950012 51.63521576 125.15448761 51.63389969 125.14646149 51.63282013 125.13986969 51.63241196 125.12730408 51.6372261 125.12154388 51.64611435 125.12284088 51.65122223 125.12117004 51.65721893 125.12032318 51.65872955 125.11434174 51.65912247 125.11277771 51.65959167 125.10103607 51.65655899 125.09076691 51.64537811 125.08370972 51.63869095 125.07896423 51.63430023 125.07408905 51.63167572 125.07086945 51.62865448 125.06613922 51.62277603 125.0640564 51.61386108 125.06349945 51.60992432 125.05867767 51.60387421 125.05510712 51.59869385 125.05272675 51.59505844 125.05198669 51.57658768 125.06111908 51.56917953 125.06293488 51.56382751 125.06495667 51.56013489 125.06567383 51.55168533 125.06480408 51.53707886 125.05152893 51.53335953 125.04710388 51.52792358 125.03956604 51.52719498 125.03249359 51.52692795 125.02990723 51.52540588 125.01615143 51.52738571 125.00106812 51.52769089 124.99874878 51.52355576 124.99317932 51.52145767 124.9881897 51.51473618 124.98420715 51.50981522 124.98088837 51.50959778 124.98074341 51.50680161 124.97605133 51.50614929 124.96964264 51.50597 124.96788788 51.50311279 124.94702911 51.50080872 124.93540955 51.49910736 124.92606354 51.49633408 124.92063904 51.49072647 124.91751099 51.48337173 124.9178772 51.48034668 124.91316986 51.4784584 124.90857697 51.47289276 124.91022491 51.47034454 124.91693878 51.46819687 124.92576599 51.46816635 124.92589569 51.46783447 124.92612457 51.4625206 124.92974091 51.45624161 124.93204498 51.44682693 124.93482208 51.44603729 124.93505859 51.44087219 124.9323349 51.43622971 124.92784119 51.43576431 124.92681122 51.43242645 124.91938782 51.43136978 124.91121674 51.42896271 124.9021759 51.42349243 124.895401 51.4164505 124.88773346 51.41140747 124.88173676 51.40612411 124.87608337 51.40018845 124.87549591 51.39483261 124.87753296 51.3870163 124.87779999 51.38656998 124.87781525 51.38610077 124.87696838 51.38185501 124.86928558 51.3789978 124.85987091 51.37818909 124.85720825 51.37857437 124.84698486 51.37985229 124.84172058 51.38074875 124.83804321 51.38352966 124.82512665 51.38742447 124.80682373 51.38769913 124.80357361 51.38831329 124.80194855 51.38784409 124.80185699 51.38825226 124.79701233 51.38916016 124.78501129 51.38981247 124.78104401 51.39064407 124.77600098 51.38854218 124.76480865 51.38343811 124.75405884 51.37872696 124.75141144 51.37371445 124.75055695 51.36507797 124.74863434 51.36257935 124.74781799 51.35873413 124.74655914 51.3554039 124.74367523 51.35071945 124.73406982 51.34473801 124.72216034 51.34182358 124.71419525 51.33924484 124.70955658 51.33768082 124.70314026 51.33705139 124.70056152 51.33161926 124.6861496 51.33226395 124.66864777 51.33401871 124.65820313 51.33438873 124.647995 51.33335876 124.63838196 51.32852173 124.63280487 51.32537079 124.62483215 51.32724762 124.61732483 51.33467102 124.60850525 51.33944702 124.60309601 51.34399796 124.59766388 51.34804916 124.59327698 51.35533905 124.58809662 51.36227417 124.57995605 51.36889648 124.56774902 51.37078476 124.55987549 51.3739357 124.54844666 51.37194443 124.53361511 51.37291336 124.51905823 51.37762833 124.50887299 51.37839127 124.50015259 51.37979889 124.49259186 51.37877274 124.48261261 51.36436844 124.4750824 51.36063766 124.4703598 51.35946655 124.46387482 51.35929108 124.46291351 51.3590889 124.44898987 51.35633087 124.43592834 51.35197449 124.42932129 51.34415436 124.42350006 51.33600235 124.420578 51.33010483 124.41896057 51.32408905 124.42061615 51.3063736 124.42269897 51.3022728 124.42196655 51.29950714 124.42245483 51.29280853 124.41506195 51.29265976 124.41490173 51.28971863 124.41390991 51.28095627 124.40882874 51.27780914 124.40700531 51.27030563 124.39867401 51.26983261 124.39241791 51.27410126 124.38146973 51.27765656 124.35767365 51.27022552 124.34021759 51.27499008 124.33478546 51.27985382 124.33338165 51.28414917 124.33258057 51.28654099 124.33213806 51.29181671 124.3318634 51.29057312 124.32810211 51.28995895 124.32520294 51.28938675 124.3225174 51.28757477 124.31505585 51.28793716 124.30412292 51.29032516 124.30200195 51.29431534 124.29846191 51.29589081 124.29238129 51.30002975 124.28316498 51.30331802 124.27584076 51.30668259 124.2640686 51.3107872 124.26478577 51.31754303 124.26134491 51.32339859 124.25745392 51.32703018 124.25154877 51.33491135 124.24177551 51.34303665 124.23169708 51.34580231 124.22425079 51.34638214 124.2226181 51.34776688 124.21871185 51.34832382 124.2171402 51.3483696 124.21578979 51.34854889 124.21021271 51.34716797 124.20350647 51.34243393 124.1939621 51.33694077 124.17960358 51.3387146 124.16731262 51.34146118 124.16022491 51.3441658 124.15460205 51.34147263 124.14559937 51.33802032 124.1317749 51.34180832 124.12831116 51.34462738 124.12574005 51.34571838 124.12034607 51.34415436 124.11342621 51.34310913 124.10878754 51.34246826 124.0999527 51.34113312 124.09143066 51.33958435 124.08252716 51.33288193 124.07722473 51.32447052 124.07508087 51.31908798 124.06403351 51.3191452 124.05490112 51.31951904 124.03555298 51.32150269 124.01596832 51.32133865 123.99707031 51.32125092 123.98706818 51.3199234 123.97818756 51.31649017 123.96292877 51.3146553 123.94815826 51.31168747 123.93257904 51.30643463 123.92449188 51.30298996 123.92176056 51.29927444 123.91881561 51.30457687 123.91009521 51.31143951 123.89527893 51.31798935 123.88298798 51.32297516 123.87715912 51.33005142 123.87039948 51.33431625 123.86560822 51.34205246 123.85982513 51.34274673 123.85930634 51.35495758 123.84927368 51.3592453 123.84375 51.36613846 123.83512878 51.36730194 123.82679749 51.36727524 123.81984711 51.36339951 123.81150055 51.36107635 123.80474091 51.35974121 123.79549408 51.35975266 123.78986359 51.35976028 123.78707886 51.36007309 123.78627014 51.36347198 123.77748108 51.36620712 123.77000427 51.3670845 123.76662445 51.36956024 123.75708008 51.37265778 123.74953461 51.37349701 123.74749756 51.37965012 123.7406311 51.38448334 123.73184204 51.39038086 123.72569275 51.39052963 123.72550201 51.39560699 123.71912384 51.39767838 123.71086121 51.39673996 123.70346832 51.39359283 123.70140076 51.39213562 123.70023346 51.3895607 123.69817352 51.3842392 123.69192505 51.38023758 123.68760681 51.37736893 123.68373871 51.37250519 123.67752838 51.36679459 123.67710876 51.35670853 123.67746735 51.35017014 123.67369843 51.34738159 123.66691589 51.34588623 123.66007233 51.34535217 123.65762329 51.34135818 123.65294647 51.33587265 123.65254974 51.32686615 123.65451813 51.32458115 123.65502167 51.31772614 123.65452576 51.31805801 123.64248657 51.31849289 123.63520813 51.31561661 123.62368774 51.31189728 123.60877991 51.31171799 123.59854126 51.31060791 123.58895874 51.30804062 123.5821991 51.3054924 123.57507324 51.3006897 123.57473755 51.29920578 123.57485199 51.29334641 123.57530975 51.29159546 123.57226563 51.28894424 123.56038666 51.28736115 123.55114746 51.28713989 123.54527283 51.2869606 123.54052734 51.28658295 123.53759003 51.28601456 123.53315735 51.28585434 123.52974701 51.28543472 123.52069855 51.28577805 123.5079422 51.28909683 123.49502563 51.29019165 123.47975922 51.2880249 123.46646118 51.28511047 123.45530701 51.27881622 123.45085907 51.27270126 123.44824982 51.27068329 123.44332123 51.27054596 123.44299316 51.26922226 123.43231964 51.27032852 123.42508698 51.27243042 123.41464233 51.27699661 123.40655518 51.27600861 123.39916229 51.27487946 123.39071655 51.27349091 123.38787842 51.2687912 123.37825775 51.26531982 123.37072754 51.26555634 123.36161804 51.26853561 123.35232544 51.27077103 123.34553528 51.27088547 123.33203125 51.268013 123.3187027 51.26488495 123.31066895 51.2634964 123.30709839 51.25801849 123.29724884 51.25429535 123.29044342 51.25106812 123.2853775 51.24944687 123.28282928 51.250103 123.27484894 51.25091171 123.27196503 51.25361633 123.26229858 51.25709534 123.25120544 51.25798416 123.24832916 51.26008224 123.24154663 51.26398468 123.23194122 51.26715088 123.22411346 51.27150726 123.22200012 51.27248001 123.2215271 51.27768326 123.2240448 51.27985764 123.21943665 51.28114319 123.21367645 51.28162766 123.20311737 51.28029251 123.19208527 51.28284836 123.18092346 51.28562164 123.17050934 51.28624725 123.16897583 51.28999329 123.15982056 51.29083252 123.15912628 51.29666138 123.15433502 51.29925156 123.14615631 51.2977562 123.13181305 51.29723358 123.12797546 51.29619598 123.12039948 51.29944992 123.11438751 51.30002213 123.11332703 51.30592728 123.10565186 51.30869675 123.09486389 51.30963898 123.08396149 51.31406021 123.07107544 51.31930542 123.06188965 51.32022476 123.05171204 51.31822968 123.0388031 51.31509018 123.02583313 51.31254578 123.01691437 51.30841446 123.00717163 51.31021881 122.99814606 51.31145096 122.99420166 51.31851196 122.98583984 51.32096481 122.98282623 51.32675171 122.97572327 51.33358383 122.96698761 51.34031677 122.9626236 51.34451294 122.95921326 51.35353088 122.95534515 51.36021805 122.95317078 51.36510468 122.95345306 51.36616135 122.9535141 51.37297058 122.95610046 51.38047791 122.95836639 51.38550186 122.95902252 51.39290619 122.95542145 51.39743805 122.94726563 51.40378571 122.9395752 51.40607071 122.92945862 51.40798569 122.92102051 51.40885544 122.91717529 51.40924072 122.90987396 51.41050339 122.90445709 51.41526413 122.89593506 51.41875076 122.89356995 51.42612076 122.89142609 51.43067169 122.89277649 51.43795776 122.89465332 51.44208145 122.89387512 51.44393539 122.89352417 51.4475441 122.88530731 51.44814682 122.88214111 51.45037842 122.87044525 51.45372009 122.86403656 51.46290588 122.86271667 51.46731949 122.85966492 51.47043228 122.85324097 51.47515869 122.84875488 51.47627258 122.84770203 51.47875595 122.8493042 51.48246002 122.85830688 51.48471069 122.85990143 51.49074554 122.86683655 51.49523544 122.87112427 51.49839783 122.8731308 51.50197601 122.8769989 51.50515366 122.87657166 51.50771713 122.8762207 51.51173782 122.87021637 51.51302719 122.86727905 51.51582336 122.86090088 51.5233345 122.85214996 51.52787781 122.85386658 51.53168106 122.85811615 51.5322876 122.86182404 51.53614426 122.87272644 51.53639221 122.87342834 51.5410881 122.87846375 51.54776764 122.87664032 51.55472565 122.87225342 51.55987549 122.86703491 51.56376648 122.86004639 51.56820679 122.8520813 51.57373428 122.83953094 51.57776642 122.8327713 51.58364868 122.82501221 51.58864212 122.82712555 51.59399796 122.83367157 51.60044479 122.84284973 51.60283279 122.84602356 51.60534668 122.84937286 51.61069489 122.84525299 51.61907959 122.83837128 51.62260056 122.83415222 51.62334061 122.83242798 51.62861633 122.82013702 51.63172531 122.81369019 51.6386528 122.8107605 51.64618301 122.81191254 51.65379333 122.809021 51.66209412 122.80256653 51.66263962 122.80213928 51.67008972 122.79592896 51.67329025 122.79286194 51.67919159 122.78721619 51.68478775 122.78237152 51.6908493 122.77680206 51.69667053 122.77196503 51.70248032 122.76786041 51.71144104 122.76613617 51.7190094 122.76543427 51.72546768 122.76284027 51.73180389 122.75881195 51.73242188 122.75842285 51.73802567 122.75283051 51.73905945 122.75041962 51.74235153 122.74273682 51.74599457 122.7436676 51.75095749 122.74725342 51.75544357 122.7515564 51.75746918 122.75350189 51.76532364 122.76130676 51.77122116 122.76383209 51.77806473 122.76494598 51.78014374 122.76340485 51.78317642 122.7611618 51.78918076 122.75852966 51.79423141 122.75769806 51.80187607 122.75331116 51.80680084 122.74729919 51.81257248 122.74465942 51.81744385 122.74159241 51.82304764 122.73599243 51.83221436 122.72528076 51.83837891 122.724617 51.84194183 122.72647095 51.84472275 122.7279129 51.85319519 122.72762299 51.85943222 122.72463226 51.86773682 122.72137451 51.87671661 122.71852875 51.88193893 122.7113266 51.88521194 122.70567322 51.88697815 122.70246124 51.88877106 122.69920349 51.89356232 122.70029449 51.89719772 122.7011261 51.90602112 122.70639801 51.91224289 122.71560669 51.91601944 122.72135925 51.92169189 122.72388458 51.92557907 122.72409058 51.93178177 122.72294617 51.94072342 122.71842194 51.94171906 122.7179184 51.94192886 122.71794128 51.94765472 122.71860504 51.95448685 122.72045135 51.96156311 122.72119904 51.96659088 122.72146606 51.97074509 122.719841 51.9773941 122.71907806 51.97880936 122.70544434 51.9787941 122.70536804 51.97529602 122.68598938 51.97318649 122.67699432 51.97880936 122.67024231 51.98372269 122.66457367 51.98647308 122.66434479 51.9906044 122.66381836 51.99547577 122.66036987 52 122.65620422 52.00377274 122.65630341 52.01563644 122.65661621 52.02223969 122.65458679 52.03017807 122.64881897 52.03607941 122.64532471 52.05776596 122.64362335 52.06200409 122.63424683 52.06246185 122.62804413 52.06280136 122.62347412 52.06570816 122.61746979 52.06813431 122.61857605 52.08637619 122.62689972 52.08723831 122.62723541 52.09348679 122.62966919 52.09685898 122.63158417 52.10222244 122.63462067 52.10818863 122.63705444 52.11804581 122.63014984 52.12132645 122.62786102 52.12860107 122.62276459 52.13523483 122.62368774 52.13673782 122.63589478 52.13674927 122.63633728 52.13710785 122.64924622 52.13875961 122.67823792 52.13907242 122.68371582 52.14299011 122.68732452 52.14496231 122.70100403 52.14771652 122.71562958 52.14858246 122.72021484 52.15211868 122.730896 52.15670776 122.7326355 52.15761948 122.73297882 52.16085434 122.73590088 52.1652298 122.73984528 52.16667557 122.74314117 52.1699028 122.75049591 52.17710495 122.76294708 52.19541931 122.7665863 52.19720078 122.76646423 52.20409775 122.76599884 52.20934296 122.76550293 52.21777725 122.76306152 52.22686005 122.75725555 52.23122025 122.75901031 52.23847961 122.77996826 52.2385025 122.78003693 52.24378586 122.78288269 52.24982834 122.78064728 52.25130081 122.78009796 52.25352859 122.77445984 52.25554657 122.77031708 52.26094437 122.76125336 52.26546097 122.75592804 52.26495361 122.75073242 52.25885773 122.73487854 52.25737 122.7230072 52.25611496 122.71187592 52.25489044 122.70371246 52.2602272 122.68906403 52.26914215 122.6895752 52.27535629 122.67190552 52.27552032 122.64434814 52.27249527 122.63884735 52.27082825 122.63293457 52.26926422 122.6151123 52.26820374 122.60136414 52.26529312 122.58618164 52.2652092 122.57911682 52.28137589 122.55369568 52.28374863 122.54133606 52.28527069 122.53459167 52.28672791 122.52262115 52.28715134 122.50026703 52.29067993 122.48973083 52.2947998 122.47097778 52.29953003 122.46560669 52.30251312 122.46662903 52.31331253 122.47151184 52.317173 122.4695282 52.32353973 122.46708679 52.32860947 122.47028351 52.33526993 122.47342682 52.34011841 122.477005 52.34648895 122.47494507 52.35300827 122.46615601 52.36201859 122.45542908 52.3697319 122.45070648 52.37929535 122.44815826 52.38611221 122.44495392 52.39244843 122.43989563 52.39212418 122.43243408 52.37988663 122.42201233 52.3726387 122.40918732 52.37618637 122.40048218 52.38412857 122.39611816 52.39113617 122.39028168 52.39320755 122.37341309 52.39657974 122.3691864 52.40702057 122.36398315 52.41222 122.35969543 52.40995026 122.34333801 52.41145706 122.33618927 52.41644669 122.33339691 52.42739105 122.33152008 52.43345642 122.32383728 52.43984222 122.32286835 52.44417191 122.32196808 52.45807266 122.31886292 52.46755219 122.30992889 52.47386169 122.30334473 52.47622681 122.29241943 52.47534561 122.27823639 52.47029877 122.26008606 52.46966171 122.24739075 52.46944046 122.23168945 52.47046661 122.22341919 52.46785355 122.20069885 52.47492218 122.18397522 52.48261261 122.17807007 52.48640442 122.17193604 52.49411011 122.16751862 52.51208496 122.16195679 52.51341248 122.15891266 52.51352692 122.15142059 52.51127243 122.13802338 52.50729752 122.13219452 52.5009346 122.13468933 52.49339676 122.13498688 52.48500061 122.12371826 52.47452927 122.12637329 52.47050476 122.11717987 52.46580505 122.10876465 52.45683289 122.10501099 52.45104218 122.1000061 52.44258118 122.08464813 52.43874359 122.07321167 52.43172836 122.0776062 52.42565536 122.08383942 52.41933823 122.07437897 52.41397476 122.05292511 52.41160583 122.03322601 52.40206146 122.03661346 52.39343643 122.04032898 52.37610245 122.02835846 52.37000275 122.0185318 52.36644745 122.01047516 52.36427689 122.00347137 52.34928894 121.98134613 52.34550095 121.97330475 52.34246826 121.96970367 52.33601379 121.96625519 52.32611847 121.96220398 52.32320023 121.95152283 52.3195076 121.94944763 52.31607056 121.94884491 52.31079102 121.94758606 52.30413437 121.9460144 52.29719162 121.94072723 52.28450394 121.92004395 52.28109741 121.90790558 52.28031158 121.90198517 52.2794838 121.89382172 52.28013611 121.87852478 52.28320694 121.8578949 52.28259277 121.84898376 52.28141785 121.83413696 52.28245544 121.82813263 52.28511047 121.82316589 52.2949791 121.79998016 52.29912949 121.78935242 52.3014946 121.78104401 52.30470657 121.76895905 52.30686569 121.76215363 52.3105011 121.74855804 52.31122208 121.73809052 52.31462097 121.71183014 52.31681442 121.70687103 52.32000351 121.7063446 52.32825851 121.70780182 52.34175491 121.70825958 52.35145569 121.7014389 52.35480499 121.69717407 52.35857773 121.69139099 52.36670685 121.68613434 52.37652969 121.67369843 52.38296509 121.6636734 52.38913727 121.65141296 52.39790726 121.65582275 52.41854858 121.67160034 52.420578 121.6700058 52.4260788 121.65888977 52.43202209 121.64700317 52.43743896 121.64336395 52.44127655 121.64092255 52.4431839 121.63298035 52.44163513 121.61212158 52.44039917 121.59573364 52.44198227 121.58330536 52.44508362 121.57828522 52.45200729 121.57006836 52.45908356 121.55810547 52.46002579 121.54795837 52.45695877 121.53203583 52.45304108 121.51914978 52.45540237 121.51154327 52.47140503 121.50057983 52.47831345 121.49197388 52.48141861 121.47608948 52.4817276 121.46896362 52.48815155 121.45887756 52.49555206 121.4303894 52.49942017 121.41856384 52.50108719 121.41098022 52.50522614 121.40139008 52.5227356 121.39702606 52.5251236 121.39089966 52.52794266 121.38399506 52.52833176 121.37010956 52.5273056 121.35443115 52.53381348 121.34880829 52.54822922 121.32848358 52.55691528 121.31785583 52.56469727 121.31815338 52.56943893 121.31562805 52.58124161 121.28079224 52.5825882 121.26946259 52.58137512 121.25602722 52.57913208 121.24790955 52.57759476 121.2405014 52.57542419 121.22562408 52.57429886 121.21631622 52.57751846 121.20711517 52.58719254 121.19039154 52.59436798 121.18431854 52.6023407 121.19284058 52.61600876 121.22053528 52.62124252 121.22960663 52.62863159 121.23254395 52.63394165 121.24498749 52.63703537 121.26058197 52.64124298 121.27497864 52.64737701 121.28326416 52.65605927 121.2831192 52.66143036 121.28806305 52.67110062 121.3119278 52.67564392 121.32106018 52.67958069 121.33361816 52.67853546 121.33818817 52.68067169 121.36288452 52.68286133 121.36914825 52.68738174 121.37716675 52.69363022 121.3809433 52.70005417 121.39261627 52.71429062 121.41702271 52.72293091 121.42556763 52.72872925 121.44067383 52.74807739 121.45842743 52.75805283 121.46540833 52.7651329 121.46501923 52.76938248 121.47156525 52.77290726 121.47627258 52.77653885 121.49716949 52.77851868 121.50460052 52.78294754 121.50888062 52.79135895 121.51785278 52.79555893 121.52214813 52.8102417 121.54737854 52.81600189 121.56102753 52.81802368 121.57110596 52.82241821 121.57350922 52.83471298 121.59437561 52.84121704 121.5996933 52.8468132 121.60506439 52.85200119 121.61347198 52.86354828 121.60758972 52.86753082 121.60058594 52.87271118 121.5969162 52.87802505 121.59966278 52.88241577 121.60207367 52.88605118 121.60075378 52.88991165 121.59941864 52.89271545 121.60266876 52.89448166 121.62298584 52.89869308 121.62805939 52.90638733 121.63597107 52.90821838 121.64797974 52.91521835 121.65555573 52.9217453 121.66203308 52.93283844 121.66864777 52.93903732 121.66985321 52.94658661 121.67022705 52.94961166 121.6730957 52.95449448 121.67739105 52.96125412 121.68424225 52.96795654 121.68806458 52.97607422 121.69447327 52.98235321 121.7002182 52.98830795 121.70067596 52.99271393 121.70424652 52.9964447 121.70822144 52.99886322 121.71529388 53.00113297 121.72692871 53.00292587 121.73744965 53.00701523 121.74861145 53.01152802 121.75786591 53.01898575 121.77871704 53.02705383 121.78249359 53.03258896 121.78526306 53.04154205 121.78749084 53.04892731 121.79130554 53.05334854 121.79564667 53.05900955 121.80561829 53.06410599 121.80916595 53.07141876 121.79629517 53.07641602 121.7816391 53.08210754 121.78022766 53.09283447 121.76642609 53.10255051 121.772789 53.10823441 121.77098846 53.11434555 121.76765442 53.12070465 121.76544952 53.14125443 121.75115204 53.14728546 121.74325562 53.14403152 121.72782898 53.14403915 121.71566772 53.1573143 121.69181824 53.15982437 121.67914581 53.16305161 121.66833496 53.16819382 121.66236877 53.1804657 121.64614105 53.18638992 121.64508057 53.19430923 121.65303802 53.19711685 121.66849518 53.20461655 121.66621399 53.21922302 121.66470337 53.22732925 121.67038727 53.23693466 121.6706543 53.24071884 121.66513062 53.24679565 121.65986633 53.2592392 121.62874603 53.25549698 121.61254883 53.26008606 121.60125732 53.26659775 121.59519958 53.2808609 121.57614136 53.28640747 121.56745911 53.29027939 121.55504608 53.29430008 121.55025482 53.30279922 121.54064178 53.30764771 121.53160095 53.31093216 121.51272583 53.31388855 121.50035095 53.32069397 121.49768829 53.33117294 121.48937988 53.33171082 121.4916153 53.33651733 121.51165771 53.34218597 121.5328598 53.34404373 121.54516602 53.34518814 121.55725861 53.34834671 121.5776062 53.35329056 121.59860992 53.35608673 121.60636902 53.36282349 121.62303925 53.36841583 121.63904572 53.37254333 121.65176392 53.37667084 121.66448212 53.3829155 121.67571259 53.38708496 121.68605804 53.38842392 121.69149017 53.38851166 121.69239044 53.38658905 121.70263672 53.38446808 121.71477509 53.38409042 121.71692657 53.38557434 121.72969818 53.38652039 121.73781586 53.38963318 121.74781036 53.39178085 121.75470734 53.39884949 121.77041626 53.40736008 121.79219818 53.41492081 121.81532288 53.41559219 121.83596039 53.41947556 121.84533691 53.42313385 121.85909271 53.42275238 121.8663559 53.42190552 121.88240051 53.42162704 121.90441895 53.42597961 121.9211731 53.4287796 121.95095062 53.42958069 121.96868896 53.42782211 121.9803009 53.42742157 121.98294067 53.42414093 122.00457764 53.41909027 122.03315735 53.42060089 122.04703522 53.42110443 122.05168152 53.42201233 122.06004333 53.42113876 122.07605743 53.42776871 122.09909821 53.43735123 122.10041809 53.45944214 122.1251297 53.46541595 122.13204193 53.46744919 122.13835144 53.46937943 122.14663696 53.46962357 122.15667725 53.46918106 122.16464996 53.46903992 122.16723633 53.46683884 122.17822266 53.46457291 122.19052124 53.46229935 122.20281982 53.46123886 122.21465302 53.46129608 122.2154007 53.46216202 122.22677612 53.46385956 122.23902893 53.46863556 122.25311279 53.47373962 122.2612381 53.48388672 122.27883148 53.4958992 122.30539703 53.49818039 122.31442261 53.49834061 122.31556702 53.49842072 122.31632233 53.49848938 122.31707001 53.49853897 122.31781769 53.49858093 122.318573 53.49860001 122.31933594 53.49861145 122.32009125 53.49860001 122.32084656 53.49858093 122.32160187 53.49853897 122.32235718 53.49848175 122.32311249 53.49840927 122.32386017 53.49832916 122.32460785 53.49822998 122.32534027 53.49811172 122.32608032 53.49798203 122.32681274 53.49784851 122.32752228 53.4977951 122.32774353 53.49768066 122.32823181 53.497509 122.32892609 53.49732208 122.32962036 53.49195862 122.34010315 53.4871788 122.34732819 53.48414993 122.35186005 53.47637939 122.36160278 53.45452881 122.38260651 53.4446106 122.40040588 53.44166183 122.41371155 53.44141006 122.43136597 53.44181061 122.44115448 53.44184875 122.44212341 53.44481659 122.45142365 53.44935226 122.46391296 53.4500885 122.46620941 53.45233154 122.47322083 53.45617294 122.48267365 53.45588684 122.48757172 53.45558167 122.49285889 53.45473862 122.5074234 53.453022 122.52184296 53.45308304 122.5224762 53.45627975 122.55619049 53.45755768 122.56991577 53.46058655 122.60249329 53.46113586 122.61339569 53.46260834 122.64251709 53.45979309 122.66596985 53.45914459 122.6713562 53.45809937 122.68884277 53.46032333 122.71142578 53.46192932 122.72770691 53.46170425 122.7387085 53.46147919 122.74970245 53.45867538 122.79628754 53.45854568 122.79699707 53.45605469 122.81054688 53.45290375 122.83354187 53.45600891 122.85466766 53.45933533 122.87052917 53.46144867 122.8806076 53.46646118 122.89911652 53.47536087 122.92568207 53.48159409 122.9385376 53.48203659 122.94114685 53.48545074 122.96128845 53.48958969 122.97968292 53.49332047 122.98817444 53.49477768 122.99149323 53.50064468 123.00060272 53.50743103 123.02068329 53.5112114 123.03752899 53.51126099 123.04968262 53.50770187 123.06793976 53.50759506 123.06851959 53.50483322 123.08338165 53.50284958 123.09406281 53.50025177 123.10977936 53.5002861 123.12193298 53.50144577 123.12778473 53.50333023 123.13730621 53.50814056 123.1503067 53.5166893 123.16532135 53.51755142 123.1668396 53.52817154 123.17684174 53.54323196 123.19304657 53.55138016 123.2039566 53.55459213 123.21669769 53.55770874 123.2307663 53.56003952 123.24471283 53.56085968 123.25701904 53.55974197 123.27437592 53.55833435 123.27954102 53.55764008 123.28209686 53.55183029 123.29724884 53.54699707 123.30988312 53.54261017 123.32798004 53.54111862 123.33851624 53.53660965 123.35941315 53.53268051 123.37932587 53.53144073 123.39827728 53.53128433 123.42499542 53.53126907 123.42772675 53.53031158 123.44230652 53.52548981 123.44876862 53.51633453 123.45445251 53.50650024 123.45704651 53.49811172 123.46433258 53.49570084 123.47419739 53.49661255 123.48318481 53.49676514 123.48471069 53.50331879 123.49182892 53.50881958 123.48842621 53.51644135 123.47953033 53.52202988 123.47467804 53.52820206 123.47434998 53.53601074 123.47580719 53.54536057 123.4805069 53.55096054 123.48892975 53.552742 123.49917603 53.554142 123.50723267 53.55404282 123.50871277 53.55316925 123.52179718 53.55210495 123.52354431 53.54430008 123.53636932 53.53707123 123.53942871 53.5309906 123.53829193 53.51460266 123.52046967 53.50881958 123.51496124 53.50101089 123.5134964 53.4958992 123.52433777 53.4944458 123.53291321 53.49594498 123.53606415 53.49983978 123.54424286 53.50437164 123.55539703 53.50918961 123.56220245 53.51671219 123.56804657 53.52442169 123.57097626 53.53348923 123.56678772 53.54043198 123.56809235 53.54233551 123.56957245 53.54544067 123.57199097 53.54756165 123.57977295 53.54716873 123.58558655 53.54636765 123.5881424 53.53710938 123.61763 53.53033829 123.63993835 53.52618027 123.64948273 53.51787949 123.65526581 53.5078392 123.66072845 53.49587631 123.66876221 53.48926163 123.67782593 53.49303055 123.69338989 53.49368286 123.69687653 53.49539185 123.70598602 53.49736023 123.71852112 53.49729919 123.72525787 53.49666977 123.73458862 53.49638367 123.73612976 53.49473953 123.74501801 53.49082565 123.76113892 53.48797226 123.77340698 53.4860611 123.78383636 53.48590851 123.79190826 53.48611832 123.79374695 53.4874115 123.80502319 53.48835754 123.81465149 53.48854065 123.8295517 53.48871994 123.84442139 53.48677826 123.85168457 53.48546219 123.85661316 53.4797287 123.86966705 53.47026062 123.89008331 53.46088028 123.9091568 53.45399094 123.9213028 53.44911194 123.92775726 53.44721985 123.93750763 53.44068146 123.95038605 53.43400192 123.96526337 53.42809296 123.97486877 53.4214325 123.9836731 53.41110229 124 53.4100914 124.00113678 53.40883636 124.00254059 53.39640045 124.01850891 53.39157486 124.03140259 53.39157486 124.03172302 53.39172363 124.06253052 53.38573837 124.07234192 53.3780632 124.08190918 53.36703873 124.09564972 53.36292648 124.09648895 53.3555603 124.09799194 53.3499794 124.10416412 53.34791946 124.10644531 53.34746933 124.10694122 53.34368134 124.11501312 53.34395218 124.11872864 53.34498978 124.13301086 53.34697342 124.14213562 53.34828186 124.14816284 53.35659027 124.162323 53.36458588 124.19235992 53.36795044 124.20871735 53.36809921 124.2208786 53.36550903 124.24575043 53.34767532 124.27121735 53.34381866 124.27750397 53.32810211 124.30310822 53.32522964 124.30797577 53.31835938 124.31962585 53.30099869 124.33158875 53.29381943 124.33300781 53.28723526 124.34023285 53.28705978 124.34042358 53.2816391 124.34571838 53.27301788 124.35519409 53.27156067 124.35679626 53.26771927 124.36100006 53.26529694 124.36116791 53.26153946 124.36141968 53.25342941 124.36720276 53.24618149 124.37548828 53.24123001 124.39711761 53.23981094 124.40660095 53.23441315 124.41726685 53.23251724 124.42101288 53.22950363 124.42311859 53.21815872 124.43105316 53.21672058 124.43206024 53.20864868 124.45197296 53.20743942 124.4572525 53.20050049 124.48757172 53.19688034 124.51541901 53.19488907 124.53032684 53.19607162 124.55459595 53.20063019 124.5916214 53.19974136 124.62853241 53.19947052 124.63965607 53.20096207 124.6481781 53.19919205 124.66304016 53.19225311 124.69127655 53.18904877 124.70430756 53.1815033 124.71526337 53.17921829 124.71598816 53.1758728 124.71705627 53.15644836 124.715271 53.15433121 124.71795654 53.15097046 124.72098541 53.14955902 124.72225952 53.14122009 124.74213409 53.13861847 124.74833679 53.13441467 124.77507782 53.13550949 124.80581665 53.13809204 124.81266785 53.13269043 124.83304596 53.12458801 124.84287262 53.12417221 124.84337616 53.10868073 124.8543396 53.10462189 124.85720825 53.098629 124.86400604 53.09429169 124.87509155 53.0951004 124.88754272 53.09767914 124.89546967 53.10647202 124.89998627 53.116436 124.90126038 53.13264084 124.89605713 53.13740921 124.89290619 53.14850998 124.88556671 53.15481949 124.88368225 53.16117096 124.88941193 53.16376114 124.89391327 53.1737709 124.91734314 53.179245 124.94020081 53.18193054 124.95141602 53.18925095 124.97189331 53.19285202 124.98197174 53.19417953 125 53.19617081 125.02688599 53.19567108 125.04830933 53.19543076 125.05873871 53.19496155 125.09513092 53.19739914 125.12298584 53.195858 125.14312744 53.19499969 125.15437317 53.19158936 125.18820953 53.18939209 125.20082092 53.18619156 125.21041107 53.18335724 125.21891022 53.1832428 125.21925354 53.17911911 125.23162842 53.158535 125.27539063 53.14844894 125.29682922 53.14422989 125.31009674 53.14267349 125.31498718 53.1385231 125.3259964 53.13660431 125.34731293 53.13001633 125.36522675 53.12852478 125.36927795 53.12382507 125.38646698 53.12279129 125.394104 53.12049103 125.41105652 53.11325073 125.42758179 53.10512924 125.44603729 53.10109329 125.46273041 53.10079956 125.46325684 53.09590149 125.47203827 53.09030914 125.48206329 53.07427216 125.49223328 53.07328033 125.49286652 53.05847931 125.49494171 53.0496788 125.5013504 53.04771805 125.50556946 53.04642105 125.50836182 53.04938889 125.52348328 53.05499268 125.53663635 53.06348038 125.54820251 53.07085037 125.56004333 53.07337952 125.56408691 53.07620239 125.57006836 53.08073044 125.57965851 53.07954025 125.58370209 53.07460022 125.60045624 53.06935883 125.61274719 53.06105042 125.61981201 53.05806732 125.62612152 53.05656052 125.62930298 53.05337143 125.62980652 53.04725647 125.63493347 53.04154968 125.6397171 53.02671814 125.65113831 53.02090454 125.65561676 53.00746536 125.66919708 53.00041962 125.68210602 52.99713898 125.69291687 52.99431229 125.71229553 52.99401855 125.71431732 52.99288177 125.71729279 52.98809433 125.72985077 52.98784256 125.7305069 52.98450851 125.73636627 52.97937012 125.7387085 52.97262192 125.73712921 52.96917725 125.73484802 52.9582901 125.72763824 52.94122314 125.72618103 52.93411636 125.72238159 52.92868042 125.70388794 52.9270401 125.68744659 52.92121887 125.67433929 52.92004395 125.67173767 52.91595078 125.66265869 52.90872955 125.65699005 52.8925705 125.65162659 52.8839798 125.65377045 52.87100983 125.65585327 52.8601265 125.66835785 52.85681915 125.67215729 52.86124039 125.68888855 52.86379623 125.6944046 52.87514877 125.71888733 52.87590027 125.72106171<span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiSurface</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_0</span>&gt;</span>CHN<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_0</span>&gt;</span>China<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_1</span>&gt;</span>CHN.11_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_1</span>&gt;</span>Heilongjiang<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span>黑龙江省|黑龍江省<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_2</span>&gt;</span>CHN.11.2_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_2</span>&gt;</span>Daxing&#x27;anling<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span>Dàxīng&#x27;ānlǐng<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span>大兴安岭地区<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:TYPE_2</span>&gt;</span>Dìqu<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:TYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span>Prefecture<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:CC_2</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:HASC_2</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:0</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:member</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:FeatureCollection</span>&gt;</span><br></code></pre></td></tr></table></figure><p>插入操作</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.2&quot;</span> <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:cesium</span>=<span class="hljs-string">&quot;http://geoserver.org/cesium&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://localhost:8080/geoserver/cesium&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>  <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://geoserver.org/cesium http://localhost:8080/geoserver/cesium/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=cesium%3A0</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Insert</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cesium:0</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.133&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiSurface</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.133.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.133.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span>30.25465775 115.07079315 30.25456238 115.06994629 30.2590847 115.0690918 30.26287651 115.05915833 30.26636124 115.0373764 30.26559639 115.02616882 30.26219177 115.01602173 30.24378777 115.01037598 30.23891258 115.00079346 30.2325573 114.99259949 30.22265625 114.99238586 30.21601677 114.98714447 30.21361542 114.97647095 30.21756935 114.95479584 30.21509171 114.94419098 30.21652412 114.9338913 30.22030449 114.92395782 30.22470665 114.90261841 30.23828316 114.8738327 30.237463 114.86690521 30.24502373 114.85974121 30.26275063 114.85244751 30.27095985 114.84703064 30.27897072 114.84107971 30.28544044 114.83226776 30.31149673 114.81967163 30.31545067 114.80973816 30.31489944 114.79901123 30.30734825 114.75548553 30.30898285 114.74446869 30.31279564 114.73446655 30.32083511 114.728508 30.3254776 114.71905518 30.32468033 114.70842743 30.31648254 114.70349121 30.30724144 114.70632935 30.29900169 114.71166992 30.29092407 114.71338654 30.2834053 114.70578766 30.27821732 114.69649506 30.26984024 114.66522217 30.26228333 114.65762329 30.25385284 114.65278625 30.24425125 114.65103912 30.22662354 114.65866089 30.21840668 114.66404724 30.21080589 114.67111969 30.1901722 114.69676971 30.18137741 114.70079803 30.17220116 114.69802856 30.16435051 114.69155121 30.15465546 114.69039154 30.14727783 114.69818115 30.14146996 114.70727539 30.13384056 114.71439362 30.1242466 114.71257019 30.11707115 114.72077942 30.10812569 114.72307587 30.09960556 114.71850586 30.07957649 114.71770477 30.07112122 114.72245026 30.06212807 114.72244263 30.04593849 114.69551849 30.04584122 114.68448639 30.04269409 114.67558289 30.03408623 114.67113495 30.02782249 114.65065765 30.02654648 114.64027405 30.02986717 114.63014984 30.03682518 114.62254333 30.04561043 114.61869812 30.0521698 114.61106873 30.05439758 114.60043335 30.05428886 114.58940887 30.04920769 114.56819916 30.05509186 114.5532608 30.06316757 114.54646301 30.06556892 114.53590393 30.08077812 114.52945709 30.09724998 114.51882172 30.11962128 114.4966507 30.12949181 114.49556732 30.16864777 114.49947357 30.18676567 114.50556946 30.20768929 114.52744293 30.22538757 114.53474426 30.24469757 114.53747559 30.25306511 114.54249573 30.25988579 114.55049896 30.27596855 114.56256104 30.29089546 114.57728577 30.30810165 114.58521271 30.33786583 114.58705902 30.40586662 114.57727051 30.41341209 114.58026123 30.42062187 114.57582092 30.44076347 114.57483673 30.45099258 114.57481384 30.47934532 114.58094788 30.48887062 114.57894897 30.49550056 114.57282257 30.49972153 114.56293488 30.50855637 114.56085205 30.53451347 114.57071686 30.54680061 114.59066772 30.56194687 114.60480499 30.55775261 114.62402344 30.5594101 114.63503265 30.57954979 114.67248535 30.59669876 114.71140289 30.60749054 114.74160767 30.61718369 114.76052856 30.6186409 114.77120209 30.61618042 114.77648163 30.61187172 114.78574371 30.59084511 114.81065369 30.57367134 114.82085419 30.57622337 114.82484436 30.5783329 114.82788849 30.58020401 114.83030701 30.58137512 114.83240509 30.58192062 114.8342514 30.58251762 114.83656311 30.58494759 114.83777618 30.58829117 114.83904266 30.59139061 114.83924866 30.5942421 114.83847046 30.59700012 114.83835602 30.59949684 114.84043121 30.60252953 114.84442139 30.60474968 114.84775543 30.60698891 114.85222626 30.60944748 114.85595703 30.61115265 114.85930634 30.61286354 114.86299133 30.61411095 114.86647797 30.61478424 114.86972046 30.61545372 114.87242126 30.61629486 114.87578583 30.6166153 114.87843323 30.61659431 114.88108826 30.6145668 114.88383484 30.61218071 114.88573456 30.60996628 114.88762665 30.6073513 114.88933563 30.60513115 114.89083099 30.60285568 114.89232635 30.60064507 114.89442444 30.59866714 114.89650726 30.59778023 114.89904022 30.59771156 114.90322113 30.59786606 114.90606689 30.59794617 114.9082489 30.59798241 114.9106369 30.59771729 114.91255951 30.59664345 114.91364288 30.59520912 114.91413116 30.59332657 114.9148941 30.59006882 114.91514587 30.58668327 114.91553497 30.58433723 114.91603851 30.58215714 114.91614532 30.58019829 114.91551971 30.57818985 114.91488647 30.5759449 114.91432953 30.57398605 114.91383362 30.5716877 114.91320801 30.5697937 114.91310883 30.56761551 114.91347504 30.5662384 114.91383362 30.56533241 114.9145813 30.56494904 114.91590881 30.56537628 114.91841888 30.56593323 114.92119598 30.56614113 114.92390442 30.56530762 114.92650604 30.56385231 114.9291153 30.56244469 114.93138885 30.56133461 114.93471527 30.56126022 114.93796539 30.5607872 114.94115448 30.56070328 114.94380188 30.56056213 114.94632721 30.56070709 114.94863892 30.56215858 114.95027161 30.56394768 114.95117188 30.56534195 114.9526062 30.56674767 114.95483398 30.56821251 114.95738983 30.5684166 114.9601059 30.56850052 114.96255493 30.56889153 114.96625519 30.57036781 114.96934509 30.57201576 114.97270203 30.57375526 114.97518921 30.5759201 114.97806549 30.57777596 114.98028564 30.58032036 114.98203278 30.58280754 114.98358917 30.58471489 114.98461151 30.58720207 114.98642731 30.59021378 114.98856354 30.59356308 114.9906311 30.59591484 114.99105835 30.59815407 114.99128723 30.6000061 114.99211884 30.60191345 114.99347687 30.60320282 114.99591064 30.60467339 114.99880219 30.60673141 115.00314331 30.60780144 115.00637054 30.60972786 115.00912476 30.61220741 115.01033783 30.61542892 115.01095581 30.61806679 115.01077271 30.62059975 115.01186371 30.62252998 115.01481628 30.62446976 115.01908875 30.62762833 115.0240097 30.63018417 115.02661896 30.63381577 115.02888489 30.63664818 115.03063202 30.63867569 115.03231812 30.6415081 115.03419495 30.64394188 115.03601074 30.64569092 115.03817749 30.64674187 115.0402832 30.6463089 115.04221344 30.64582253 115.04520416 30.64367104 115.04735565 30.64126968 115.04818726 30.63938713 115.04921722 30.63746262 115.05117035 30.63593864 115.05351257 30.63437271 115.05685425 30.63228989 115.06033325 30.63042641 115.0631485 30.62855148 115.06503296 30.62530136 115.06654358 30.62244415 115.06725311 30.61940575 115.06716156 30.61694145 115.0676651 30.61017609 115.07056427 30.60916138 115.06996918 30.60109329 115.06207275 30.59676743 115.06034088 30.58938408 115.05738831 30.56394386 115.05521393 30.56005478 115.05630493 30.55020142 115.0555954 30.54606247 115.05297089 30.54190636 115.04823303 30.54345322 115.03945923 30.54707336 115.03279114 30.54818916 115.02826691 30.54654884 115.02244568 30.54283905 115.01610565 30.53433609 115.0121994 30.52701187 115.01279449 30.52150536 115.01151276 30.50706863 115.010849 30.49467087 115.00617981 30.48962593 115.00335693 30.4792614 114.99756622 30.46479607 114.99318695 30.46328545 114.9932251 30.4604969 114.99330139 30.44945145 114.99359131 30.4366684 114.99980164 30.43590927 115.00042725 30.4305191 115.00489044 30.4314537 115.00779724 30.43627548 115.00934601 30.44041443 115.01196289 30.43951225 115.01356506 30.43195534 115.01416016 30.42029572 115.0174408 30.41604424 115.01882172 30.4114933 115.01499176 30.40950584 115.01331329 30.40788078 115.02080536 30.40662766 115.02509308 30.40555573 115.02778625 30.40491867 115.02967834 30.40428543 115.03154755 30.40122986 115.03618622 30.39901924 115.03996277 30.39387131 115.04644012 30.39106178 115.05059814 30.38635254 115.05448914 30.38142204 115.05864716 30.37454796 115.0623703 30.36911201 115.06557465 30.36444664 115.06738281 30.35965157 115.06918335 30.35485649 115.07098389 30.35124588 115.07247162 30.34636307 115.07381439 30.34120369 115.07541656 30.3367691 115.07607269 30.33215523 115.0772934 30.32249641 115.07880402 30.3150444 115.08013153 30.30809975 115.08152008 30.3024826 115.08247375 30.2984314 115.08317566 30.29518127 115.0830307 30.29125786 115.08210754 30.28686714 115.08094788 30.28105927 115.07752228 30.27635765 115.0754776 30.27189636 115.0736084 30.269207 115.07273102 30.26827049 115.07242584 30.26795387 115.07238007 30.26357841 115.07171631 30.2598877 115.0712738 30.25707436 115.07108307 30.25465775 115.07079315<span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiSurface</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_0</span>&gt;</span>CHN<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_0</span>&gt;</span>China<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_1</span>&gt;</span>CHN.13_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_1</span>&gt;</span>Hubei<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span>湖北<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_2</span>&gt;</span>CHN.13.2_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_2</span>&gt;</span>Ezhou by emhui<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span>Èzhōu<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span>鄂州市<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:TYPE_2</span>&gt;</span>Dìjíshì<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:TYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span>Prefecture City<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:CC_2</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:HASC_2</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:0</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p>插入该元素</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.2&quot;</span> <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns:cesium</span>=<span class="hljs-string">&quot;http://geoserver.org/cesium&quot;</span> <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span> <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">numberMatched</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">numberReturned</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">timeStamp</span>=<span class="hljs-string">&quot;2020-10-21T05:46:20.854Z&quot;</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0 http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd http://geoserver.org/cesium http://localhost:8080/geoserver/cesium/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=cesium%3A0 http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Insert</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cesium:0</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.102&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiSurface</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.102.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.102.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span>52.87590027 125.72106171 52.87631226 125.72225189 52.88783264 125.75554657 52.89224243 125.764328 52.89488983 125.7745285 52.89529037 125.78442383 52.896492 125.81410217 52.89524078 125.83249664 52.89196014 125.83946228 52.88703156 125.84554291 52.87664032 125.84452057 52.87240982 125.84525299 52.86016083 125.84910583 52.8502121 125.85823822 52.84778976 125.86045837 52.83636093 125.87821198 52.83235931 125.88729095 52.82593918 125.8939209 52.80849075 125.91542816 52.79116058 125.92941284 52.7725296 125.95012665 52.76522446 125.96109772 52.76082993 125.96769714 52.76063919 125.98059082 52.76224136 125.98866272 52.76686096 126.0015564 52.77236938 126.00979614 52.77455902 126.01432037 52.77589035 126.01785278 52.78863144 126.03088379 52.79095078 126.03325653 52.79547882 126.04283142 52.79640961 126.04923248 52.79468918 126.05885315 52.78869629 126.0717392 52.78517151 126.07932281 52.77574539 126.09641266 52.7726593 126.10201263 52.76383972 126.11279297 52.75654221 126.10933685 52.74768066 126.09442139 52.74520111 126.08686066 52.74556351 126.07211304 52.74491119 126.06838226 52.74302673 126.05756378 52.74243927 126.04737854 52.73875046 126.04234314 52.73246002 126.04145813 52.71908569 126.04541779 52.71452332 126.04907227 52.70608139 126.05583954 52.69290924 126.06349182 52.69031906 126.06529999 52.67987823 126.0612793 52.67793274 126.06053162 52.67624664 126.05988312 52.67142868 126.05570984 52.67074966 126.05439758 52.66882324 126.0506897 52.66833878 126.04975891 52.66824341 126.0484848 52.66770172 126.04132843 52.66749191 126.03855896 52.6676178 126.03557587 52.66808319 126.0245285 52.67086411 126.00449371 52.66779327 125.99062347 52.66372681 125.97955322 52.65679169 125.97042847 52.647789 125.96539307 52.63829041 125.96382904 52.6240654 125.96531677 52.62253952 125.96547699 52.60788345 125.97412872 52.59682465 125.98561096 52.58967209 125.99310303 52.585289 125.99677277 52.58097076 126.00572205 52.58272171 126.0329361 52.58744049 126.04354095 52.59114838 126.04823303 52.59743881 126.05819702 52.59880066 126.06402588 52.60015869 126.06984711 52.59307861 126.08294678 52.58863068 126.08965302 52.58499146 126.10262299 52.56912994 126.13548279 52.5561409 126.15809631 52.55437469 126.16126251 52.54172516 126.18392944 52.53516006 126.19391632 52.52664948 126.20195007 52.52629089 126.20210266 52.51834869 126.20542145 52.5013504 126.19664764 52.49483871 126.19084167 52.48332977 126.18566132 52.48165894 126.18490601 52.47868347 126.18482971 52.47293091 126.18467712 52.46583176 126.1891098 52.46239853 126.20199585 52.46405411 126.2103653 52.4681015 126.2308197 52.46928406 126.24416351 52.46891403 126.25847626 52.45798874 126.27282715 52.43928146 126.29168701 52.42892075 126.30406189 52.42092514 126.31637573 52.41634369 126.32343292 52.41387939 126.32723236 52.39595032 126.34368134 52.38718033 126.34778595 52.37871933 126.35177612 52.36703873 126.35231781 52.36366653 126.35355377 52.34489059 126.34986877 52.33483124 126.35057068 52.32474899 126.34641266 52.31212997 126.33402252 52.30638123 126.32837677 52.29935074 126.33920288 52.29716873 126.35408783 52.29674911 126.36348724 52.29473877 126.3731308 52.29474258 126.38474274 52.29456711 126.39484406 52.29444122 126.40196228 52.2919693 126.42025757 52.29092026 126.4230957 52.28876114 126.42894745 52.28483963 126.43284607 52.284729 126.43959808 52.27436447 126.4257431 52.27056122 126.41020966 52.26525879 126.38932037 52.25489044 126.34854889 52.25144958 126.34008026 52.24515915 126.32977295 52.23178864 126.31151581 52.2234993 126.30290222 52.22328186 126.30267334 52.21572876 126.29889679 52.21130753 126.29862213 52.20675659 126.29833221 52.20487213 126.30098724 52.19971848 126.3082962 52.19490433 126.31886292 52.18843842 126.33305359 52.1817894 126.36309052 52.18046951 126.38202667 52.17932129 126.39849091 52.17782974 126.40426636 52.17742157 126.40585327 52.17720795 126.40973663 52.17578125 126.43553925 52.17034149 126.45848083 52.16846085 126.46639252 52.15779495 126.49472046 52.15632629 126.49604034 52.15385056 126.4982605 52.1477356 126.51048279 52.14263916 126.52066803 52.13064957 126.54882813 52.13016891 126.54995728 52.12087631 126.55645752 52.10924149 126.55768585 52.10704041 126.55502319 52.10092163 126.54767609 52.09401703 126.54486084 52.07162094 126.53572083 52.06470871 126.53472137 52.05416107 126.52191925 52.04748917 126.51729584 52.03342056 126.51571655 52.02902985 126.50630188 52.028862 126.49443054 52.03126144 126.48229218 52.03084946 126.47454834 52.03079224 126.46118164 52.02825928 126.45262909 52.02186966 126.44481659 52.01605606 126.44325256 52.0060997 126.44558716 52.00541687 126.44574738 51.99919891 126.44716644 51.98892975 126.45504761 51.97336197 126.46427155 51.95381927 126.45921326 51.94272232 126.46186829 51.93531036 126.46920776 51.93198013 126.4756012 51.92747879 126.48677063 51.92549133 126.49170685 51.91908646 126.49756622 51.909729 126.5061264 51.89935684 126.51386261 51.8944397 126.52307129 51.89051056 126.53042603 51.88995743 126.53146362 51.88882828 126.53260803 51.87733078 126.54429626 51.86809921 126.55161285 51.85640335 126.56086731 51.83979034 126.56851959 51.83467102 126.57087708 51.82268143 126.5739975 51.80533981 126.59337616 51.79030991 126.59984589 51.7828598 126.60661316 51.78023148 126.6089859 51.77146149 126.62124634 51.76145935 126.64070892 51.75664139 126.65392303 51.74295044 126.65982056 51.73701859 126.65789795 51.73140335 126.65572357 51.72661209 126.65691376 51.72369003 126.66078949 51.72128677 126.66825104 51.72270966 126.6786499 51.72069168 126.71335602 51.71342087 126.72354889 51.70373535 126.72705078 51.69779968 126.72602844 51.69771957 126.72601318 51.6920929 126.72171021 51.69031906 126.72035217 51.67741394 126.71911621 51.66592789 126.72322083 51.65882111 126.72749329 51.65858078 126.72766876 51.6475296 126.73561096 51.63954926 126.73667145 51.63279724 126.73461914 51.63142776 126.73253632 51.62857056 126.72817993 51.61809921 126.7118988 51.61271667 126.7052536 51.60774994 126.6889801 51.60272598 126.68045044 51.59516144 126.67594147 51.58526993 126.6798172 51.57971954 126.68792725 51.57567978 126.69399261 51.57139969 126.70449066 51.57077026 126.70820618 51.56853104 126.71530914 51.56731796 126.71925354 51.56486893 126.72484589 51.55844116 126.74260712 51.55466843 126.75936127 51.55263901 126.76837158 51.54499054 126.79840851 51.53752899 126.8184967 51.53118134 126.82923889 51.52653885 126.83277893 51.5180397 126.83242035 51.50726318 126.82794189 51.48564529 126.80396271 51.48271179 126.80278778 51.47718048 126.80059052 51.4642334 126.7954483 51.46060181 126.79400635 51.45281219 126.78954315 51.44799042 126.78502655 51.44036484 126.78382111 51.42922592 126.78879547 51.42758179 126.78952789 51.41687012 126.80448914 51.41358948 126.81664276 51.40718079 126.8533783 51.40335846 126.88684082 51.39736176 126.90445709 51.38801193 126.91363525 51.38576889 126.91583252 51.3727951 126.92144775 51.3678093 126.92360687 51.35659409 126.9239502 51.34836578 126.91988373 51.34331131 126.91503143 51.33750916 126.90442657 51.33502197 126.89597321 51.33753967 126.84552002 51.33433914 126.83204651 51.32218933 126.81861877 51.30900192 126.81630707 51.29687119 126.81678772 51.28210068 126.81942749 51.27231979 126.82544708 51.26358414 126.83396912 51.25592041 126.84143829 51.24687958 126.85756683 51.24261856 126.86871338 51.24144745 126.8772583 51.24150848 126.88308716 51.24364853 126.90289307 51.24961853 126.9107666 51.25273132 126.91487885 51.26441956 126.91485596 51.26712418 126.91279602 51.27480698 126.9069519 51.29574966 126.87650299 51.30630112 126.87185669 51.31003952 126.87320709 51.31946945 126.89211273 51.32014465 126.89595032 51.32331085 126.9139328 51.32506943 126.92175293 51.32585144 126.9373703 51.32633209 126.95632935 51.32514954 126.96488953 51.31987762 126.97432709 51.30776978 126.97986603 51.29138947 126.97318268 51.29086685 126.9728241 51.26647949 126.95622253 51.25538254 126.94384766 51.25119019 126.93917084 51.24597931 126.93225098 51.23915863 126.92317963 51.23791504 126.92227936 51.23273087 126.91851807 51.22598267 126.91645813 51.2025032 126.90084839 51.18836594 126.89791107 51.18774033 126.89804077 51.15409088 126.9048233 51.12990952 126.91191101 51.12837982 126.91205597 51.11531067 126.91339874 51.10058975 126.91707611 51.07971954 126.91718292 51.06199265 126.92015839 51.05799866 126.92285156 51.05142975 126.93348694 51.0464592 126.94429779 51.03083801 126.96961212 51.02141953 126.98487091 51.0120697 126.99511719 51.00599289 127.00061798 51.00318146 127.0031662 51.00043869 127.00565338 50.9928894 127.01058197 50.98195648 127.02148438 50.97803497 127.02539825 50.97168732 127.03173065 50.96573257 127.04118347 50.95992279 127.05800629 50.95709991 127.06617737 50.93721008 127.10488892 50.93387222 127.11181641 50.92562866 127.121521 50.90480042 127.14109039 50.89715958 127.14679718 50.82955933 127.19722748 50.81772995 127.20249176 50.8290062 127.1934433 50.84143066 127.18460846 50.8509903 127.17686462 50.86335754 127.16628265 50.87846756 127.1550293 50.89469147 127.14411926 50.90481186 127.1367569 50.91569901 127.12320709 50.92816925 127.10733795 50.9373436 127.09216309 50.94043732 127.08535004 50.94525909 127.07228088 50.95055771 127.05697632 50.95501328 127.04130554 50.95893097 127.0344162 50.96425247 127.02828979 50.97383881 127.01743317 50.97483063 127.01677704 50.9727478 127.01443481 50.96881104 127.0100174 50.96577835 127.00613403 50.96249771 127.00196075 50.96134567 127.00049591 50.95464325 126.99638367 50.95064545 126.99305725 50.94421387 126.98770142 50.93795776 126.98285675 50.93370056 126.97395325 50.92806625 126.96474457 50.92312241 126.95587158 50.91993713 126.94258881 50.92022324 126.93171692 50.91953278 126.91725922 50.91687012 126.89382172 50.91635895 126.87646484 50.91648102 126.86994171 50.91445541 126.84431458 50.91308975 126.83097839 50.91116714 126.81185913 50.91139221 126.7980957 50.91049576 126.78582001 50.90964508 126.76304626 50.91085052 126.75322723 50.91019821 126.72899628 50.91067505 126.71703339 50.91034317 126.68554688 50.90908813 126.66677856 50.90808105 126.64907837 50.90955734 126.62982941 50.90919876 126.61029816 50.90846252 126.5954895 50.90641022 126.58363342 50.90483856 126.57320404 50.90386581 126.55804443 50.90472031 126.5428009 50.90435791 126.53593445 50.90330505 126.51679993 50.90257645 126.50271606 50.90236664 126.49222565 50.9033699 126.48493958 50.90555191 126.47940826 50.90907288 126.47236633 50.91281509 126.46459198 50.91748047 126.45748901 50.92059326 126.4529953 50.92720413 126.44001007 50.93205261 126.4307251 50.93820572 126.41811371 50.9431572 126.40229797 50.94868469 126.39297485 50.95284653 126.38371277 50.95550156 126.37923431 50.95859528 126.3736496 50.96419144 126.36756897 50.96996689 126.35895538 50.97477722 126.34819794 50.97891235 126.33784485 50.97994995 126.3356781 50.97982788 126.33287048 50.98060989 126.32783508 50.98106003 126.32662201 50.98625565 126.31998444 50.99028778 126.31083679 50.99201202 126.29992676 50.99075699 126.28835297 50.98873901 126.26882172 50.99270248 126.25314331 50.99448013 126.24766541 50.99892807 126.2355957 51.00014496 126.22033691 50.99439621 126.21720886 50.9814682 126.20519257 50.97307587 126.18981171 50.96608353 126.1772995 50.9648819 126.1678772 50.96528625 126.16680908 50.96580505 126.15122223 50.96826553 126.14544678 50.96892929 126.14389038 50.96986771 126.1253891 50.96960831 126.12360382 50.95794678 126.12140656 50.95501709 126.12338257 50.95301819 126.12469482 50.95140839 126.12574768 50.94734573 126.12850952 50.94320297 126.12728119 50.93739319 126.12361145 50.93211746 126.11302948 50.9274292 126.09842682 50.92007828 126.08724213 50.91493988 126.07303619 50.91330338 126.0615387 50.91288757 126.05358887 50.91337204 126.0448761 50.91464233 126.0306778 50.91737366 126.01282501 50.92559052 126.01356506 50.92775345 126.01615906 50.93208694 126.02135468 50.93081284 126.02971649 50.92565536 126.0354538 50.92313766 126.03825378 50.92521667 126.03946686 50.92728424 126.0406723 50.93482971 126.04046631 50.94166183 126.03810883 50.94568634 126.04560089 50.94914246 126.05202484 50.95256805 126.05157471 50.95941162 126.0503006 50.9619751 126.05421448 50.95911407 126.06407166 50.95949173 126.0669632 50.95986938 126.06985474 50.96079254 126.07091522 50.96197128 126.07378387 50.96657181 126.07619476 50.96672821 126.0745163 50.96718216 126.06965637 50.96733475 126.06312561 50.97328186 126.06296539 50.97466278 126.06105042 50.97620392 126.05889893 50.97563171 126.04876709 50.97806168 126.04145813 50.9809494 126.04037476 50.98329926 126.03949738 50.9884758 126.04147339 50.98950195 126.04186249 50.99836349 126.03726959 51.00282669 126.02771759 51.00533295 126.02692413 51.00854492 126.02792358 51.01338959 126.03141785 51.01610184 126.02880096 51.02079773 126.03156281 51.02140045 126.03192139 51.02312469 126.04239655 51.02641296 126.03842163 51.02650833 126.03830719 51.03010178 126.03276825 51.0349617 126.0377121 51.03113937 126.04486847 51.0284729 126.04986572 51.03128433 126.0555954 51.03695679 126.05281067 51.03833008 126.05213928 51.04117584 126.04153442 51.04175949 126.03244781 51.04172134 126.02916718 51.04167175 126.02519226 51.04389572 126.01968384 51.04613876 126.02201843 51.04898834 126.02498627 51.05376434 126.02304077 51.05222321 126.00856018 51.05679321 126.0044632 51.06391525 126.01113892 51.06535721 126.00455475 51.06472778 126.00376129 51.0617485 126 51.07627106 125.98672485 51.08142853 125.97301483 51.08511353 125.97464752 51.08472443 125.98296356 51.08680344 125.98679352 51.08995819 125.98358154 51.09184647 125.97545624 51.09569931 125.973526 51.10979843 125.98777008 51.11581421 125.99384308 51.12041473 125.99200439 51.11642838 125.98077393 51.12343979 125.97563934 51.12371826 125.96970367 51.10895157 125.9469986 51.10687256 125.94380188 51.10811615 125.93320465 51.11288071 125.92779541 51.11592865 125.92696381 51.12005234 125.91909027 51.12304688 125.91944122 51.12399292 125.93149567 51.12687302 125.93422699 51.12848282 125.93202972 51.139534 125.90465546 51.13484573 125.89215851 51.13511658 125.88621521 51.13973618 125.87678528 51.14009857 125.87604523 51.13984299 125.86525726 51.14316177 125.85847473 51.14839935 125.85909271 51.1529274 125.87516022 51.15999222 125.86881256 51.16757965 125.86730957 51.17341995 125.85484314 51.18464661 125.8561554 51.20015335 125.8460083 51.20912933 125.84705353 51.21651459 125.83355713 51.22052765 125.82803345 51.22411728 125.81528473 51.22247314 125.78517151 51.22388077 125.76933289 51.2255249 125.75080872 51.22953415 125.7452774 51.24406815 125.75653076 51.25844955 125.75458527 51.2642746 125.74208069 51.27442932 125.73365784 51.27939606 125.72344208 51.28538132 125.72412872 51.29863739 125.71365356 51.30295944 125.70095825 51.31038666 125.70300293 51.33047867 125.69090271 51.33454132 125.68416595 51.33488464 125.68043518 51.33597183 125.66873169 51.34622192 125.65789032 51.34878159 125.65097809 51.3569603 125.65310669 51.3590889 125.6389389 51.37233353 125.6284256 51.38204193 125.61270905 51.38704681 125.61151123 51.38888168 125.61107635 51.39070892 125.61181641 51.39700699 125.61438751 51.39728165 125.61236572 51.39923096 125.59781647 51.41701126 125.58659363 51.42192459 125.57776642 51.43087387 125.56169128 51.43910217 125.56260681 51.44398117 125.57157135 51.45022964 125.56625366 51.45133591 125.55796051 51.45992661 125.55049896 51.46128845 125.53620911 51.48515701 125.52321625 51.49158478 125.5128479 51.49664688 125.50467682 51.51098633 125.48152161 51.51797485 125.47626495 51.53258896 125.45489502 51.54430008 125.4377594 51.55322266 125.42469788 51.55554581 125.42249298 51.56575012 125.41279602 51.57954407 125.38657379 51.58615112 125.37400818 51.59233856 125.37206268 51.59757614 125.37041473 51.60856247 125.36265564 51.61027145 125.3614502 51.61604309 125.35317993 51.62217712 125.34353638 51.61994553 125.33113861 51.61970139 125.33011627 51.6163826 125.31748962 51.61348343 125.31406403 51.6115799 125.31181335 51.60829163 125.30813599 51.61278152 125.29942322 51.63233566 125.28128052 51.63581848 125.2746582 51.6350975 125.26425934 51.63000107 125.26003265 51.62871933 125.25215912 51.6360054 125.23300171 51.6371994 125.2298584 51.63894272 125.22083282 51.63664246 125.21543121 51.62950134 125.21060944 51.62907791 125.2101059 51.62643814 125.20697021 51.63657379 125.1717453 51.63764954 125.1680069 51.63730621 125.15950012 51.63521576 125.15448761 51.63389969 125.14646149 51.63282013 125.13986969 51.63241196 125.12730408 51.6372261 125.12154388 51.64611435 125.12284088 51.65122223 125.12117004 51.65721893 125.12032318 51.65872955 125.11434174 51.65912247 125.11277771 51.65959167 125.10103607 51.65655899 125.09076691 51.64537811 125.08370972 51.63869095 125.07896423 51.63430023 125.07408905 51.63167572 125.07086945 51.62865448 125.06613922 51.62277603 125.0640564 51.61386108 125.06349945 51.60992432 125.05867767 51.60387421 125.05510712 51.59869385 125.05272675 51.59505844 125.05198669 51.57658768 125.06111908 51.56917953 125.06293488 51.56382751 125.06495667 51.56013489 125.06567383 51.55168533 125.06480408 51.53707886 125.05152893 51.53335953 125.04710388 51.52792358 125.03956604 51.52719498 125.03249359 51.52692795 125.02990723 51.52540588 125.01615143 51.52738571 125.00106812 51.52769089 124.99874878 51.52355576 124.99317932 51.52145767 124.9881897 51.51473618 124.98420715 51.50981522 124.98088837 51.50959778 124.98074341 51.50680161 124.97605133 51.50614929 124.96964264 51.50597 124.96788788 51.50311279 124.94702911 51.50080872 124.93540955 51.49910736 124.92606354 51.49633408 124.92063904 51.49072647 124.91751099 51.48337173 124.9178772 51.48034668 124.91316986 51.4784584 124.90857697 51.47289276 124.91022491 51.47034454 124.91693878 51.46819687 124.92576599 51.46816635 124.92589569 51.46783447 124.92612457 51.4625206 124.92974091 51.45624161 124.93204498 51.44682693 124.93482208 51.44603729 124.93505859 51.44087219 124.9323349 51.43622971 124.92784119 51.43576431 124.92681122 51.43242645 124.91938782 51.43136978 124.91121674 51.42896271 124.9021759 51.42349243 124.895401 51.4164505 124.88773346 51.41140747 124.88173676 51.40612411 124.87608337 51.40018845 124.87549591 51.39483261 124.87753296 51.3870163 124.87779999 51.38656998 124.87781525 51.38610077 124.87696838 51.38185501 124.86928558 51.3789978 124.85987091 51.37818909 124.85720825 51.37857437 124.84698486 51.37985229 124.84172058 51.38074875 124.83804321 51.38352966 124.82512665 51.38742447 124.80682373 51.38769913 124.80357361 51.38831329 124.80194855 51.38784409 124.80185699 51.38825226 124.79701233 51.38916016 124.78501129 51.38981247 124.78104401 51.39064407 124.77600098 51.38854218 124.76480865 51.38343811 124.75405884 51.37872696 124.75141144 51.37371445 124.75055695 51.36507797 124.74863434 51.36257935 124.74781799 51.35873413 124.74655914 51.3554039 124.74367523 51.35071945 124.73406982 51.34473801 124.72216034 51.34182358 124.71419525 51.33924484 124.70955658 51.33768082 124.70314026 51.33705139 124.70056152 51.33161926 124.6861496 51.33226395 124.66864777 51.33401871 124.65820313 51.33438873 124.647995 51.33335876 124.63838196 51.32852173 124.63280487 51.32537079 124.62483215 51.32724762 124.61732483 51.33467102 124.60850525 51.33944702 124.60309601 51.34399796 124.59766388 51.34804916 124.59327698 51.35533905 124.58809662 51.36227417 124.57995605 51.36889648 124.56774902 51.37078476 124.55987549 51.3739357 124.54844666 51.37194443 124.53361511 51.37291336 124.51905823 51.37762833 124.50887299 51.37839127 124.50015259 51.37979889 124.49259186 51.37877274 124.48261261 51.36436844 124.4750824 51.36063766 124.4703598 51.35946655 124.46387482 51.35929108 124.46291351 51.3590889 124.44898987 51.35633087 124.43592834 51.35197449 124.42932129 51.34415436 124.42350006 51.33600235 124.420578 51.33010483 124.41896057 51.32408905 124.42061615 51.3063736 124.42269897 51.3022728 124.42196655 51.29950714 124.42245483 51.29280853 124.41506195 51.29265976 124.41490173 51.28971863 124.41390991 51.28095627 124.40882874 51.27780914 124.40700531 51.27030563 124.39867401 51.26983261 124.39241791 51.27410126 124.38146973 51.27765656 124.35767365 51.27022552 124.34021759 51.27499008 124.33478546 51.27985382 124.33338165 51.28414917 124.33258057 51.28654099 124.33213806 51.29181671 124.3318634 51.29057312 124.32810211 51.28995895 124.32520294 51.28938675 124.3225174 51.28757477 124.31505585 51.28793716 124.30412292 51.29032516 124.30200195 51.29431534 124.29846191 51.29589081 124.29238129 51.30002975 124.28316498 51.30331802 124.27584076 51.30668259 124.2640686 51.3107872 124.26478577 51.31754303 124.26134491 51.32339859 124.25745392 51.32703018 124.25154877 51.33491135 124.24177551 51.34303665 124.23169708 51.34580231 124.22425079 51.34638214 124.2226181 51.34776688 124.21871185 51.34832382 124.2171402 51.3483696 124.21578979 51.34854889 124.21021271 51.34716797 124.20350647 51.34243393 124.1939621 51.33694077 124.17960358 51.3387146 124.16731262 51.34146118 124.16022491 51.3441658 124.15460205 51.34147263 124.14559937 51.33802032 124.1317749 51.34180832 124.12831116 51.34462738 124.12574005 51.34571838 124.12034607 51.34415436 124.11342621 51.34310913 124.10878754 51.34246826 124.0999527 51.34113312 124.09143066 51.33958435 124.08252716 51.33288193 124.07722473 51.32447052 124.07508087 51.31908798 124.06403351 51.3191452 124.05490112 51.31951904 124.03555298 51.32150269 124.01596832 51.32133865 123.99707031 51.32125092 123.98706818 51.3199234 123.97818756 51.31649017 123.96292877 51.3146553 123.94815826 51.31168747 123.93257904 51.30643463 123.92449188 51.30298996 123.92176056 51.29927444 123.91881561 51.30457687 123.91009521 51.31143951 123.89527893 51.31798935 123.88298798 51.32297516 123.87715912 51.33005142 123.87039948 51.33431625 123.86560822 51.34205246 123.85982513 51.34274673 123.85930634 51.35495758 123.84927368 51.3592453 123.84375 51.36613846 123.83512878 51.36730194 123.82679749 51.36727524 123.81984711 51.36339951 123.81150055 51.36107635 123.80474091 51.35974121 123.79549408 51.35975266 123.78986359 51.35976028 123.78707886 51.36007309 123.78627014 51.36347198 123.77748108 51.36620712 123.77000427 51.3670845 123.76662445 51.36956024 123.75708008 51.37265778 123.74953461 51.37349701 123.74749756 51.37965012 123.7406311 51.38448334 123.73184204 51.39038086 123.72569275 51.39052963 123.72550201 51.39560699 123.71912384 51.39767838 123.71086121 51.39673996 123.70346832 51.39359283 123.70140076 51.39213562 123.70023346 51.3895607 123.69817352 51.3842392 123.69192505 51.38023758 123.68760681 51.37736893 123.68373871 51.37250519 123.67752838 51.36679459 123.67710876 51.35670853 123.67746735 51.35017014 123.67369843 51.34738159 123.66691589 51.34588623 123.66007233 51.34535217 123.65762329 51.34135818 123.65294647 51.33587265 123.65254974 51.32686615 123.65451813 51.32458115 123.65502167 51.31772614 123.65452576 51.31805801 123.64248657 51.31849289 123.63520813 51.31561661 123.62368774 51.31189728 123.60877991 51.31171799 123.59854126 51.31060791 123.58895874 51.30804062 123.5821991 51.3054924 123.57507324 51.3006897 123.57473755 51.29920578 123.57485199 51.29334641 123.57530975 51.29159546 123.57226563 51.28894424 123.56038666 51.28736115 123.55114746 51.28713989 123.54527283 51.2869606 123.54052734 51.28658295 123.53759003 51.28601456 123.53315735 51.28585434 123.52974701 51.28543472 123.52069855 51.28577805 123.5079422 51.28909683 123.49502563 51.29019165 123.47975922 51.2880249 123.46646118 51.28511047 123.45530701 51.27881622 123.45085907 51.27270126 123.44824982 51.27068329 123.44332123 51.27054596 123.44299316 51.26922226 123.43231964 51.27032852 123.42508698 51.27243042 123.41464233 51.27699661 123.40655518 51.27600861 123.39916229 51.27487946 123.39071655 51.27349091 123.38787842 51.2687912 123.37825775 51.26531982 123.37072754 51.26555634 123.36161804 51.26853561 123.35232544 51.27077103 123.34553528 51.27088547 123.33203125 51.268013 123.3187027 51.26488495 123.31066895 51.2634964 123.30709839 51.25801849 123.29724884 51.25429535 123.29044342 51.25106812 123.2853775 51.24944687 123.28282928 51.250103 123.27484894 51.25091171 123.27196503 51.25361633 123.26229858 51.25709534 123.25120544 51.25798416 123.24832916 51.26008224 123.24154663 51.26398468 123.23194122 51.26715088 123.22411346 51.27150726 123.22200012 51.27248001 123.2215271 51.27768326 123.2240448 51.27985764 123.21943665 51.28114319 123.21367645 51.28162766 123.20311737 51.28029251 123.19208527 51.28284836 123.18092346 51.28562164 123.17050934 51.28624725 123.16897583 51.28999329 123.15982056 51.29083252 123.15912628 51.29666138 123.15433502 51.29925156 123.14615631 51.2977562 123.13181305 51.29723358 123.12797546 51.29619598 123.12039948 51.29944992 123.11438751 51.30002213 123.11332703 51.30592728 123.10565186 51.30869675 123.09486389 51.30963898 123.08396149 51.31406021 123.07107544 51.31930542 123.06188965 51.32022476 123.05171204 51.31822968 123.0388031 51.31509018 123.02583313 51.31254578 123.01691437 51.30841446 123.00717163 51.31021881 122.99814606 51.31145096 122.99420166 51.31851196 122.98583984 51.32096481 122.98282623 51.32675171 122.97572327 51.33358383 122.96698761 51.34031677 122.9626236 51.34451294 122.95921326 51.35353088 122.95534515 51.36021805 122.95317078 51.36510468 122.95345306 51.36616135 122.9535141 51.37297058 122.95610046 51.38047791 122.95836639 51.38550186 122.95902252 51.39290619 122.95542145 51.39743805 122.94726563 51.40378571 122.9395752 51.40607071 122.92945862 51.40798569 122.92102051 51.40885544 122.91717529 51.40924072 122.90987396 51.41050339 122.90445709 51.41526413 122.89593506 51.41875076 122.89356995 51.42612076 122.89142609 51.43067169 122.89277649 51.43795776 122.89465332 51.44208145 122.89387512 51.44393539 122.89352417 51.4475441 122.88530731 51.44814682 122.88214111 51.45037842 122.87044525 51.45372009 122.86403656 51.46290588 122.86271667 51.46731949 122.85966492 51.47043228 122.85324097 51.47515869 122.84875488 51.47627258 122.84770203 51.47875595 122.8493042 51.48246002 122.85830688 51.48471069 122.85990143 51.49074554 122.86683655 51.49523544 122.87112427 51.49839783 122.8731308 51.50197601 122.8769989 51.50515366 122.87657166 51.50771713 122.8762207 51.51173782 122.87021637 51.51302719 122.86727905 51.51582336 122.86090088 51.5233345 122.85214996 51.52787781 122.85386658 51.53168106 122.85811615 51.5322876 122.86182404 51.53614426 122.87272644 51.53639221 122.87342834 51.5410881 122.87846375 51.54776764 122.87664032 51.55472565 122.87225342 51.55987549 122.86703491 51.56376648 122.86004639 51.56820679 122.8520813 51.57373428 122.83953094 51.57776642 122.8327713 51.58364868 122.82501221 51.58864212 122.82712555 51.59399796 122.83367157 51.60044479 122.84284973 51.60283279 122.84602356 51.60534668 122.84937286 51.61069489 122.84525299 51.61907959 122.83837128 51.62260056 122.83415222 51.62334061 122.83242798 51.62861633 122.82013702 51.63172531 122.81369019 51.6386528 122.8107605 51.64618301 122.81191254 51.65379333 122.809021 51.66209412 122.80256653 51.66263962 122.80213928 51.67008972 122.79592896 51.67329025 122.79286194 51.67919159 122.78721619 51.68478775 122.78237152 51.6908493 122.77680206 51.69667053 122.77196503 51.70248032 122.76786041 51.71144104 122.76613617 51.7190094 122.76543427 51.72546768 122.76284027 51.73180389 122.75881195 51.73242188 122.75842285 51.73802567 122.75283051 51.73905945 122.75041962 51.74235153 122.74273682 51.74599457 122.7436676 51.75095749 122.74725342 51.75544357 122.7515564 51.75746918 122.75350189 51.76532364 122.76130676 51.77122116 122.76383209 51.77806473 122.76494598 51.78014374 122.76340485 51.78317642 122.7611618 51.78918076 122.75852966 51.79423141 122.75769806 51.80187607 122.75331116 51.80680084 122.74729919 51.81257248 122.74465942 51.81744385 122.74159241 51.82304764 122.73599243 51.83221436 122.72528076 51.83837891 122.724617 51.84194183 122.72647095 51.84472275 122.7279129 51.85319519 122.72762299 51.85943222 122.72463226 51.86773682 122.72137451 51.87671661 122.71852875 51.88193893 122.7113266 51.88521194 122.70567322 51.88697815 122.70246124 51.88877106 122.69920349 51.89356232 122.70029449 51.89719772 122.7011261 51.90602112 122.70639801 51.91224289 122.71560669 51.91601944 122.72135925 51.92169189 122.72388458 51.92557907 122.72409058 51.93178177 122.72294617 51.94072342 122.71842194 51.94171906 122.7179184 51.94192886 122.71794128 51.94765472 122.71860504 51.95448685 122.72045135 51.96156311 122.72119904 51.96659088 122.72146606 51.97074509 122.719841 51.9773941 122.71907806 51.97880936 122.70544434 51.9787941 122.70536804 51.97529602 122.68598938 51.97318649 122.67699432 51.97880936 122.67024231 51.98372269 122.66457367 51.98647308 122.66434479 51.9906044 122.66381836 51.99547577 122.66036987 52 122.65620422 52.00377274 122.65630341 52.01563644 122.65661621 52.02223969 122.65458679 52.03017807 122.64881897 52.03607941 122.64532471 52.05776596 122.64362335 52.06200409 122.63424683 52.06246185 122.62804413 52.06280136 122.62347412 52.06570816 122.61746979 52.06813431 122.61857605 52.08637619 122.62689972 52.08723831 122.62723541 52.09348679 122.62966919 52.09685898 122.63158417 52.10222244 122.63462067 52.10818863 122.63705444 52.11804581 122.63014984 52.12132645 122.62786102 52.12860107 122.62276459 52.13523483 122.62368774 52.13673782 122.63589478 52.13674927 122.63633728 52.13710785 122.64924622 52.13875961 122.67823792 52.13907242 122.68371582 52.14299011 122.68732452 52.14496231 122.70100403 52.14771652 122.71562958 52.14858246 122.72021484 52.15211868 122.730896 52.15670776 122.7326355 52.15761948 122.73297882 52.16085434 122.73590088 52.1652298 122.73984528 52.16667557 122.74314117 52.1699028 122.75049591 52.17710495 122.76294708 52.19541931 122.7665863 52.19720078 122.76646423 52.20409775 122.76599884 52.20934296 122.76550293 52.21777725 122.76306152 52.22686005 122.75725555 52.23122025 122.75901031 52.23847961 122.77996826 52.2385025 122.78003693 52.24378586 122.78288269 52.24982834 122.78064728 52.25130081 122.78009796 52.25352859 122.77445984 52.25554657 122.77031708 52.26094437 122.76125336 52.26546097 122.75592804 52.26495361 122.75073242 52.25885773 122.73487854 52.25737 122.7230072 52.25611496 122.71187592 52.25489044 122.70371246 52.2602272 122.68906403 52.26914215 122.6895752 52.27535629 122.67190552 52.27552032 122.64434814 52.27249527 122.63884735 52.27082825 122.63293457 52.26926422 122.6151123 52.26820374 122.60136414 52.26529312 122.58618164 52.2652092 122.57911682 52.28137589 122.55369568 52.28374863 122.54133606 52.28527069 122.53459167 52.28672791 122.52262115 52.28715134 122.50026703 52.29067993 122.48973083 52.2947998 122.47097778 52.29953003 122.46560669 52.30251312 122.46662903 52.31331253 122.47151184 52.317173 122.4695282 52.32353973 122.46708679 52.32860947 122.47028351 52.33526993 122.47342682 52.34011841 122.477005 52.34648895 122.47494507 52.35300827 122.46615601 52.36201859 122.45542908 52.3697319 122.45070648 52.37929535 122.44815826 52.38611221 122.44495392 52.39244843 122.43989563 52.39212418 122.43243408 52.37988663 122.42201233 52.3726387 122.40918732 52.37618637 122.40048218 52.38412857 122.39611816 52.39113617 122.39028168 52.39320755 122.37341309 52.39657974 122.3691864 52.40702057 122.36398315 52.41222 122.35969543 52.40995026 122.34333801 52.41145706 122.33618927 52.41644669 122.33339691 52.42739105 122.33152008 52.43345642 122.32383728 52.43984222 122.32286835 52.44417191 122.32196808 52.45807266 122.31886292 52.46755219 122.30992889 52.47386169 122.30334473 52.47622681 122.29241943 52.47534561 122.27823639 52.47029877 122.26008606 52.46966171 122.24739075 52.46944046 122.23168945 52.47046661 122.22341919 52.46785355 122.20069885 52.47492218 122.18397522 52.48261261 122.17807007 52.48640442 122.17193604 52.49411011 122.16751862 52.51208496 122.16195679 52.51341248 122.15891266 52.51352692 122.15142059 52.51127243 122.13802338 52.50729752 122.13219452 52.5009346 122.13468933 52.49339676 122.13498688 52.48500061 122.12371826 52.47452927 122.12637329 52.47050476 122.11717987 52.46580505 122.10876465 52.45683289 122.10501099 52.45104218 122.1000061 52.44258118 122.08464813 52.43874359 122.07321167 52.43172836 122.0776062 52.42565536 122.08383942 52.41933823 122.07437897 52.41397476 122.05292511 52.41160583 122.03322601 52.40206146 122.03661346 52.39343643 122.04032898 52.37610245 122.02835846 52.37000275 122.0185318 52.36644745 122.01047516 52.36427689 122.00347137 52.34928894 121.98134613 52.34550095 121.97330475 52.34246826 121.96970367 52.33601379 121.96625519 52.32611847 121.96220398 52.32320023 121.95152283 52.3195076 121.94944763 52.31607056 121.94884491 52.31079102 121.94758606 52.30413437 121.9460144 52.29719162 121.94072723 52.28450394 121.92004395 52.28109741 121.90790558 52.28031158 121.90198517 52.2794838 121.89382172 52.28013611 121.87852478 52.28320694 121.8578949 52.28259277 121.84898376 52.28141785 121.83413696 52.28245544 121.82813263 52.28511047 121.82316589 52.2949791 121.79998016 52.29912949 121.78935242 52.3014946 121.78104401 52.30470657 121.76895905 52.30686569 121.76215363 52.3105011 121.74855804 52.31122208 121.73809052 52.31462097 121.71183014 52.31681442 121.70687103 52.32000351 121.7063446 52.32825851 121.70780182 52.34175491 121.70825958 52.35145569 121.7014389 52.35480499 121.69717407 52.35857773 121.69139099 52.36670685 121.68613434 52.37652969 121.67369843 52.38296509 121.6636734 52.38913727 121.65141296 52.39790726 121.65582275 52.41854858 121.67160034 52.420578 121.6700058 52.4260788 121.65888977 52.43202209 121.64700317 52.43743896 121.64336395 52.44127655 121.64092255 52.4431839 121.63298035 52.44163513 121.61212158 52.44039917 121.59573364 52.44198227 121.58330536 52.44508362 121.57828522 52.45200729 121.57006836 52.45908356 121.55810547 52.46002579 121.54795837 52.45695877 121.53203583 52.45304108 121.51914978 52.45540237 121.51154327 52.47140503 121.50057983 52.47831345 121.49197388 52.48141861 121.47608948 52.4817276 121.46896362 52.48815155 121.45887756 52.49555206 121.4303894 52.49942017 121.41856384 52.50108719 121.41098022 52.50522614 121.40139008 52.5227356 121.39702606 52.5251236 121.39089966 52.52794266 121.38399506 52.52833176 121.37010956 52.5273056 121.35443115 52.53381348 121.34880829 52.54822922 121.32848358 52.55691528 121.31785583 52.56469727 121.31815338 52.56943893 121.31562805 52.58124161 121.28079224 52.5825882 121.26946259 52.58137512 121.25602722 52.57913208 121.24790955 52.57759476 121.2405014 52.57542419 121.22562408 52.57429886 121.21631622 52.57751846 121.20711517 52.58719254 121.19039154 52.59436798 121.18431854 52.6023407 121.19284058 52.61600876 121.22053528 52.62124252 121.22960663 52.62863159 121.23254395 52.63394165 121.24498749 52.63703537 121.26058197 52.64124298 121.27497864 52.64737701 121.28326416 52.65605927 121.2831192 52.66143036 121.28806305 52.67110062 121.3119278 52.67564392 121.32106018 52.67958069 121.33361816 52.67853546 121.33818817 52.68067169 121.36288452 52.68286133 121.36914825 52.68738174 121.37716675 52.69363022 121.3809433 52.70005417 121.39261627 52.71429062 121.41702271 52.72293091 121.42556763 52.72872925 121.44067383 52.74807739 121.45842743 52.75805283 121.46540833 52.7651329 121.46501923 52.76938248 121.47156525 52.77290726 121.47627258 52.77653885 121.49716949 52.77851868 121.50460052 52.78294754 121.50888062 52.79135895 121.51785278 52.79555893 121.52214813 52.8102417 121.54737854 52.81600189 121.56102753 52.81802368 121.57110596 52.82241821 121.57350922 52.83471298 121.59437561 52.84121704 121.5996933 52.8468132 121.60506439 52.85200119 121.61347198 52.86354828 121.60758972 52.86753082 121.60058594 52.87271118 121.5969162 52.87802505 121.59966278 52.88241577 121.60207367 52.88605118 121.60075378 52.88991165 121.59941864 52.89271545 121.60266876 52.89448166 121.62298584 52.89869308 121.62805939 52.90638733 121.63597107 52.90821838 121.64797974 52.91521835 121.65555573 52.9217453 121.66203308 52.93283844 121.66864777 52.93903732 121.66985321 52.94658661 121.67022705 52.94961166 121.6730957 52.95449448 121.67739105 52.96125412 121.68424225 52.96795654 121.68806458 52.97607422 121.69447327 52.98235321 121.7002182 52.98830795 121.70067596 52.99271393 121.70424652 52.9964447 121.70822144 52.99886322 121.71529388 53.00113297 121.72692871 53.00292587 121.73744965 53.00701523 121.74861145 53.01152802 121.75786591 53.01898575 121.77871704 53.02705383 121.78249359 53.03258896 121.78526306 53.04154205 121.78749084 53.04892731 121.79130554 53.05334854 121.79564667 53.05900955 121.80561829 53.06410599 121.80916595 53.07141876 121.79629517 53.07641602 121.7816391 53.08210754 121.78022766 53.09283447 121.76642609 53.10255051 121.772789 53.10823441 121.77098846 53.11434555 121.76765442 53.12070465 121.76544952 53.14125443 121.75115204 53.14728546 121.74325562 53.14403152 121.72782898 53.14403915 121.71566772 53.1573143 121.69181824 53.15982437 121.67914581 53.16305161 121.66833496 53.16819382 121.66236877 53.1804657 121.64614105 53.18638992 121.64508057 53.19430923 121.65303802 53.19711685 121.66849518 53.20461655 121.66621399 53.21922302 121.66470337 53.22732925 121.67038727 53.23693466 121.6706543 53.24071884 121.66513062 53.24679565 121.65986633 53.2592392 121.62874603 53.25549698 121.61254883 53.26008606 121.60125732 53.26659775 121.59519958 53.2808609 121.57614136 53.28640747 121.56745911 53.29027939 121.55504608 53.29430008 121.55025482 53.30279922 121.54064178 53.30764771 121.53160095 53.31093216 121.51272583 53.31388855 121.50035095 53.32069397 121.49768829 53.33117294 121.48937988 53.33171082 121.4916153 53.33651733 121.51165771 53.34218597 121.5328598 53.34404373 121.54516602 53.34518814 121.55725861 53.34834671 121.5776062 53.35329056 121.59860992 53.35608673 121.60636902 53.36282349 121.62303925 53.36841583 121.63904572 53.37254333 121.65176392 53.37667084 121.66448212 53.3829155 121.67571259 53.38708496 121.68605804 53.38842392 121.69149017 53.38851166 121.69239044 53.38658905 121.70263672 53.38446808 121.71477509 53.38409042 121.71692657 53.38557434 121.72969818 53.38652039 121.73781586 53.38963318 121.74781036 53.39178085 121.75470734 53.39884949 121.77041626 53.40736008 121.79219818 53.41492081 121.81532288 53.41559219 121.83596039 53.41947556 121.84533691 53.42313385 121.85909271 53.42275238 121.8663559 53.42190552 121.88240051 53.42162704 121.90441895 53.42597961 121.9211731 53.4287796 121.95095062 53.42958069 121.96868896 53.42782211 121.9803009 53.42742157 121.98294067 53.42414093 122.00457764 53.41909027 122.03315735 53.42060089 122.04703522 53.42110443 122.05168152 53.42201233 122.06004333 53.42113876 122.07605743 53.42776871 122.09909821 53.43735123 122.10041809 53.45944214 122.1251297 53.46541595 122.13204193 53.46744919 122.13835144 53.46937943 122.14663696 53.46962357 122.15667725 53.46918106 122.16464996 53.46903992 122.16723633 53.46683884 122.17822266 53.46457291 122.19052124 53.46229935 122.20281982 53.46123886 122.21465302 53.46129608 122.2154007 53.46216202 122.22677612 53.46385956 122.23902893 53.46863556 122.25311279 53.47373962 122.2612381 53.48388672 122.27883148 53.4958992 122.30539703 53.49818039 122.31442261 53.49834061 122.31556702 53.49842072 122.31632233 53.49848938 122.31707001 53.49853897 122.31781769 53.49858093 122.318573 53.49860001 122.31933594 53.49861145 122.32009125 53.49860001 122.32084656 53.49858093 122.32160187 53.49853897 122.32235718 53.49848175 122.32311249 53.49840927 122.32386017 53.49832916 122.32460785 53.49822998 122.32534027 53.49811172 122.32608032 53.49798203 122.32681274 53.49784851 122.32752228 53.4977951 122.32774353 53.49768066 122.32823181 53.497509 122.32892609 53.49732208 122.32962036 53.49195862 122.34010315 53.4871788 122.34732819 53.48414993 122.35186005 53.47637939 122.36160278 53.45452881 122.38260651 53.4446106 122.40040588 53.44166183 122.41371155 53.44141006 122.43136597 53.44181061 122.44115448 53.44184875 122.44212341 53.44481659 122.45142365 53.44935226 122.46391296 53.4500885 122.46620941 53.45233154 122.47322083 53.45617294 122.48267365 53.45588684 122.48757172 53.45558167 122.49285889 53.45473862 122.5074234 53.453022 122.52184296 53.45308304 122.5224762 53.45627975 122.55619049 53.45755768 122.56991577 53.46058655 122.60249329 53.46113586 122.61339569 53.46260834 122.64251709 53.45979309 122.66596985 53.45914459 122.6713562 53.45809937 122.68884277 53.46032333 122.71142578 53.46192932 122.72770691 53.46170425 122.7387085 53.46147919 122.74970245 53.45867538 122.79628754 53.45854568 122.79699707 53.45605469 122.81054688 53.45290375 122.83354187 53.45600891 122.85466766 53.45933533 122.87052917 53.46144867 122.8806076 53.46646118 122.89911652 53.47536087 122.92568207 53.48159409 122.9385376 53.48203659 122.94114685 53.48545074 122.96128845 53.48958969 122.97968292 53.49332047 122.98817444 53.49477768 122.99149323 53.50064468 123.00060272 53.50743103 123.02068329 53.5112114 123.03752899 53.51126099 123.04968262 53.50770187 123.06793976 53.50759506 123.06851959 53.50483322 123.08338165 53.50284958 123.09406281 53.50025177 123.10977936 53.5002861 123.12193298 53.50144577 123.12778473 53.50333023 123.13730621 53.50814056 123.1503067 53.5166893 123.16532135 53.51755142 123.1668396 53.52817154 123.17684174 53.54323196 123.19304657 53.55138016 123.2039566 53.55459213 123.21669769 53.55770874 123.2307663 53.56003952 123.24471283 53.56085968 123.25701904 53.55974197 123.27437592 53.55833435 123.27954102 53.55764008 123.28209686 53.55183029 123.29724884 53.54699707 123.30988312 53.54261017 123.32798004 53.54111862 123.33851624 53.53660965 123.35941315 53.53268051 123.37932587 53.53144073 123.39827728 53.53128433 123.42499542 53.53126907 123.42772675 53.53031158 123.44230652 53.52548981 123.44876862 53.51633453 123.45445251 53.50650024 123.45704651 53.49811172 123.46433258 53.49570084 123.47419739 53.49661255 123.48318481 53.49676514 123.48471069 53.50331879 123.49182892 53.50881958 123.48842621 53.51644135 123.47953033 53.52202988 123.47467804 53.52820206 123.47434998 53.53601074 123.47580719 53.54536057 123.4805069 53.55096054 123.48892975 53.552742 123.49917603 53.554142 123.50723267 53.55404282 123.50871277 53.55316925 123.52179718 53.55210495 123.52354431 53.54430008 123.53636932 53.53707123 123.53942871 53.5309906 123.53829193 53.51460266 123.52046967 53.50881958 123.51496124 53.50101089 123.5134964 53.4958992 123.52433777 53.4944458 123.53291321 53.49594498 123.53606415 53.49983978 123.54424286 53.50437164 123.55539703 53.50918961 123.56220245 53.51671219 123.56804657 53.52442169 123.57097626 53.53348923 123.56678772 53.54043198 123.56809235 53.54233551 123.56957245 53.54544067 123.57199097 53.54756165 123.57977295 53.54716873 123.58558655 53.54636765 123.5881424 53.53710938 123.61763 53.53033829 123.63993835 53.52618027 123.64948273 53.51787949 123.65526581 53.5078392 123.66072845 53.49587631 123.66876221 53.48926163 123.67782593 53.49303055 123.69338989 53.49368286 123.69687653 53.49539185 123.70598602 53.49736023 123.71852112 53.49729919 123.72525787 53.49666977 123.73458862 53.49638367 123.73612976 53.49473953 123.74501801 53.49082565 123.76113892 53.48797226 123.77340698 53.4860611 123.78383636 53.48590851 123.79190826 53.48611832 123.79374695 53.4874115 123.80502319 53.48835754 123.81465149 53.48854065 123.8295517 53.48871994 123.84442139 53.48677826 123.85168457 53.48546219 123.85661316 53.4797287 123.86966705 53.47026062 123.89008331 53.46088028 123.9091568 53.45399094 123.9213028 53.44911194 123.92775726 53.44721985 123.93750763 53.44068146 123.95038605 53.43400192 123.96526337 53.42809296 123.97486877 53.4214325 123.9836731 53.41110229 124 53.4100914 124.00113678 53.40883636 124.00254059 53.39640045 124.01850891 53.39157486 124.03140259 53.39157486 124.03172302 53.39172363 124.06253052 53.38573837 124.07234192 53.3780632 124.08190918 53.36703873 124.09564972 53.36292648 124.09648895 53.3555603 124.09799194 53.3499794 124.10416412 53.34791946 124.10644531 53.34746933 124.10694122 53.34368134 124.11501312 53.34395218 124.11872864 53.34498978 124.13301086 53.34697342 124.14213562 53.34828186 124.14816284 53.35659027 124.162323 53.36458588 124.19235992 53.36795044 124.20871735 53.36809921 124.2208786 53.36550903 124.24575043 53.34767532 124.27121735 53.34381866 124.27750397 53.32810211 124.30310822 53.32522964 124.30797577 53.31835938 124.31962585 53.30099869 124.33158875 53.29381943 124.33300781 53.28723526 124.34023285 53.28705978 124.34042358 53.2816391 124.34571838 53.27301788 124.35519409 53.27156067 124.35679626 53.26771927 124.36100006 53.26529694 124.36116791 53.26153946 124.36141968 53.25342941 124.36720276 53.24618149 124.37548828 53.24123001 124.39711761 53.23981094 124.40660095 53.23441315 124.41726685 53.23251724 124.42101288 53.22950363 124.42311859 53.21815872 124.43105316 53.21672058 124.43206024 53.20864868 124.45197296 53.20743942 124.4572525 53.20050049 124.48757172 53.19688034 124.51541901 53.19488907 124.53032684 53.19607162 124.55459595 53.20063019 124.5916214 53.19974136 124.62853241 53.19947052 124.63965607 53.20096207 124.6481781 53.19919205 124.66304016 53.19225311 124.69127655 53.18904877 124.70430756 53.1815033 124.71526337 53.17921829 124.71598816 53.1758728 124.71705627 53.15644836 124.715271 53.15433121 124.71795654 53.15097046 124.72098541 53.14955902 124.72225952 53.14122009 124.74213409 53.13861847 124.74833679 53.13441467 124.77507782 53.13550949 124.80581665 53.13809204 124.81266785 53.13269043 124.83304596 53.12458801 124.84287262 53.12417221 124.84337616 53.10868073 124.8543396 53.10462189 124.85720825 53.098629 124.86400604 53.09429169 124.87509155 53.0951004 124.88754272 53.09767914 124.89546967 53.10647202 124.89998627 53.116436 124.90126038 53.13264084 124.89605713 53.13740921 124.89290619 53.14850998 124.88556671 53.15481949 124.88368225 53.16117096 124.88941193 53.16376114 124.89391327 53.1737709 124.91734314 53.179245 124.94020081 53.18193054 124.95141602 53.18925095 124.97189331 53.19285202 124.98197174 53.19417953 125 53.19617081 125.02688599 53.19567108 125.04830933 53.19543076 125.05873871 53.19496155 125.09513092 53.19739914 125.12298584 53.195858 125.14312744 53.19499969 125.15437317 53.19158936 125.18820953 53.18939209 125.20082092 53.18619156 125.21041107 53.18335724 125.21891022 53.1832428 125.21925354 53.17911911 125.23162842 53.158535 125.27539063 53.14844894 125.29682922 53.14422989 125.31009674 53.14267349 125.31498718 53.1385231 125.3259964 53.13660431 125.34731293 53.13001633 125.36522675 53.12852478 125.36927795 53.12382507 125.38646698 53.12279129 125.394104 53.12049103 125.41105652 53.11325073 125.42758179 53.10512924 125.44603729 53.10109329 125.46273041 53.10079956 125.46325684 53.09590149 125.47203827 53.09030914 125.48206329 53.07427216 125.49223328 53.07328033 125.49286652 53.05847931 125.49494171 53.0496788 125.5013504 53.04771805 125.50556946 53.04642105 125.50836182 53.04938889 125.52348328 53.05499268 125.53663635 53.06348038 125.54820251 53.07085037 125.56004333 53.07337952 125.56408691 53.07620239 125.57006836 53.08073044 125.57965851 53.07954025 125.58370209 53.07460022 125.60045624 53.06935883 125.61274719 53.06105042 125.61981201 53.05806732 125.62612152 53.05656052 125.62930298 53.05337143 125.62980652 53.04725647 125.63493347 53.04154968 125.6397171 53.02671814 125.65113831 53.02090454 125.65561676 53.00746536 125.66919708 53.00041962 125.68210602 52.99713898 125.69291687 52.99431229 125.71229553 52.99401855 125.71431732 52.99288177 125.71729279 52.98809433 125.72985077 52.98784256 125.7305069 52.98450851 125.73636627 52.97937012 125.7387085 52.97262192 125.73712921 52.96917725 125.73484802 52.9582901 125.72763824 52.94122314 125.72618103 52.93411636 125.72238159 52.92868042 125.70388794 52.9270401 125.68744659 52.92121887 125.67433929 52.92004395 125.67173767 52.91595078 125.66265869 52.90872955 125.65699005 52.8925705 125.65162659 52.8839798 125.65377045 52.87100983 125.65585327 52.8601265 125.66835785 52.85681915 125.67215729 52.86124039 125.68888855 52.86379623 125.6944046 52.87514877 125.71888733 52.87590027 125.72106171<span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiSurface</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_0</span>&gt;</span>CHN<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_0</span>&gt;</span>China<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_1</span>&gt;</span>CHN.11_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_1</span>&gt;</span>Heilongjiang<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span>黑龙江省|黑龍江省<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_2</span>&gt;</span>CHN.11.2_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_2</span>&gt;</span>Daxing&#x27;anling<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span>Dàxīng&#x27;ānlǐng<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span>大兴安岭地区<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:TYPE_2</span>&gt;</span>Dìqu<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:TYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span>Prefecture<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:CC_2</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:HASC_2</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:0</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><p>多次插入同一个元素的话，会生成多个<code>id</code>不同的要素。因此我们不需要自己设置<code>id</code>.</p><p>用下面官网的来举例</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span></span><br><span class="hljs-tag">   <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.02.0.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.someserver.example.com/myns ./SampleSchema.xsd</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://schemas.opengis.net/wfs/2.0.02.0/wfs.xsd</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://www.opengis.net/gml/3.2</span></span><br><span class="hljs-tag"><span class="hljs-string">                       http://schemas.opengis.net/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>   <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Insert</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">InWaterA_1M</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;F1&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">wkbGeom</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326http://www.opengis.net/def/crs/epsg/0/4326&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;P1&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span>-30.93597221374512 117.6290588378906 -30.94830513000489 117.6447219848633 -30.95219421386719 117.6465530395508 -30.95219421386719 117.6431121826172 -30.94802856445312 117.6386108398438 -30.94799995422363 117.6314163208008 -30.946138381958 117.62850189209 -30.94430541992188 117.6295852661133 -30.93280601501464 117.6240539550781 -30.92869377136231 117.624641418457 -30.92386054992676 117.6201400756836 -30.92111206054688 117.6206970214844 -30.92458343505859 117.6275863647461 -30.93597221374512 117.6290588378906<span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">wkbGeom</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>28022<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fCode</span>&gt;</span>BH000<span class="hljs-tag">&lt;/<span class="hljs-name">fCode</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">hyc</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">hyc</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tileId</span>&gt;</span>177<span class="hljs-tag">&lt;/<span class="hljs-name">tileId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">facId</span>&gt;</span>132<span class="hljs-tag">&lt;/<span class="hljs-name">facId</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">InWaterA_1M</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">InWaterA_1M</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;F2&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">wkbGeom</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326http://www.opengis.net/def/crs/epsg/0/4326&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;P2&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>               <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span>-30.92013931274414 117.6552810668945 -30.92383384704589 117.661361694336 -30.93005561828613 117.6666412353516 -30.93280601501464 117.6663589477539 -30.93186187744141 117.6594467163086 -30.93780517578125 117.6541137695312 -30.94397163391114 117.6519470214844 -30.94255638122559 117.6455535888672 -30.93402862548828 117.6336364746094 -30.92874908447266 117.6355285644531 -30.92138862609864 117.6326370239258 -30.92236137390137 117.6395568847656 -30.91708374023438 117.6433029174805 -30.91711044311523 117.6454467773437 -30.92061042785645 117.6484985351563 -30.92061042785645 117.6504135131836 -30.91638946533203 117.6504440307617 -30.92013931274414 117.6552810668945 <span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">wkbGeom</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span>28021<span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">fCode</span>&gt;</span>BH000<span class="hljs-tag">&lt;/<span class="hljs-name">fCode</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">hyc</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-name">hyc</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tileId</span>&gt;</span>177<span class="hljs-tag">&lt;/<span class="hljs-name">tileId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">facId</span>&gt;</span>131<span class="hljs-tag">&lt;/<span class="hljs-name">facId</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">InWaterA_1M</span>&gt;</span><br>   <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><hr><h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.2&quot;</span> <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns:cesium</span>=<span class="hljs-string">&quot;http://geoserver.org/cesium&quot;</span> <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span> <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">numberMatched</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">numberReturned</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">timeStamp</span>=<span class="hljs-string">&quot;2020-10-21T05:46:20.854Z&quot;</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0 http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd http://geoserver.org/cesium http://localhost:8080/geoserver/cesium/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=cesium%3A0 http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Insert</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cesium:0</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.102&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiSurface</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.102.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Polygon</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.102.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:exterior</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:posList</span>&gt;</span><br>                                  50.75596883266384 103.3116295189964 51.75596883266384 103.3116295189964<br>                                  <span class="hljs-tag">&lt;/<span class="hljs-name">gml:posList</span>&gt;</span><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:LinearRing</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">gml:exterior</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Polygon</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:surfaceMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiSurface</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_0</span>&gt;</span>CHN<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_0</span>&gt;</span>中国<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_1</span>&gt;</span>CHN.11_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_1</span>&gt;</span>Heilongjiang<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span>测试数据1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_2</span>&gt;</span>CHN.11.2_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_2</span>&gt;</span>Daxing&#x27;anling<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span>Dàxīng&#x27;ānlǐng<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span>测试数据<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:TYPE_2</span>&gt;</span>Dìqu<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:TYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span>Prefecture<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:CC_2</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:HASC_2</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:0</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="测试点数据"><a href="#测试点数据" class="headerlink" title="测试点数据"></a>测试点数据</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:FeatureCollection</span> <span class="hljs-attr">xmlns:xs</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span> <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span> <span class="hljs-attr">xmlns:topp</span>=<span class="hljs-string">&quot;http://www.openplans.org/topp&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">numberMatched</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">numberReturned</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">timeStamp</span>=<span class="hljs-string">&quot;2020-10-21T13:05:14.443Z&quot;</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0 http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd http://www.openplans.org/topp http://localhost:8080/geoserver/topp/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=topp%3Atasmania_cities http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:member</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">topp:tasmania_cities</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;tasmania_cities.1&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiPoint</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;tasmania_cities.1.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:pointMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Point</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;tasmania_cities.1.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:pos</span>&gt;</span>-42.85100182 147.29100045<span class="hljs-tag">&lt;/<span class="hljs-name">gml:pos</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Point</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:pointMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiPoint</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">topp:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:CITY_NAME</span>&gt;</span>Hobart<span class="hljs-tag">&lt;/<span class="hljs-name">topp:CITY_NAME</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:ADMIN_NAME</span>&gt;</span>Tasmania<span class="hljs-tag">&lt;/<span class="hljs-name">topp:ADMIN_NAME</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:CNTRY_NAME</span>&gt;</span>Australia<span class="hljs-tag">&lt;/<span class="hljs-name">topp:CNTRY_NAME</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:STATUS</span>&gt;</span>Provincial capital<span class="hljs-tag">&lt;/<span class="hljs-name">topp:STATUS</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:POP_CLASS</span>&gt;</span>100,000 to 250,000<span class="hljs-tag">&lt;/<span class="hljs-name">topp:POP_CLASS</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">topp:tasmania_cities</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:member</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:FeatureCollection</span>&gt;</span><br></code></pre></td></tr></table></figure><p>自己的数据</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.2&quot;</span> <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://localhost:8080/geoserver/topp&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">xmlns:xs</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span> <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span> <span class="hljs-attr">xmlns:topp</span>=<span class="hljs-string">&quot;http://localhost:8080/geoserver/topp&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">numberMatched</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">numberReturned</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">timeStamp</span>=<span class="hljs-string">&quot;2020-10-21T13:05:14.443Z&quot;</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0 http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd http://www.openplans.org/topp http://localhost:8080/geoserver/topp/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=topp%3Atasmania_cities http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Insert</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">topp:tasmania_cities</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;tasmania_cities.1&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiPoint</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;tasmania_cities.1.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:pointMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Point</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;tasmania_cities.1.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:pos</span>&gt;</span>-42.85100182 147.29100045<span class="hljs-tag">&lt;/<span class="hljs-name">gml:pos</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Point</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:pointMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiPoint</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">topp:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:CITY_NAME</span>&gt;</span>Hobart<span class="hljs-tag">&lt;/<span class="hljs-name">topp:CITY_NAME</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:ADMIN_NAME</span>&gt;</span>Tasmania<span class="hljs-tag">&lt;/<span class="hljs-name">topp:ADMIN_NAME</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:CNTRY_NAME</span>&gt;</span>Australia<span class="hljs-tag">&lt;/<span class="hljs-name">topp:CNTRY_NAME</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:STATUS</span>&gt;</span>Provincial capital<span class="hljs-tag">&lt;/<span class="hljs-name">topp:STATUS</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">topp:POP_CLASS</span>&gt;</span>100,000 to 250,000<span class="hljs-tag">&lt;/<span class="hljs-name">topp:POP_CLASS</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">topp:tasmania_cities</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><h1 id="插入结构分析"><a href="#插入结构分析" class="headerlink" title="插入结构分析"></a>插入结构分析</h1><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">wfs:Transaction</span> <span class="hljs-attr">version</span>=<span class="hljs-string">&quot;2.0.2&quot;</span> <span class="hljs-attr">service</span>=<span class="hljs-string">&quot;WFS&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:cesium</span>=<span class="hljs-string">&quot;http://geoserver.org/cesium&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://localhost:8080/geoserver/cesium&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>  <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://www.opengis.net/wfs/2.0</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://geoserver.org/cesium http://localhost:8080/geoserver/cesium/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=cesium%3A0</span></span><br><span class="hljs-tag"><span class="hljs-string">    http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:Insert</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">cesium:0</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;0.133&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">gml:MultiPoint</span> <span class="hljs-attr">srsName</span>=<span class="hljs-string">&quot;urn:ogc:def:crs:EPSG::4326&quot;</span> <span class="hljs-attr">srsDimension</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;tasmania_cities.1.the_geom&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">gml:pointMember</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">gml:Point</span> <span class="hljs-attr">gml:id</span>=<span class="hljs-string">&quot;tasmania_cities.1.the_geom.1&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">gml:pos</span>&gt;</span>-42.85100182 147.29100045<span class="hljs-tag">&lt;/<span class="hljs-name">gml:pos</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">gml:Point</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">gml:pointMember</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">gml:MultiPoint</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:the_geom</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_0</span>&gt;</span>CHN<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_0</span>&gt;</span>China<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_0</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_1</span>&gt;</span>CHN.13_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_1</span>&gt;</span>Hubei<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span>湖北<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_1</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:GID_2</span>&gt;</span>CHN.13.2_1<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:GID_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NAME_2</span>&gt;</span>Ezhou by emhui111<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span>Èzhōu<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:VARNAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span>鄂州市<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:NL_NAME_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:TYPE_2</span>&gt;</span>Dìjíshì<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:TYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span>Prefecture City<span class="hljs-tag">&lt;/<span class="hljs-name">cesium:ENGTYPE_2</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:CC_2</span>/&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">cesium:HASC_2</span>/&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">cesium:0</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Insert</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">wfs:Transaction</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">wfs:FeatureCollection</span> <span class="hljs-attr">xmlns:xs</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema&quot;</span> <span class="hljs-attr">xmlns:cesium</span>=<span class="hljs-string">&quot;http://geoserver.org/cesium&quot;</span> <span class="hljs-attr">xmlns:wfs</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0&quot;</span> <span class="hljs-attr">xmlns:gml</span>=<span class="hljs-string">&quot;http://www.opengis.net/gml/3.2&quot;</span> <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="hljs-attr">numberMatched</span>=<span class="hljs-string">&quot;356&quot;</span> <span class="hljs-attr">numberReturned</span>=<span class="hljs-string">&quot;356&quot;</span> <span class="hljs-attr">timeStamp</span>=<span class="hljs-string">&quot;2020-10-26T01:26:59.770Z&quot;</span> <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.opengis.net/wfs/2.0 http://localhost:8080/geoserver/schemas/wfs/2.0/wfs.xsd http://geoserver.org/cesium http://localhost:8080/geoserver/cesium/wfs?service=WFS<span class="hljs-symbol">&amp;amp;</span>version=2.0.0<span class="hljs-symbol">&amp;amp;</span>request=DescribeFeatureType<span class="hljs-symbol">&amp;amp;</span>typeName=cesium%3A0 http://www.opengis.net/gml/3.2 http://localhost:8080/geoserver/schemas/gml/3.2.1/gml.xsd&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">wfs:member</span>&gt;</span><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>GeoServer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>geoserver</tag>
      
      <tag>gis</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1103 Integer Factorization</title>
    <link href="/2021/01/13/1103-Integer-Factorization/"/>
    <url>/2021/01/13/1103-Integer-Factorization/</url>
    
    <content type="html"><![CDATA[<h1 id="1103-Integer-Factorization"><a href="#1103-Integer-Factorization" class="headerlink" title="1103 Integer Factorization"></a>1103 Integer Factorization</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/YD0TiN.png" alt="YD0TiN"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>拿题目中的数据来举例 $N = 169, K = 5, P = 2$</p><ol><li>先计算出第一个位置$n_0$的范围。$max(n_0) = \sqrt[2]{169} = 13$，因此$n_0$的范围在$13 \sim 1$（从最大值开始往后遍历）。</li><li>当$n_0 = 13$时，$N = 169 - 13^2 = 0$，因为$K = 5 &gt; 1$所以$n_0=13$不满足，当$n_0=12$时，$N = 169 - 12^2 = 25$, 此时计算$n_1$的范围,$max(n_1) = \sqrt[2]{25} = 5$,$n_1$范围$5 \sim 1$.令$n_1 = 5$</li><li>当$n_1 = 5$时，$N = 25 - 5^2 = 0$，此时$K = 5 &gt; 2$，不满足，所以令$n_1 = 4$，继续求$n_2$.</li><li>重复上面步骤，当$N == 0$ 且$n_i (i == K)$时候即找到了所有的$n_i$。</li></ol><p>通过上面总结出下面的公示。</p><p>$$<br>N_i = N_{i - 1} - n_{i}^p \qquad (0 &lt;= i &lt;= K; 1 &lt;= n_{i} &lt;= \sqrt[p]{N_{i - 1}})<br>$$</p><p>设置以下变量来存储数据</p><ul><li><code>vector&lt;int&gt; graphic;</code>: 存储$n_i$结果</li><li><code>vector&lt;int&gt; ans;</code> : 存储$Sum(n_i)$的最大值对应的$n_i$</li><li><code>vector&lt;int&gt; fact</code>: 存储$n_i^P$的所有结果，防止重复计算出现超时。</li><li><code>int maxSum;</code> : 存储$Sum(n_i)$的最大值</li></ul><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cmath&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; ans, graphic,face;<br><span class="hljs-keyword">int</span> maxSum = <span class="hljs-number">-1</span>;<br><span class="hljs-keyword">int</span> n, k, p;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> idx, <span class="hljs-keyword">int</span> tempN, <span class="hljs-keyword">int</span> sum)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (idx == k &amp;&amp; tempN == <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// 找到了结果</span><br>        <span class="hljs-keyword">if</span> (maxSum &lt; sum) &#123;<br>            maxSum = sum;<br>            ans = graphic;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tempN &lt; <span class="hljs-number">0</span> || idx &gt; k) &#123;<br>        <span class="hljs-keyword">return</span> ;<br>    &#125;<br>    <span class="hljs-keyword">int</span> data = (<span class="hljs-keyword">int</span>)<span class="hljs-built_in">pow</span>(tempN, <span class="hljs-number">1.0</span> / p); <span class="hljs-comment">// 求出最大值,再依次计算是否满足</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = data; i &gt; <span class="hljs-number">0</span>; i--) &#123;<br>        <span class="hljs-keyword">if</span> (i &lt;= graphic[idx - <span class="hljs-number">1</span>]) &#123; <span class="hljs-comment">// 防止当前的值大于前面的值，出现超时计算</span><br>            <span class="hljs-keyword">int</span> tempNN = tempN;<br>            tempNN -= face[i];<br>            graphic.push_back(i);<br>            sum += i;<br>            dfs(idx + <span class="hljs-number">1</span>, tempNN, sum);<br>            graphic.pop_back();<br>            sum -= i;<br>         &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;k, &amp;p);<br>    <span class="hljs-keyword">int</span> data = (<span class="hljs-keyword">int</span>)<span class="hljs-built_in">pow</span>(n, <span class="hljs-number">1.0</span> / p);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= data; i++) &#123;<br>        face.push_back(<span class="hljs-built_in">pow</span>(i, p));<br>    &#125;<br>    <span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = data; i &gt; <span class="hljs-number">0</span>; i--) &#123;<br>        <span class="hljs-keyword">int</span> tempN = n;<br>        tempN -= face[i];<br>        graphic.push_back(i);<br>        sum += i;<br>        dfs(<span class="hljs-number">1</span>, tempN, sum);<br>        graphic.pop_back();<br>        sum -= i;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (maxSum != <span class="hljs-number">-1</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d = &quot;</span>, n);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; k; i++) &#123;<br>            <span class="hljs-keyword">if</span> (i &lt; k - <span class="hljs-number">1</span>) &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d^%d + &quot;</span>, ans[i], p);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d^%d\n&quot;</span>, ans[i], p);<br>            &#125;<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Impossible\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="代码优化"><a href="#代码优化" class="headerlink" title="代码优化"></a>代码优化</h3><p>下面面是做的三个优化，其中第一个优化解决了几个用例超时的问题。2，3优化是尝试，但是有一个用例<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="">[1]</span></a></sup>一直无法通过😭。</p><ol><li>保持$n_i &gt;= n_j （i &lt; j）$，防止超时</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = data; i &gt; <span class="hljs-number">0</span>; i--) &#123;<br><span class="hljs-keyword">if</span> (i &lt;= graphic[idx - <span class="hljs-number">1</span>]) &#123; <span class="hljs-comment">// 防止当前的值大于前面的值，出现超时计算</span><br><span class="hljs-keyword">int</span> tempNN = tempN;<br>tempNN -= face[i];<br>graphic.push_back(i);<br>sum += i;<br>dfs(idx + <span class="hljs-number">1</span>, tempNN, sum);<br>graphic.pop_back();<br>sum -= i;<br> &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="2"><li>在每次计算$n_i$的同时，也计算$Sum(n_i)$的值。当得到结果后可以直接比较是否是最佳结果。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">int</span> sum = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = data; i &gt; <span class="hljs-number">0</span>; i--) &#123;<br><span class="hljs-keyword">int</span> tempN = n;<br>tempN -= face[i];<br>graphic.push_back(i);<br>sum += i;<br>dfs(<span class="hljs-number">1</span>, tempN, sum);<br>graphic.pop_back();<br>sum -= i;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="3"><li>设置<code>fact</code>变量存储$n_i^P$的结果，计算$N_j = N_{j-1} - n_i^P$直接读取$n_i^P$结果。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= data; i++) &#123;<br>face.push_back(<span class="hljs-built_in">pow</span>(i, p));<br>&#125;<br></code></pre></td></tr></table></figure><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/Y1wPoW.png" alt="一直超时"><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>dfs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1097 Deduplication on a Linked List</title>
    <link href="/2021/01/13/1097-Deduplication-on-a-Linked-List/"/>
    <url>/2021/01/13/1097-Deduplication-on-a-Linked-List/</url>
    
    <content type="html"><![CDATA[<h1 id="1097-Deduplication-on-a-Linked-List"><a href="#1097-Deduplication-on-a-Linked-List" class="headerlink" title="1097 Deduplication on a Linked List"></a>1097 Deduplication on a Linked List</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/hpuYZC.png" alt="hpuYZC"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题目的是<strong>给定一个链表，按顺序删除结点中绝对值重复的链表，并且将删除后的结点按顺序输出，然后再按序输出被删除的结点</strong></p><p>具体步骤</p><ol><li>创建一个静态链表，存储结点信息。其中使用<code>order</code>表示结点在链表中的顺序。先将所有的结点<code>order=2*maxn</code>。然后非重复的结点<code>order</code>从<code>0</code>开始，重复的结点<code>order</code>从<code>maxn + i</code>开始。</li><li>使用一个<code>isExist</code>判断结点值是否重复。</li><li>设置两个变量<code>vaildCount,removeCount</code>分别表示非重复结点和被删除结点数量。在使用<code>begin</code>遍历结点顺序的时候，分别设置结点的<code>order</code>。下面是关键代码</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">while</span> (begin != <span class="hljs-number">-1</span>) &#123;<br><span class="hljs-keyword">if</span> (!isExist[<span class="hljs-built_in">abs</span>(node[begin].data)]) &#123;<br>isExist[<span class="hljs-built_in">abs</span>(node[begin].data)] = <span class="hljs-literal">true</span>;<br>node[begin].order = vaildCount++;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>node[begin].order = maxn + removeCount++;<br>&#125;<br>begin = node[begin].next;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="4"><li>对结点按照<code>order</code>排序，无效结点<code>order=2*maxn</code>都会被排到后面。而<code>0 ~ vaildCount - 1</code>为非重复结点。<code>vaildCount ~ vaildCOunt + removeCount - 1</code>为被删除结点。</li></ol><p>⚠️会有不出现在给定链表上的结点，为无效结点。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstring&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100010</span>;<br><span class="hljs-keyword">bool</span> isExist[<span class="hljs-number">2</span> * maxn + <span class="hljs-number">1</span>];<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> &#123;</span><br>    <span class="hljs-keyword">int</span> address, data, next;<br>    <span class="hljs-keyword">int</span> order; <span class="hljs-comment">// 标记结点在原来数组的位置。删除的结点设置为maxn+remveCount</span><br>&#125;node[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Node a, Node b)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> a.order &lt; b.order;<br>&#125;<br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">memset</span>(isExist, <span class="hljs-literal">false</span>,  <span class="hljs-keyword">sizeof</span>(isExist));<br>    <span class="hljs-keyword">int</span> begin, n, address, vaildCount = <span class="hljs-number">0</span>, removeCount = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;begin, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;address);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;node[address].data, &amp;node[address].next);<br>        node[address].address = address;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; i++) &#123;node[i].order = <span class="hljs-number">2</span> * maxn;&#125;<br><br>    <span class="hljs-keyword">while</span> (begin != <span class="hljs-number">-1</span>) &#123;<br>        <span class="hljs-keyword">if</span> (!isExist[<span class="hljs-built_in">abs</span>(node[begin].data)]) &#123;<br>            isExist[<span class="hljs-built_in">abs</span>(node[begin].data)] = <span class="hljs-literal">true</span>;<br>            node[begin].order = vaildCount++;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            node[begin].order = maxn + removeCount++;<br>        &#125;<br>        begin = node[begin].next;<br>    &#125;<br>    sort(node, node+maxn,cmp);<br>    <span class="hljs-keyword">int</span> allCount = vaildCount + removeCount;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; allCount; i++) &#123;<br>        <span class="hljs-keyword">if</span> (i != vaildCount<span class="hljs-number">-1</span> &amp;&amp; i != allCount - <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d %05d\n&quot;</span>, node[i].address, node[i].data, node[i + <span class="hljs-number">1</span>].address);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d -1\n&quot;</span>, node[i].address, node[i].data);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>链表</tag>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>684. 冗余连接</title>
    <link href="/2021/01/13/684-%E5%86%97%E4%BD%99%E8%BF%9E%E6%8E%A5/"/>
    <url>/2021/01/13/684-%E5%86%97%E4%BD%99%E8%BF%9E%E6%8E%A5/</url>
    
    <content type="html"><![CDATA[<h1 id="684-冗余连接"><a href="#684-冗余连接" class="headerlink" title="684. 冗余连接"></a><a href="https://leetcode-cn.com/problems/redundant-connection/">684. 冗余连接</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/NfR2TK.png" alt="NfR2TK"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题考察的是<strong>并查集</strong>,假设它是一个无环图，那么边和顶点的数量是$e + 1 = v$。但是因为存在一条冗余边，因此边和顶点关系为$e=v$。</p><p>同时，在通过并查集连接两个顶点的时候，若该两个顶点已经出现在一个连通分量中，则证明该此图已经连通过，出现了环，若是没有，则连通该两点。</p><div class="note note-warning">            <p>并查集知识点参考</p><ul><li>并查集详解<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="并查集详解 ——图文解说,简单易懂">[1]</span></a></sup></li><li>《算法4》<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="算法4">[2]</span></a></sup></li></ul>          </div><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>C++</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">find</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; parent, <span class="hljs-keyword">int</span> q)</span> </span>&#123;<br>        <span class="hljs-keyword">while</span> (parent[q] != q) &#123;q = parent[q]; &#125; <span class="hljs-comment">// 找到根结点</span><br>        <span class="hljs-keyword">return</span> q;<br>    &#125;<br><br>    <span class="hljs-comment">// 加权quick-union方法，参考《算法4》</span><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">quick_union</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; parent, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&amp; weight, <span class="hljs-keyword">int</span> q, <span class="hljs-keyword">int</span> p)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> qRoot = find(parent, q), pRoot = find(parent, p);<br>        <span class="hljs-keyword">if</span> (qRoot == pRoot) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">if</span> (weight[qRoot] &lt; weight[pRoot]) &#123;<br>            parent[qRoot] = pRoot;<br>            weight[pRoot] += weight[qRoot];<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            parent[pRoot] = qRoot;<br>            weight[qRoot] += weight[pRoot];<br>        &#125;<br><br>    &#125;<br>    <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">findRedundantConnection</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; edges)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> size = edges.size() + <span class="hljs-number">1</span>;<br>        <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">parent</span><span class="hljs-params">(size)</span></span>;<br>        <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">weight</span><span class="hljs-params">(size, <span class="hljs-number">1</span>)</span></span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123; <span class="hljs-comment">// 初始化</span><br>            parent[i] = i;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span>&amp; edge: edges) &#123;<br>            <span class="hljs-keyword">int</span> p = edge[<span class="hljs-number">0</span>], q = edge[<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span> (find(parent, q) != find(parent, p)) &#123;<br>                quick_union(parent, weight, q, p);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">return</span> edge;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&#123;&#125;;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>这里参考《算法4》<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="算法4">[2]</span></a></sup>,使用的是加权quick-union方法。经过测试时间上是有提升，但是有时候也不稳定。时间是非加权结果一样。如图测试结果</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/rHY9BU.png" alt="rHY9BU"></p><p>Python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">findRedundantConnection</span>(<span class="hljs-params">self, edges: List[List[<span class="hljs-built_in">int</span>]]</span>) -&gt; List[int]:</span><br>        nodesCount = <span class="hljs-built_in">len</span>(edges)<br>        parent = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(nodesCount + <span class="hljs-number">1</span>)) <span class="hljs-comment"># 初始化值，即 parent[i] = i</span><br><br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span>(<span class="hljs-params">index: <span class="hljs-built_in">int</span></span>) -&gt; int:</span><br>            <span class="hljs-keyword">while</span> index != parent[index]: index = parent[index]<br>            <span class="hljs-keyword">return</span> index<br><br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span>(<span class="hljs-params">index1: <span class="hljs-built_in">int</span>, index2: <span class="hljs-built_in">int</span></span>):</span><br>            parent[find(index1)] = find(index2)<br><br>        <span class="hljs-keyword">for</span> node1, node2 <span class="hljs-keyword">in</span> edges:<br>            <span class="hljs-keyword">if</span> find(node1) != find(node2): <span class="hljs-comment"># 如果不再一个集合里面，则没有找到重复</span><br>                union(node1, node2)<br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">return</span> [node1, node2]<br><br>        <span class="hljs-keyword">return</span> []<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>以下是根据《算法4》<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="算法4">[2]</span></a></sup>写出的Python版本的Unin-find模板。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UF</span>(<span class="hljs-params"><span class="hljs-built_in">object</span></span>):</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self, N</span>):</span><br>        self.count = N<br>        self.<span class="hljs-built_in">id</span> = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(N))<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">count</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-keyword">return</span> self.count<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">connected</span>(<span class="hljs-params">self, p, q</span>):</span><br>        <span class="hljs-keyword">return</span> self.find(p) == self.find(q)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span>(<span class="hljs-params">self, p</span>):</span><br>        <span class="hljs-keyword">while</span> (p != self.<span class="hljs-built_in">id</span>[p]): p = self.<span class="hljs-built_in">id</span>[p]<br>        <span class="hljs-keyword">return</span> p<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span>(<span class="hljs-params">self, p, q</span>):</span><br>        p_root, q_root = self.find(p), self.find(q)<br>        <span class="hljs-keyword">if</span> p_root == q_root: <span class="hljs-keyword">return</span><br>        self.<span class="hljs-built_in">id</span>[p] = q_root<br>        self.count -= <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://blog.csdn.net/liujian20150808/article/details/50848646">并查集详解 ——图文解说,简单易懂</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://m.douban.com/book/subject/19952400/">算法4</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>图</tag>
      
      <tag>union-find</tag>
      
      <tag>leetcode</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1052 Linked List Sorting</title>
    <link href="/2021/01/12/1052-Linked-List-Sorting/"/>
    <url>/2021/01/12/1052-Linked-List-Sorting/</url>
    
    <content type="html"><![CDATA[<h1 id="1052-Linked-List-Sorting"><a href="#1052-Linked-List-Sorting" class="headerlink" title="1052 Linked List Sorting"></a>1052 Linked List Sorting</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><div class="note note-warning">            <p>仔细看题，考虑周全</p>          </div><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/7Q2QCm.png" alt="题目"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>这道题和之前的题目一样，使用静态数组，然后进行排序。但是排序需要注意。因为存在无效数据，所以对于无效的结点，需要将结点放到最后面，然后再根据<code>key</code>值进行排序。</p><p><code>cmp</code>函数</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Node a, Node b)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (a.flag == <span class="hljs-literal">false</span> || b.flag == <span class="hljs-literal">false</span>) &#123; <span class="hljs-comment">// 若是无效数据，就放到后面去，若数据有效，则根据key值放到前面</span><br>        <span class="hljs-keyword">return</span> a.flag &gt; b.flag;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> a.key &lt; b.key;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>⚠️</p><ul><li>记住有无效数据，即结点不在给定的头结点链表中，这些数据需要排除。通过设置<code>flag</code>来判断它是否存在。</li><li>需要考虑有效结点数量为0，设置<code>count</code>统计有效结点数量。</li></ul><p>下面代码是实现有效结点的统计和标记</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">int</span> p = head, count = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (p != <span class="hljs-number">-1</span>) &#123;<br>node[p].flag = <span class="hljs-literal">true</span>;<br>count++;<br>p = node[p].next;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100010</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> &#123;</span><br>    <span class="hljs-keyword">int</span> address, key, next, order;<br>    <span class="hljs-keyword">bool</span> flag;<br>&#125;node[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Node a, Node b)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (a.flag == <span class="hljs-literal">false</span> || b.flag == <span class="hljs-literal">false</span>) &#123; <span class="hljs-comment">// 若是无效数据，就放到后面去，若数据有效，则根据key值放到前面</span><br>        <span class="hljs-keyword">return</span> a.flag &gt; b.flag;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">return</span> a.key &lt; b.key;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> head, n;<br>    <span class="hljs-keyword">int</span> address;<br>    <span class="hljs-keyword">int</span> order = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; i++) &#123;<br>        node[i].key = maxn;<br>        node[i].flag = <span class="hljs-literal">false</span>; <span class="hljs-comment">// 过滤无效结点</span><br>    &#125;<br><br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;n, &amp;head);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;address);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;node[address].key, &amp;node[address].next);<br>        node[address].address = address;<br>    &#125;<br><br>    <span class="hljs-keyword">int</span> p = head, count = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (p != <span class="hljs-number">-1</span>) &#123;<br>        node[p].flag = <span class="hljs-literal">true</span>;<br>        count++;<br>        p = node[p].next;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (count == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0 -1\n&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        n = count;<br>        sort(node, node + maxn, cmp); <span class="hljs-comment">// 按照order进行排序</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d %05d\n&quot;</span>, n, node[<span class="hljs-number">0</span>].address);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n - <span class="hljs-number">1</span>; i++) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d %05d\n&quot;</span>, node[i].address, node[i].key, node[i + <span class="hljs-number">1</span>].address);<br>        &#125;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d -1\n&quot;</span>, node[n - <span class="hljs-number">1</span>].address, node[n - <span class="hljs-number">1</span>].key);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>链表</tag>
      
      <tag>C++</tag>
      
      <tag>排序</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1032 Sharing</title>
    <link href="/2021/01/12/1032-Sharing/"/>
    <url>/2021/01/12/1032-Sharing/</url>
    
    <content type="html"><![CDATA[<h1 id="1032-Sharing"><a href="#1032-Sharing" class="headerlink" title="1032 Sharing"></a>1032 Sharing</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/XC2jKw.png" alt="题目"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题是求链表的公共结点的首个结点地址。</p><p>⚠️这里是求<strong>公共结点的首个结点位置，而不是公共尾结点的首个结点位置。</strong></p><p>因此可以使用静态链表，在结构体中定义一个<code>flag</code>变量，表示该结点在第一个链表中出现过。</p><p>按照输入的第一个链表首地址，将第一链表的所有结点<code>flag</code>标志为<code>true</code>。</p><p>然后按照输入的第二个链表的首地址，找到第一个结点<code>flag=true</code>即为两个结点的首个公共结点。</p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>C++</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100010</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> &#123;</span><br>    <span class="hljs-keyword">int</span> address, next;<br>    <span class="hljs-keyword">char</span> data;<br>    <span class="hljs-keyword">bool</span> flag;<br>&#125;node[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> begin_a, begin_b, n;<br>    <span class="hljs-keyword">int</span> address;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;begin_a, &amp;begin_b, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d &quot;</span>, &amp;address);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%c%d&quot;</span>, &amp;node[address].data, &amp;node[address].next);<br>    &#125;<br>    <span class="hljs-comment">// init(node_a);</span><br>    <span class="hljs-comment">// init(node_b);</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; i++) &#123;node[i].flag = <span class="hljs-literal">false</span>;&#125;<br><br>    <span class="hljs-keyword">while</span>(begin_a != <span class="hljs-number">-1</span>) &#123;<br>        node[begin_a].flag = <span class="hljs-literal">true</span>;<br>        begin_a = node[begin_a].next;<br>    &#125;<br><br>    <span class="hljs-keyword">while</span> (begin_b != <span class="hljs-number">-1</span>) &#123;<br>        <span class="hljs-keyword">if</span> (node[begin_b].flag) &#123;<span class="hljs-keyword">break</span>;&#125;<br>        <span class="hljs-keyword">else</span> &#123;<br>            begin_b = node[begin_b].next;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (begin_b != <span class="hljs-number">-1</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d\n&quot;</span>, begin_b);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>一开始看错了题目意思，认为是要寻找<strong>公共结尾的首地址</strong>。下面代码是找<strong>公共结尾的首地址</strong>。具体思路如下</p><ol><li>创建两个静态链表<code>node_a, node_b</code>。</li><li>分别对两个链表设置位置<code>order</code>，同时计算出它们的长度<code>len1, len2</code>。</li><li>最后对两个链表，从后往前进行对比，若找到第一个不同的结点。将他们输出进行对比，若该结点后的一样的，那就输出，若不一样，则输出-1.</li></ol><p>C++</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 思路：组成两个链表，记录他们的长度，然后从后往前进行比较</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100010</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> &#123;</span><br>    <span class="hljs-keyword">int</span> address, next, order;<br>    <span class="hljs-keyword">char</span> data;<br>&#125;node_a[maxn], node_b[maxn], node[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Node a, Node b)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> a.order &lt; b.order;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> begin_a, begin_b, n;<br>    <span class="hljs-keyword">int</span> address;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;begin_a, &amp;begin_b, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d &quot;</span>, &amp;address);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%c%d&quot;</span>, &amp;node[address].data, &amp;node[address].next);<br>        node[address].address = address;<br>    &#125;<br>    <span class="hljs-comment">// init(node_a);</span><br>    <span class="hljs-comment">// init(node_b);</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; i++) &#123;node_a[i].order = maxn; node_b[i].order = maxn;&#125;<br>    <span class="hljs-keyword">int</span> len1 = <span class="hljs-number">0</span>, len2 = <span class="hljs-number">0</span>;<br>    <span class="hljs-comment">// arrange_order(begin_a, node, node_a, len1);</span><br>    <span class="hljs-comment">// arrange_order(begin_b, node, node_b, len2);</span><br>    <span class="hljs-keyword">while</span>(begin_a != <span class="hljs-number">-1</span>) &#123;<br>        node_a[begin_a].address = node[begin_a].address;<br>        node_a[begin_a].data = node[begin_a].data;<br>        node_a[begin_a].next = node[begin_a].next;<br>        node_a[begin_a].order = len1++;<br>        begin_a = node[begin_a].next;<br>    &#125;<br>    <span class="hljs-keyword">while</span>(begin_b != <span class="hljs-number">-1</span>) &#123;<br>        node_b[begin_b].address = node[begin_b].address;<br>        node_b[begin_b].data = node[begin_b].data;<br>        node_b[begin_b].next = node[begin_b].next;<br>        node_b[begin_b].order = len2++;<br>        begin_b = node[begin_b].next;<br>    &#125;<br>    sort(node_a, node_a + maxn, cmp);<br>    sort(node_b, node_b + maxn, cmp);<br>    <span class="hljs-keyword">while</span> (len1 &gt; <span class="hljs-number">0</span> &amp;&amp; len2 &gt; <span class="hljs-number">0</span> &amp;&amp; node_a[len1 - <span class="hljs-number">1</span>].address == node_b[len2 - <span class="hljs-number">1</span>].address) &#123;<br>        len1--;<br>        len2--;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (node_a[len1].address == node_b[len2].address) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d\n&quot;</span>, node_a[len1].address);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-1\n&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>链表</tag>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1025 反转链表</title>
    <link href="/2021/01/11/1025-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/"/>
    <url>/2021/01/11/1025-%E5%8F%8D%E8%BD%AC%E9%93%BE%E8%A1%A8/</url>
    
    <content type="html"><![CDATA[<h1 id="1025-反转链表"><a href="#1025-反转链表" class="headerlink" title="1025 反转链表"></a>1025 反转链表</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><div class="note note-warning">            <p>难度：中等</p>          </div><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/CSJuhH.png" alt="反转链表"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><blockquote><p>本题看起来不难，但是和<strong>leetcode</strong>不一样，他的数据是自己输入，因此还需要构造一个数据结构来存储每个输入数据</p></blockquote><ol><li>创建一个结构体如下，存储链表。其中使用一个<code>order</code>来表示链表的顺序。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100010</span>;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> address, next, order, data;<br>&#125;node[maxn];<br></code></pre></td></tr></table></figure><ul><li>address:该结点地址</li><li>next:下一个结点地址</li><li>order:结点在链表中的顺序。初始值为<code>maxn</code></li><li>data:结点数据</li></ul><ol start="2"><li>设置一个变量<code>count</code>,根据输入的首地址<code>begin</code>，给每个结点的<code>order</code>编号。最后让<code>n=count</code>.这一步很重要，因为可能给出的数据有两个链表。</li></ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (begin_address != <span class="hljs-number">-1</span>) &#123; <span class="hljs-comment">// 计算链表的顺序</span><br>node[begin_address].order = count++;<br>begin_address = node[begin_address].next;<br>&#125;<br>n = count; <span class="hljs-comment">// 这里需要处理一下，有时候会出现两个结点。部分用例无法通过</span><br>sort(node, node + maxn, cmp); <span class="hljs-comment">// 按照链表顺序进行排序，即有效数组都在前面。</span><br></code></pre></td></tr></table></figure><ol start="3"><li>对结点进行排序，然后分成<code>group = n / k</code>,每k个一组倒叙输出。每组的最后一个结点的<code>next</code>指向的是当前组的下一组的最后一个结点<code>address</code>。</li><li>⚠️对最后一组需要单独判断。若当前是最后一组，判断是否还存在多余的小于k的结点，若存在，对最后剩余结点正序输出。若不存在，输出<code>-1</code>。</li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>C++</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">100010</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>&#123;</span><br>    <span class="hljs-keyword">int</span> address, next, order, data;<br>&#125;node[maxn];<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(Node a, Node b)</span> </span>&#123;<br>    <span class="hljs-keyword">return</span> a.order &lt; b.order;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> begin_address, n, k;<br>    <span class="hljs-keyword">int</span> address;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;begin_address, &amp;n, &amp;k);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;address);<br>        <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;node[address].data, &amp;node[address].next);<br>        node[address].address = address;<br>    &#125;<br>    <span class="hljs-comment">// 初始化数组的order，方便排序</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; maxn; i++) &#123;node[i].order = maxn;&#125;<br>    <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (begin_address != <span class="hljs-number">-1</span>) &#123; <span class="hljs-comment">// 计算链表的顺序</span><br>        node[begin_address].order = count++;<br>        <span class="hljs-comment">// count++;</span><br>        begin_address = node[begin_address].next;<br>    &#125;<br>    <span class="hljs-comment">// node[begin_address].order = count; // 最后一个等于-1也要标注order</span><br>    sort(node, node + maxn, cmp); <span class="hljs-comment">// 按照链表顺序进行排序，即有效数组都在前面。</span><br>    n = count; <span class="hljs-comment">// 这里需要处理一下，有时候会出现两个节点。部分用例无法通过</span><br>    <span class="hljs-comment">// 开始按照k个一组进行倒叙输出。</span><br>    <span class="hljs-comment">// 注意每组最后一个节点的next都是下一组的最后一个节点。</span><br>    <span class="hljs-comment">// 但是若是该组的下一组节点数量小于k，即下一个节点就是最后一组的第一个节点</span><br>    <span class="hljs-comment">// 若该组本身就是最后一个节点，那么下一个节点就是-1</span><br>    <span class="hljs-keyword">int</span> group = n / k; <span class="hljs-comment">// 满足每组k个数的组的数量</span><br>    <span class="hljs-comment">// 先处理前面group组</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; group; i++) &#123;<br>        <span class="hljs-comment">// 倒叙输出第i组,注意每组最后一个node不要输出</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = (i + <span class="hljs-number">1</span>) * k - <span class="hljs-number">1</span>; j &gt; i * k; j--) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d %05d\n&quot;</span>, node[j].address, node[j].data, node[j - <span class="hljs-number">1</span>].address);<br>        &#125;<br>        <span class="hljs-comment">// 处理最后一个node的下一个节点</span><br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d &quot;</span>, node[i * k].address, node[i * k].data);<br>        <span class="hljs-comment">// 如果当前i是最后一组</span><br>        <span class="hljs-keyword">if</span> (i == group - <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-comment">// 判断是否还存在小于k的最后一组组</span><br>            <span class="hljs-keyword">if</span> (n % k == <span class="hljs-number">0</span>) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-number">-1</span>);&#125;<br>            <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// 存在第group+1组</span><br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d\n&quot;</span>, node[group * k].address); <span class="hljs-comment">// 指向group+1组的第一个节点。</span><br>                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> r = group * k; r &lt; n - <span class="hljs-number">1</span>; r++) &#123;<br>                    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d %05d\n&quot;</span>, node[r].address, node[r].data, node[r + <span class="hljs-number">1</span>].address);<br>                &#125;<br>                <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d %d %d\n&quot;</span>, node[n - <span class="hljs-number">1</span>].address, node[n - <span class="hljs-number">1</span>].data, <span class="hljs-number">-1</span>);<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">// 如果不是最后一组，那么当前组的最后一个node的next指向下一个组的最后一个节点。</span><br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%05d\n&quot;</span>, node[(i + <span class="hljs-number">2</span>)*k - <span class="hljs-number">1</span>].address);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p>难点</p><ul><li>构造一个恰当的结构体</li><li>测试用例中存在多个<code>next = -1</code>,即多条链表,所以需要使用<code>count</code>记录有效结点，然后使用<code>n = count</code></li></ul>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>链表</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1202. Smallest String With Swaps</title>
    <link href="/2021/01/11/1202-Smallest-String-With-Swaps/"/>
    <url>/2021/01/11/1202-Smallest-String-With-Swaps/</url>
    
    <content type="html"><![CDATA[<p><a href="https://leetcode-cn.com/problems/smallest-string-with-swaps/">1202. Smallest String With Swaps</a></p><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/SlDQXJ.png" alt="SlDQXJ"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题主要考察连通图、将属于同一连通分量中的字符进行排序，再依次放到原来同一连通分量的位置中。</p><p>方法</p><ul><li><input checked="" disabled="" type="checkbox"> DFS</li><li><input checked="" disabled="" type="checkbox"> BFS</li><li><input disabled="" type="checkbox"> Union-find</li></ul><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h3><p>Python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span>(<span class="hljs-params">self, connect_graphic, graphic, visited, idx</span>):</span><br>        visited[idx] = <span class="hljs-literal">True</span><br>        connect_graphic.append(idx) <span class="hljs-comment"># 添加当前属于同一个连通图的对象</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> graphic[idx]:<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visited[i]:<br>                self.dfs(connect_graphic, graphic, visited, i)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">smallestStringWithSwaps</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, pairs: List[List[<span class="hljs-built_in">int</span>]]</span>) -&gt; str:</span><br>        <span class="hljs-comment"># 思路：同一个连通图內的字符按照顺序排序，再放回原来的位置</span><br>        size = <span class="hljs-built_in">len</span>(s)<br>        graphic = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(size)]<br>        <span class="hljs-keyword">for</span> i,j <span class="hljs-keyword">in</span> pairs: <span class="hljs-comment"># 建图</span><br>            graphic[i].append(j)<br>            graphic[j].append(i)<br>        print(graphic)<br>        visited = [<span class="hljs-literal">False</span>] * size<br>        res = <span class="hljs-built_in">list</span>(s)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(size):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visited[i]:<br>                connect_graphic = []<br>                self.dfs(connect_graphic, graphic, visited, i)<br>                indicates = <span class="hljs-built_in">sorted</span>(connect_graphic) <span class="hljs-comment"># 索引排序</span><br>                string = <span class="hljs-built_in">sorted</span>([res[j] <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> indicates]) <span class="hljs-comment"># 索引对应的字符排序</span><br>                <span class="hljs-keyword">for</span> key, val <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(indicates, string): <span class="hljs-comment"># 将对应的字符和对应的索引重现排大小</span><br>                    res[key] = val<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>.join(res)<br></code></pre></td></tr></table></figure><p>复杂度分析</p><ul><li>时间复杂度: $O(n)$,$n$为顶点的数量</li><li>空间复杂度: $O(m+n)$, $m,n$分别是图的顶点和边的数量</li></ul><h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h3><p>python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bfs</span>(<span class="hljs-params">self, connect_graphic, graphic, visited, idx</span>):</span><br>        q = collections.deque([idx])<br>        visited[idx] = <span class="hljs-literal">True</span><br>        connect_graphic.append(idx)<br>        <span class="hljs-keyword">while</span> <span class="hljs-built_in">len</span>(q) &gt; <span class="hljs-number">0</span>:<br>            node = q.popleft()<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> graphic[node]:<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visited[i]:<br>                    visited[i] = <span class="hljs-literal">True</span><br>                    connect_graphic.append(i)<br>                    q.append(i)<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">smallestStringWithSwaps</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, pairs: List[List[<span class="hljs-built_in">int</span>]]</span>) -&gt; str:</span><br>        <span class="hljs-comment"># 思路：同一个连通图內的字符按照顺序排序，再放回原来的位置</span><br>        size = <span class="hljs-built_in">len</span>(s)<br>        graphic = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(size)]<br>        <span class="hljs-keyword">for</span> i,j <span class="hljs-keyword">in</span> pairs: <span class="hljs-comment"># 建图</span><br>            graphic[i].append(j)<br>            graphic[j].append(i)<br>        print(graphic)<br>        visited = [<span class="hljs-literal">False</span>] * size<br>        res = <span class="hljs-built_in">list</span>(s)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(size):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visited[i]:<br>                connect_graphic = []<br>                <span class="hljs-comment"># self.dfs(connect_graphic, graphic, visited, i)</span><br>                self.bfs(connect_graphic, graphic, visited, i)<br>                indicates = <span class="hljs-built_in">sorted</span>(connect_graphic) <span class="hljs-comment"># 索引排序</span><br>                string = <span class="hljs-built_in">sorted</span>([res[j] <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> indicates]) <span class="hljs-comment"># 索引对应的字符排序</span><br>                <span class="hljs-keyword">for</span> key, val <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(indicates, string): <span class="hljs-comment"># 将对应的字符和对应的索引重现排大小</span><br>                    res[key] = val<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>.join(res)<br></code></pre></td></tr></table></figure><p>复杂度分析</p><ul><li>时间复杂度: $O(n)$,$n$为顶点的数量</li><li>空间复杂度: $O(m+n)$, $m,n$分别是图的顶点和边的数量</li></ul>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>union-find</tag>
      
      <tag>dfs</tag>
      
      <tag>bfs</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1051 Pop Sequence</title>
    <link href="/2021/01/07/1051-Pop-Sequence/"/>
    <url>/2021/01/07/1051-Pop-Sequence/</url>
    
    <content type="html"><![CDATA[<h1 id="1051-Pop-Sequence-25分"><a href="#1051-Pop-Sequence-25分" class="headerlink" title="1051 Pop Sequence (25分)"></a>1051 Pop Sequence (25分)</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/18Xskb.png" alt="18Xskb"></p><p>本题给定一个大小为$M$的栈，然后有一堆有序序列$1,2,3,4,5…N$依次入栈出栈。给定$K$个出栈序列，判断这几个出栈序列是否合法。</p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>建立一个栈，模拟$1 ~ N$进栈的过程，在这个过程中，将进栈的元素（<strong>栈顶元素</strong>）与当前<strong>出栈序列</strong>中的元素进行对比。若相等，则弹出栈顶，同时<strong>出栈序列</strong>往后移一位，继续此操作，直到有不相等的元素时，再让下一个元素进栈。</p><ol><li>建立一个初始的栈，该栈在每次输入前需要清空。</li><li>设置一个变量<code>flag</code>，若当前入栈后，栈的大小超过了<code>M</code>，则直接<code>flag = false;</code>然后跳出♻️。</li><li>接下然反复判断栈顶元素和当前第<code>idx</code>个<strong>出栈序列</strong>是否一样，若一样，执行弹出操作和<code>idx++</code></li><li>最后当栈为空且<code>flag=true</code>的时候输出<code>YES</code>,否则输出<code>No</code></li></ol><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stack&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> maxn = <span class="hljs-number">1001</span>;<br><span class="hljs-built_in">stack</span>&lt;<span class="hljs-keyword">int</span>&gt; st;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> arr[maxn], m, n, k;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d%d&quot;</span>, &amp;m, &amp;n, &amp;k);<br>    <span class="hljs-keyword">while</span> (k--) &#123;<br>        <span class="hljs-keyword">while</span> (!st.empty()) &#123;st.pop();&#125; <span class="hljs-comment">// 每次都要清空栈</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;arr[i]);<br>        &#125;<br>        <span class="hljs-keyword">int</span> idx = <span class="hljs-number">0</span>; <span class="hljs-comment">// 输出数组的下标</span><br>        <span class="hljs-keyword">bool</span> flag = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            st.push(i + <span class="hljs-number">1</span>); <span class="hljs-comment">// 把数字i+1压入栈</span><br>            <span class="hljs-keyword">if</span> (st.size() &gt; m) &#123;<br>                flag = <span class="hljs-literal">false</span>;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>            <span class="hljs-keyword">while</span> (!st.empty() &amp;&amp; st.top() == arr[idx]) &#123;<br>                st.pop();<br>                idx++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (st.empty() &amp;&amp; flag) &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;YES\n&quot;</span>);&#125;<br>        <span class="hljs-keyword">else</span> &#123;<span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;NO\n&quot;</span>);&#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>复杂度分析</p><ul><li>时间复杂度：$O(n+m)$</li><li>空间复杂度: $O(max(m,n))$</li></ul>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>栈</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>547. Number of Provinces</title>
    <link href="/2021/01/07/547-Number-of-Provinces/"/>
    <url>/2021/01/07/547-Number-of-Provinces/</url>
    
    <content type="html"><![CDATA[<h1 id="547-Number-of-Provinces"><a href="#547-Number-of-Provinces" class="headerlink" title="547. Number of Provinces"></a><a href="https://leetcode-cn.com/problems/number-of-provinces/">547. Number of Provinces</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><div class="note note-warning">            <p>难度：中等</p>          </div><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/xmxR4o.png" alt="xmxR4o"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题转化为图，其大概意思就是是<strong>给出一个用邻接矩阵表示的无向图，找出连通分量的数量</strong>。</p><p>解决问题的方法主要有三种方法</p><ol><li><ul><li><input checked="" disabled="" type="checkbox"> DFS</li></ul></li><li><ul><li><input checked="" disabled="" type="checkbox"> BFS</li></ul></li><li><ul><li><input checked="" disabled="" type="checkbox"> union-ﬁnd</li></ul></li></ol><h2 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h2><h3 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h3><p><strong>Python</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">findCircleNum</span>(<span class="hljs-params">self, isConnected: List[List[<span class="hljs-built_in">int</span>]]</span>) -&gt; int:</span><br>        <span class="hljs-comment"># 求连通图的数量</span><br>        size = <span class="hljs-built_in">len</span>(isConnected)<br>        visited = [<span class="hljs-literal">False</span> <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(size)]<br>        count = <span class="hljs-number">0</span><br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dfs</span>(<span class="hljs-params">isConnected, idx</span>):</span><br>            visited[idx] = <span class="hljs-literal">True</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(size):<br>                <span class="hljs-keyword">if</span> isConnected[idx][i] == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> visited[i]:<br>                    dfs(isConnected, i)<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(size):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visited[i]:<br>                dfs(isConnected, i)<br>                count += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> count<br></code></pre></td></tr></table></figure><p><strong>C++</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">findCircleNum</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; isConnected)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> size = isConnected.size();<br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-function"><span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">visited</span><span class="hljs-params">(size, <span class="hljs-literal">false</span>)</span></span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (!visited[i]) &#123;<br>                dfs(isConnected, i, visited, size);<br>                count++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-built_in">vector</span>&lt;<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt;&gt;&amp; isConnected, <span class="hljs-keyword">int</span> idx, <span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt;&amp; visited, <span class="hljs-keyword">int</span> size)</span> </span>&#123;<br>        visited[idx] = <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>            <span class="hljs-keyword">if</span> (isConnected[idx][i] == <span class="hljs-number">1</span> &amp;&amp; !visited[i]) &#123;<br>                dfs(isConnected, i, visited, size);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="复杂度分析"><a href="#复杂度分析" class="headerlink" title="复杂度分析"></a>复杂度分析</h3><ul><li>时间复杂度: $O(n^2)$,这里需要对矩阵进行遍历。</li><li>空间复杂度: $O(n)$, 使用<code>visited</code>存储<code>n</code>个城市是否被访问。</li></ul><h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h3><p><strong>C++</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python">class Solution &#123;<br>public:<br>    <span class="hljs-built_in">int</span> findCircleNum(vector&lt;vector&lt;<span class="hljs-built_in">int</span>&gt;&gt;&amp; isConnected) &#123;<br>        <span class="hljs-built_in">int</span> size = isConnected.size();<br>        <span class="hljs-built_in">int</span> count = <span class="hljs-number">0</span>;<br>        vector&lt;<span class="hljs-built_in">bool</span>&gt; visited(size, false);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; size; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (!visited[i]) &#123;<br>                bfs(isConnected, i, visited, size);<br>                count++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>    <br><br>    void bfs(vector&lt;vector&lt;<span class="hljs-built_in">int</span>&gt;&gt;&amp; isConnected, <span class="hljs-built_in">int</span> idx, vector&lt;<span class="hljs-built_in">bool</span>&gt;&amp; visited, <span class="hljs-built_in">int</span> size) &#123;<br>        visited[idx] = true;<br>        queue&lt;<span class="hljs-built_in">int</span>&gt; q;<br>        q.push(idx);<br>        <span class="hljs-keyword">while</span> (!q.empty()) &#123;<br>            <span class="hljs-built_in">int</span> node = q.front();<br>            q.pop();<br>            <span class="hljs-keyword">for</span> (<span class="hljs-built_in">int</span> i = <span class="hljs-number">0</span>; i &lt; size; i++) &#123;<br>                <span class="hljs-keyword">if</span> (isConnected[node][i] == <span class="hljs-number">1</span> &amp;&amp; !visited[i]) &#123;<br>                    visited[i] = true;<br>                    q.push(i);<br>                &#125;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>从上面可以看到，<code>BFS</code>和<code>DFS</code>的写法，只有计算连通分量的时候不一样，其他都是一样的。</p><p>复杂度分析</p><ul><li>时间复杂度：$O(n^2)$，遍历整个矩阵</li><li>空间复杂度: $O(n)$.visited大小的空间</li></ul><h3 id="union-find"><a href="#union-find" class="headerlink" title="union-find"></a>union-find</h3><p>Python</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span>:</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">findCircleNum</span>(<span class="hljs-params">self, isConnected: List[List[<span class="hljs-built_in">int</span>]]</span>) -&gt; int:</span><br>        size = <span class="hljs-built_in">len</span>(isConnected)<br>        parent = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">range</span>(size)) <span class="hljs-comment"># 初始化</span><br>        count = size <span class="hljs-comment"># 连通分量数量</span><br><br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find</span>(<span class="hljs-params">p</span>):</span> <span class="hljs-comment"># 找到结点p</span><br>            <span class="hljs-keyword">while</span> p != parent[p]: p = parent[p]<br>            <span class="hljs-keyword">return</span> p<br>        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">union</span>(<span class="hljs-params">p, q</span>):</span><br>            <span class="hljs-keyword">nonlocal</span> count<br>            parent[find(p)] = find(q)<br>            count -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(size):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(size):<br>                <span class="hljs-keyword">if</span> isConnected[i][j] == <span class="hljs-number">1</span>:<br>                    <span class="hljs-keyword">if</span> find(i) != find(j):<br>                        union(i,j)<br>        <span class="hljs-keyword">return</span> count<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>LeetCode</category>
      
    </categories>
    
    
    <tags>
      
      <tag>算法</tag>
      
      <tag>图</tag>
      
      <tag>union-find</tag>
      
      <tag>dfs</tag>
      
      <tag>bfs</tag>
      
      <tag>leetcode</tag>
      
      <tag>无向图</tag>
      
      <tag>邻接矩阵</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1071 Speech Patterns</title>
    <link href="/2021/01/05/1071-Speech-Patterns/"/>
    <url>/2021/01/05/1071-Speech-Patterns/</url>
    
    <content type="html"><![CDATA[<h1 id="1071-Speech-Patterns-25分"><a href="#1071-Speech-Patterns-25分" class="headerlink" title="1071 Speech Patterns (25分)"></a>1071 Speech Patterns (25分)</h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/dMgnxy.png" alt="dMgnxy"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题目的是<strong>在一句话中，找到出现次数最多的有效单词</strong>。有效单词的定义是：包含<code>[0-9 a-z A-Z]</code>。因此本题分两步。</p><ul><li>分割出有效单词。大写字符要转成小写字母，无效字符使用<code>while</code>过滤。</li><li>使用<code>map</code>统计有效单词出现次数。</li><li>⚠️题目要求如果两个单词的数量一样，则输出字典上小的那个单词。而<code>C++</code>中<strong>map会以键从小到大的顺序自动排序</strong><sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="算法笔记上机训练实战指南">[1]</span></a></sup>。所以下面这个关键代码对比的时候，使用<code>it-&gt;second &gt; macCount</code>就可以求出字典上小的那个单词。如果要求出字典顺序最大的那个单词，只需要<code>it-&gt;second &gt;= maxCount</code>就可以。</li></ul><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">for</span> (<span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt;::iterator it = mp.begin(); it != mp.end(); ++it) &#123;<br><span class="hljs-keyword">if</span> (it-&gt;second &gt; maxCount) &#123;<br>maxCount = it-&gt;second;<br>ans = it-&gt;first;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 1. 分割字符串</span><br><span class="hljs-comment">// 2. 找出最大的值</span><br><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">isVaildChar</span><span class="hljs-params">(<span class="hljs-keyword">char</span> c)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;z&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; mp; <span class="hljs-comment">// 统计字符的数量</span><br>    <span class="hljs-built_in">string</span> str, ans;<br>    getline(<span class="hljs-built_in">cin</span>, str);<br>    <span class="hljs-keyword">int</span> idx = <span class="hljs-number">0</span>, size = str.length(), maxCount = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">while</span> (idx &lt; size) &#123; <span class="hljs-comment">// 开始分割字符串</span><br>        <span class="hljs-built_in">string</span> word;<br>        <span class="hljs-comment">// 1. 判断当前字符是否有效</span><br>        <span class="hljs-keyword">while</span> (idx &lt; size &amp;&amp; isVaildChar(str[idx])) &#123; <span class="hljs-comment">// 如果该字符有效</span><br>            <span class="hljs-keyword">if</span> (str[idx] &gt;=<span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; str[idx] &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>) &#123;str[idx] += <span class="hljs-number">32</span>;&#125;<br>            word += str[idx];<br>            idx++;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (word != <span class="hljs-string">&quot;&quot;</span>) &#123; <span class="hljs-comment">// 如果该字符不是空的，就加入到map中</span><br>            <span class="hljs-keyword">if</span> (mp.find(word) != mp.end()) &#123;mp[word]++;&#125;<br>            <span class="hljs-keyword">else</span> &#123;mp[word] = <span class="hljs-number">1</span>;&#125;<br>        &#125;<br>        <span class="hljs-keyword">while</span> (idx &lt; size &amp;&amp; !isVaildChar(str[idx])) &#123;idx++;&#125; <span class="hljs-comment">// 排除无效字符</span><br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt;::iterator it = mp.begin(); it != mp.end(); ++it) &#123;<br>        <span class="hljs-keyword">if</span> (it-&gt;second &gt; maxCount) &#123;<br>            maxCount = it-&gt;second;<br>            ans = it-&gt;first;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">cout</span> &lt;&lt; ans &lt;&lt; <span class="hljs-string">&quot; &quot;</span> &lt;&lt; maxCount &lt;&lt;<span class="hljs-built_in">endl</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://book.douban.com/subject/30162908/">算法笔记上机训练实战指南</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1054 The Dominant Color</title>
    <link href="/2021/01/05/1054-The-Dominant-Color/"/>
    <url>/2021/01/05/1054-The-Dominant-Color/</url>
    
    <content type="html"><![CDATA[<h1 id="1054-The-Dominant-Color-20分"><a href="#1054-The-Dominant-Color-20分" class="headerlink" title="1054 The Dominant Color (20分)"></a><a href="https://pintia.cn/problem-sets/994805342720868352/problems/994805422639136768">1054 The Dominant Color (20分)</a></h1><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/To7ZZS.png" alt="content"></p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>本题目目的是要找到<strong>出现次数大于总数一半的那个数字</strong>。</p><ul><li>最简单的方法就是使用<code>map</code>，以每个值作为<code>key</code>，出现次数作为<code>value</code>。再找出<code>value</code>最大的<code>key</code>。见方法一。</li><li>因为题目要求过半数的值，因此可以采用<strong>两两不相同相互抵消的方法</strong>，最后剩下的那个数一定是超过半数的数字。设置一个<code>ans</code>来存储当前数字，<code>count</code>来计算当前数字的数量。如果遇到相同的数字，<code>count++</code>,否则<code>count--</code>。若<code>count==0</code>，则令<code>ans</code>等于新的值。见方法二。</li><li>❌也可以使用一个很大的数组来存储，但是使用数组会超时</li></ul><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 找出最主要的颜色，即数量超过一半的</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>&gt; colors;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, m, num;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;m, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; ++j) &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br>            <span class="hljs-keyword">if</span> (colors.find(num) != colors.end()) &#123;<br>                colors[num]++;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                colors[num] = <span class="hljs-number">1</span>;<br>            &#125;<br><br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>, max = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>&gt;::iterator it = colors.begin(); it != colors.end(); it++) &#123;<br>        <span class="hljs-keyword">if</span> (it-&gt;second &gt; max) &#123;<br>            k = it-&gt;first;<br>            max = it-&gt;second;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, k);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>时间复杂度</p><blockquote><p><code>map</code>的<code>find</code>时间复杂度是$O(logN)$,而遍历一遍<code>map</code>的时间复杂度是$O(N)$。因此总的时间复杂度是 $O(N*logN)$</p></blockquote><p>空间复杂度</p><blockquote><p>$O (N)$</p></blockquote><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-comment">// 找出最主要的颜色，即数量超过一半的</span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n, m, ans = <span class="hljs-number">0</span>, count = <span class="hljs-number">1</span>, num;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;m, &amp;n);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; m; ++j) &#123;<br>            <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br>            <span class="hljs-keyword">if</span> (ans == num) count++; <span class="hljs-comment">// 遇到相同的数字，则count++</span><br>            <span class="hljs-keyword">else</span> count--;<br>            <span class="hljs-keyword">if</span> (count == <span class="hljs-number">0</span>) &#123; <span class="hljs-comment">// 令ans等于新的值</span><br>                ans = num;<br>                count = <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ans);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>时间复杂度</p><blockquote><p>$O(N)$</p></blockquote><p>空间复杂度</p><blockquote><p>$O(1)$</p></blockquote><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><blockquote><p>C++知识学习</p></blockquote><ul><li><code>map</code>遍历以及对key,value的访问</li></ul><p><code>map</code>使用迭代器进行遍历元素<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="算法笔记上机训练实战指南">[1]</span></a></sup></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;::iterator it;<br>it-&gt;first; <span class="hljs-comment">// 访问key</span><br>it-&gt;second; <span class="hljs-comment">// 访问value</span><br><span class="hljs-comment">// 遍历每个元素</span><br><span class="hljs-keyword">for</span> (<span class="hljs-built_in">map</span>&lt;<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>&gt;::iterator it = mp.begin(); it != mp.end(); it++) &#123;<br><span class="hljs-keyword">int</span> key = it-&gt;first;<br><span class="hljs-keyword">int</span> value = it-&gt;second;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><code>map</code>判断<code>key</code>是否存在<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="C++(14):判断map中key值是否存在">[2]</span></a></sup></li></ul><p><strong>find函数</strong></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-function">iterator <span class="hljs-title">find</span> <span class="hljs-params">( <span class="hljs-keyword">const</span> key_type&amp; key )</span></span>;<br></code></pre></td></tr></table></figure><p>如果key存在，则find返回key对应的迭代器，如果key不存在，则find返回尾后迭代器 .end()。可以参考下面的示例来判断key值是否存在</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-keyword">if</span> (mp.find(key) == mp.end()) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;mp not has the key&quot;</span>);<br>&#125; <span class="hljs-keyword">else</span> &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;mp has the key&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://book.douban.com/subject/30162908/">算法笔记上机训练实战指南</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://blog.csdn.net/Leo_csdn_/article/details/85066264">C++(14):判断map中key值是否存在</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>1044 火星数字</title>
    <link href="/2021/01/04/1044-%E7%81%AB%E6%98%9F%E6%95%B0%E5%AD%97/"/>
    <url>/2021/01/04/1044-%E7%81%AB%E6%98%9F%E6%95%B0%E5%AD%97/</url>
    
    <content type="html"><![CDATA[<h1 id="1044-火星数字-20分"><a href="#1044-火星数字-20分" class="headerlink" title="1044 火星数字 (20分)"></a><a href="https://pintia.cn/problem-sets/994805260223102976/problems/994805279328157696">1044 火星数字 (20分)</a></h1><blockquote><p>本文内容参考自《算法笔记-上机训练实战指南》<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="算法笔记上机训练实战指南">[1]</span></a></sup>，并添加上自己总结，容易出错部分。</p></blockquote><h1 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h1><p>火星人是以 13 进制计数的：</p><ul><li>地球人的 0 被火星人称为 tret。</li><li>地球人数字 1 到 12 的火星文分别为：jan, feb, mar, apr, may, jun, jly, aug, sep, oct, nov, dec。</li><li>火星人将进位以后的 12 个高位数字分别称为：tam, hel, maa, huh, tou, kes, hei, elo, syy, lok, mer, jou。</li></ul><p>例如地球人的数字 <code>29</code> 翻译成火星文就是 <code>hel mar</code>；而火星文 <code>elo nov</code> 对应地球数字 <code>115</code>。为了方便交流，请你编写程序实现地球和火星数字之间的互译。</p><p>输入格式：<br>输入第一行给出一个正整数 $N（&lt;100）$，随后 $N$ 行，每行给出一个 $[0, 169)$ 区间内的数字 —— 或者是地球文，或者是火星文。</p><h2 id="输出格式："><a href="#输出格式：" class="headerlink" title="输出格式："></a>输出格式：</h2><p>对应输入的每一行，在一行中输出翻译后的另一种语言的数字。</p><blockquote><p>4</p><p>29</p><p>5</p><p>elo nov</p><p>tam</p></blockquote><h2 id="输入样例："><a href="#输入样例：" class="headerlink" title="输入样例："></a>输入样例：</h2><blockquote><p>hel mar</p><p>may</p><p>115</p><p>13</p></blockquote><h1 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h1><ul><li>因为输入的测试数据范围是$13*13=169$，所以可以考虑将所有数据都计算出来。</li><li>设置两个数组，一个是<code>n2s</code>，用来存储数字转化为字符串。</li><li>另一个数组 <code>s2n</code>，用来存储字符串转化为数字。</li></ul><p>预处理代码</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-built_in">string</span> unit[<span class="hljs-number">13</span>] = &#123;<br>    <span class="hljs-string">&quot;tret&quot;</span>, <span class="hljs-string">&quot;jan&quot;</span>, <span class="hljs-string">&quot;feb&quot;</span>, <span class="hljs-string">&quot;mar&quot;</span>, <span class="hljs-string">&quot;apr&quot;</span>, <span class="hljs-string">&quot;may&quot;</span>, <span class="hljs-string">&quot;jun&quot;</span>, <span class="hljs-string">&quot;jly&quot;</span>, <span class="hljs-string">&quot;aug&quot;</span>, <span class="hljs-string">&quot;sep&quot;</span>, <span class="hljs-string">&quot;oct&quot;</span>, <span class="hljs-string">&quot;nov&quot;</span>, <span class="hljs-string">&quot;dec&quot;</span><br>&#125;;<br><br><span class="hljs-built_in">string</span> ten[<span class="hljs-number">13</span>] = &#123;<br>    <span class="hljs-string">&quot;tret&quot;</span>, <span class="hljs-string">&quot;tam&quot;</span>, <span class="hljs-string">&quot;hel&quot;</span>, <span class="hljs-string">&quot;maa&quot;</span>, <span class="hljs-string">&quot;huh&quot;</span>, <span class="hljs-string">&quot;tou&quot;</span>, <span class="hljs-string">&quot;kes&quot;</span>, <span class="hljs-string">&quot;hei&quot;</span>, <span class="hljs-string">&quot;elo&quot;</span>, <span class="hljs-string">&quot;syy&quot;</span>, <span class="hljs-string">&quot;lok&quot;</span>, <span class="hljs-string">&quot;mer&quot;</span>, <span class="hljs-string">&quot;jou&quot;</span><br>&#125;;<br><br><span class="hljs-built_in">string</span> n2s[<span class="hljs-number">170</span>]; <span class="hljs-comment">// num-&gt;string</span><br><span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; s2n; <span class="hljs-comment">// string -&gt; num</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">13</span>; i++) &#123;<br>        n2s[i] = unit[i]; <span class="hljs-comment">// 填充 0- 12</span><br>        n2s[i * <span class="hljs-number">13</span>] = ten[i]; <span class="hljs-comment">// 填充13的倍数</span><br>        s2n[unit[i]] = i; <span class="hljs-comment">// 填充 0-12</span><br>        s2n[ten[i]] = i * <span class="hljs-number">13</span>; <span class="hljs-comment">// 填充 13的倍数</span><br><br>    &#125;<br>    <span class="hljs-comment">// 接下来填充其他部分数据</span><br><span class="hljs-comment">// ⚠️需要从1开始，因为13倍数部分已经在上面被填充了</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">13</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; <span class="hljs-number">13</span>; ++j) &#123;<br>            <span class="hljs-built_in">string</span> res = ten[i] + <span class="hljs-string">&quot; &quot;</span> + unit[j]; <span class="hljs-comment">// 组成新的字符串</span><br>            n2s[i * <span class="hljs-number">13</span> + j] = res;<br>            s2n[res] = i * <span class="hljs-number">13</span> + j;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;cstdio&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;map&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-built_in">string</span> unit[<span class="hljs-number">13</span>] = &#123;<br>    <span class="hljs-string">&quot;tret&quot;</span>, <span class="hljs-string">&quot;jan&quot;</span>, <span class="hljs-string">&quot;feb&quot;</span>, <span class="hljs-string">&quot;mar&quot;</span>, <span class="hljs-string">&quot;apr&quot;</span>, <span class="hljs-string">&quot;may&quot;</span>, <span class="hljs-string">&quot;jun&quot;</span>, <span class="hljs-string">&quot;jly&quot;</span>, <span class="hljs-string">&quot;aug&quot;</span>, <span class="hljs-string">&quot;sep&quot;</span>, <span class="hljs-string">&quot;oct&quot;</span>, <span class="hljs-string">&quot;nov&quot;</span>, <span class="hljs-string">&quot;dec&quot;</span><br>&#125;;<br><br><span class="hljs-built_in">string</span> ten[<span class="hljs-number">13</span>] = &#123;<br>    <span class="hljs-string">&quot;tret&quot;</span>, <span class="hljs-string">&quot;tam&quot;</span>, <span class="hljs-string">&quot;hel&quot;</span>, <span class="hljs-string">&quot;maa&quot;</span>, <span class="hljs-string">&quot;huh&quot;</span>, <span class="hljs-string">&quot;tou&quot;</span>, <span class="hljs-string">&quot;kes&quot;</span>, <span class="hljs-string">&quot;hei&quot;</span>, <span class="hljs-string">&quot;elo&quot;</span>, <span class="hljs-string">&quot;syy&quot;</span>, <span class="hljs-string">&quot;lok&quot;</span>, <span class="hljs-string">&quot;mer&quot;</span>, <span class="hljs-string">&quot;jou&quot;</span><br>&#125;;<br><br><span class="hljs-built_in">string</span> n2s[<span class="hljs-number">170</span>]; <span class="hljs-comment">// num-&gt;string</span><br><span class="hljs-built_in">map</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-keyword">int</span>&gt; s2n; <span class="hljs-comment">// string -&gt; num</span><br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">13</span>; i++) &#123;<br>        n2s[i] = unit[i]; <span class="hljs-comment">// 填充 0- 12</span><br>        n2s[i * <span class="hljs-number">13</span>] = ten[i]; <span class="hljs-comment">// 填充13的倍数</span><br>        s2n[unit[i]] = i; <span class="hljs-comment">// 填充 0-12</span><br>        s2n[ten[i]] = i * <span class="hljs-number">13</span>; <span class="hljs-comment">// 填充 13的倍数</span><br><br>    &#125;<br>    <span class="hljs-comment">// 接下来填充其他部分数据</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">13</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">1</span>; j &lt; <span class="hljs-number">13</span>; ++j) &#123;<br>            <span class="hljs-built_in">string</span> res = ten[i] + <span class="hljs-string">&quot; &quot;</span> + unit[j]; <span class="hljs-comment">// 组成新的字符串</span><br>            n2s[i * <span class="hljs-number">13</span> + j] = res;<br>            s2n[res] = i * <span class="hljs-number">13</span> + j;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span><br><span class="hljs-function"></span>&#123;<br>    init();<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;n);<br>    <span class="hljs-built_in">cin</span>.get(); <span class="hljs-comment">// 需要吸收回车符号，不然使用getline的第一个字符是回车</span><br>    <span class="hljs-keyword">while</span> (n--) &#123;<br>        <span class="hljs-built_in">string</span> str;<br>        getline(<span class="hljs-built_in">cin</span>, str);<br>        <span class="hljs-comment">// fgets(str, 100, stdin);</span><br>        <span class="hljs-comment">// cin &gt;&gt; str;</span><br>        <span class="hljs-comment">// cout &lt;&lt; str &lt;&lt;endl;</span><br>        <span class="hljs-keyword">if</span> (str[<span class="hljs-number">0</span>] &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; str[<span class="hljs-number">0</span>] &lt;= <span class="hljs-string">&#x27;9&#x27;</span>) &#123;<br>            <span class="hljs-keyword">int</span> num = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; str.length(); ++i)<br>            &#123;<br>                num = num * <span class="hljs-number">10</span> + (str[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>            &#125;<br>            <span class="hljs-comment">// printf(&quot;%d\n&quot;, num);</span><br>            <span class="hljs-comment">//printf(&quot;%s\n&quot;, n2s[num]);</span><br>            <span class="hljs-built_in">cout</span> &lt;&lt; n2s[num] &lt;&lt;<span class="hljs-built_in">endl</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">//printf(&quot;%d\n&quot;, s2n[str]);</span><br>            <span class="hljs-built_in">cout</span> &lt;&lt; s2n[str] &lt;&lt;<span class="hljs-built_in">endl</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><blockquote><p>由于本人初次学习C++，在写代码的时候遇到几个语法问题</p></blockquote><ul><li>在输出<code>string</code>类型的变量时候，使用<code>printf(&quot;%s&quot;, str);</code>出现乱码，而需要使用<code>cout &lt;&lt; str &lt;&lt; endl;</code>。因为<code>printf</code>里面要求的是<code>*char</code>类型，而<code>string</code>与<code>*char</code>类型不一样。<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote"><span class="hint--top hint--rounded" aria-label="c++ string问题 cout输出正常，printf输出乱码">[2]</span></a></sup></li><li>C++中，处理字符<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="C++ 输入函数getline(cin,str) 与cin.getline(str,int)区别">[3]</span></a></sup><ul><li>处理<code>string</code>使用<code>getline(cin,str)</code>.</li><li>处理<code>char[]</code>类型使用<code>cin.getline(char * , in)</code></li><li>⚠️ 在输入的时候，需要注意吸收字符<code>cin.get();//接受最后一个结束符</code></li></ul></li></ul><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://book.douban.com/subject/30162908/">算法笔记上机训练实战指南</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://blog.csdn.net/qinweixin/article/details/51743962">c++ string问题 cout输出正常，printf输出乱码</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://blog.csdn.net/xumengxing/article/details/6664436">C++ 输入函数getline(cin,str) 与cin.getline(str,int)区别</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>PAT</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PAT</tag>
      
      <tag>算法</tag>
      
      <tag>C++</tag>
      
      <tag>map</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ArcGIS For JS 实现鹰眼图</title>
    <link href="/2021/01/04/ArcGIS-For-JS-%E5%AE%9E%E7%8E%B0%E9%B9%B0%E7%9C%BC%E5%9B%BE/"/>
    <url>/2021/01/04/ArcGIS-For-JS-%E5%AE%9E%E7%8E%B0%E9%B9%B0%E7%9C%BC%E5%9B%BE/</url>
    
    <content type="html"><![CDATA[<h1 id="鹰眼图-概述图实现"><a href="#鹰眼图-概述图实现" class="headerlink" title="鹰眼图/概述图实现"></a>鹰眼图/概述图实现</h1><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/bPrbRu.png" alt="bPrbRu"></p><p>本例展示在3D场景中添加一个2D的鹰眼图/概述图。概述图展示当前所在的3D场景。使用<a href="https://developers.arcgis.com/javascript/latest/api-reference/esri-core-Accessor.html#watch">watch()</a>来实现2D概览图和3D场景图的同步。<a href="https://developers.arcgis.com/javascript/latest/sample-code/sandbox/index.html?sample=overview-map">具体案例</a>。</p><blockquote><p>有关watching属性的更多信息，可以查看<a href="https://developers.arcgis.com/javascript/latest/guide/programming-patterns/#properties">Working with properties</a></p></blockquote><h2 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h2><ol><li>创建一个DIV，用来展示鹰眼图。</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;overviewDiv&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;extentDiv&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><ol start="2"><li>为鹰眼图创建一个Map。</li><li>为鹰眼图创建一个MapView</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> overviewMap = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>(&#123;<br>    basemap: <span class="hljs-string">&quot;topo&quot;</span><br>&#125;)<br><br><span class="hljs-keyword">var</span> mapView = <span class="hljs-keyword">new</span> MapView(&#123;<br>    contrain: <span class="hljs-string">&quot;overviewDIV&quot;</span>,<br>    map: overviewMap,<br>    constraints: &#123;<br>        rotationEnabled: <span class="hljs-literal">false</span><br>    &#125;<br>&#125;)<br><br><span class="hljs-comment">// 移除默认的MapVIew自带的控件,具体效果可看文末下面</span><br>mapView.ui.components = [];<br></code></pre></td></tr></table></figure><ol start="4"><li>创建一个灰色的矩形用来标示当前的位置，并添加到mapview中。</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> extent3Dgraphic = <span class="hljs-keyword">new</span> Graphic(&#123;<br>    geometry: <span class="hljs-literal">null</span>,<br>    symbol: &#123;<br>      type: <span class="hljs-string">&quot;simple-fill&quot;</span>,<br>      color: [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.5</span>],<br>      outline: <span class="hljs-literal">null</span><br>    &#125;<br>  &#125;);<br>  mapView.graphics.add(extent3Dgraphic);<br></code></pre></td></tr></table></figure><ol start="5"><li><strong>重点：使用WatchUtils监听MainView的extent属性变化</strong></li></ol><p><strong>WatchUtils的用法</strong></p><p><code>watchUtils.init(obj, propertyName, callback)</code></p><p>具体代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javascript">watchUtils.init(mainView, <span class="hljs-string">&quot;extent&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">extent</span>) </span>&#123;<br><span class="hljs-comment">// 当3D场景静止的时候，mapView移动到视图的位置</span><br><span class="hljs-keyword">if</span> (mainView.stationary) &#123;<br>  mapView.goTo(&#123;<br>    center: mainView.center,<br>    scale:<br>      mainView.scale *<br>      <span class="hljs-number">2</span> *<br>      <span class="hljs-built_in">Math</span>.max(<br>        mainView.width / mapView.width,<br>        mainView.height / mapView.height<br>      )<br>  &#125;);<br>&#125;<br><br>extent3Dgraphic.geometry = extent;<br>&#125;);<br></code></pre></td></tr></table></figure><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><p><strong>mapView.ui.components = []的作用</strong></p><p>如图，该语句作用是清空默认的组件</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/LmJOlG.png" alt="LmJOlG"></p><p><strong>Scale缩放算式</strong></p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs maxima">mainView.<span class="hljs-built_in">scale</span> * <span class="hljs-number">2</span> *<br>Math.<span class="hljs-built_in">max</span>(<br>mainView.<span class="hljs-built_in">width</span> / mapView.<span class="hljs-built_in">width</span>,<br>mainView.<span class="hljs-built_in">height</span> / mapView.<span class="hljs-built_in">height</span><br></code></pre></td></tr></table></figure><p><code>mapView.width/height</code> 是指当前显示区域的宽度和高度.</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs maxima"><span class="hljs-built_in">var</span> size = mainView.<span class="hljs-built_in">scale</span> *<br>Math.<span class="hljs-built_in">max</span>(<br>mainView.<span class="hljs-built_in">width</span> / mapView.<span class="hljs-built_in">width</span>,<br>mainView.<span class="hljs-built_in">height</span> / mapView.<span class="hljs-built_in">height</span>)<br></code></pre></td></tr></table></figure><p>令上面的算式=size，下面两张图是size*1、2的效果。 可见其实size *1的效果已经不错了，但是 *2 效果可以更好。</p><p>*<em>size * 1*</em></p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/wgFEZq.png" alt="wgFEZq"></p><p>*<em>size * 2*</em></p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/sfffrS.png" alt="sfffrS"></p><p><a href="https://developers.arcgis.com/javascript/latest/sample-code/sandbox/index.html?sample=overview-map">Overview Sample</a></p><h3 id="2D和3D同步切换"><a href="#2D和3D同步切换" class="headerlink" title="2D和3D同步切换"></a>2D和3D同步切换</h3><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/Y3EIi3.png" alt="Y3EIi3"></p><p><a href="https://developers.arcgis.com/javascript/latest/sample-code/sandbox/index.html?sample=views-synchronize">views-synchronize</a></p><h4 id="代码讲解"><a href="#代码讲解" class="headerlink" title="代码讲解"></a>代码讲解</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br></pre></td><td class="code"><pre><code class="hljs javascript">&lt;!DOCTYPE html&gt;<br>&lt;html&gt;<br>  &lt;head&gt;<br>    &lt;meta charset=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;<br>    &lt;meta<br>      name=<span class="hljs-string">&quot;viewport&quot;</span><br>      content=<span class="hljs-string">&quot;initial-scale=1,maximum-scale=1,user-scalable=no&quot;</span><br>    /&gt;<br>    &lt;title&gt;Synchronize MapView and SceneView - <span class="hljs-number">4.14</span>&lt;/title&gt;<br><br>    &lt;style&gt;<br>      html,<br>      body &#123;<br>        padding: <span class="hljs-number">0</span>;<br>        margin: <span class="hljs-number">0</span>;<br>        height: <span class="hljs-number">100</span>%;<br>      &#125;<br>    &lt;/style&gt;<br><br>    &lt;link<br>      rel=<span class="hljs-string">&quot;stylesheet&quot;</span><br>      href=<span class="hljs-string">&quot;https://js.arcgis.com/4.14/esri/themes/light/main.css&quot;</span><br>    /&gt;<br>    &lt;script src=<span class="hljs-string">&quot;https://js.arcgis.com/4.14/&quot;</span>&gt;&lt;/script&gt;<br><br>    &lt;script&gt;<br>      <span class="hljs-built_in">require</span>([<br>        <span class="hljs-string">&quot;esri/Map&quot;</span>,<br>        <span class="hljs-string">&quot;esri/views/MapView&quot;</span>,<br>        <span class="hljs-string">&quot;esri/views/SceneView&quot;</span>,<br>        <span class="hljs-string">&quot;esri/core/watchUtils&quot;</span><br>      ], <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"><span class="hljs-built_in">Map</span>, MapView, SceneView, watchUtils</span>) </span>&#123;<br>        <span class="hljs-keyword">var</span> map = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>(&#123;<br>          basemap: <span class="hljs-string">&quot;satellite&quot;</span><br>        &#125;);<br><br>        <span class="hljs-keyword">var</span> view1 = <span class="hljs-keyword">new</span> SceneView(&#123;<br>          id: <span class="hljs-string">&quot;view1&quot;</span>,<br>          container: <span class="hljs-string">&quot;view1Div&quot;</span>,<br>          map: map<br>        &#125;);<br><br>        <span class="hljs-keyword">var</span> view2 = <span class="hljs-keyword">new</span> MapView(&#123;<br>          id: <span class="hljs-string">&quot;view2&quot;</span>,<br>          container: <span class="hljs-string">&quot;view2Div&quot;</span>,<br>          map: map,<br>          constraints: &#123;<br>            <span class="hljs-comment">// Disable zoom snapping to get the best synchronization</span><br>            snapToZoom: <span class="hljs-literal">false</span><br>          &#125;<br>        &#125;);<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * utility method that synchronizes the viewpoint of a view to other views</span><br><span class="hljs-comment">         * 同步视图</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-keyword">var</span> synchronizeView = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">view, others</span>) </span>&#123;<br>          others = <span class="hljs-built_in">Array</span>.isArray(others) ? others : [others];<br><br>          <span class="hljs-keyword">var</span> viewpointWatchHandle;<br>          <span class="hljs-keyword">var</span> viewStationaryHandle;<br>          <span class="hljs-keyword">var</span> otherInteractHandlers;<br>          <span class="hljs-keyword">var</span> scheduleId;<br><br>          <span class="hljs-keyword">var</span> clear = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>            <span class="hljs-keyword">if</span> (otherInteractHandlers) &#123;<br>              otherInteractHandlers.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">handle</span>) </span>&#123;<br>                handle.remove();<br>              &#125;);<br>            &#125;<br>            <span class="hljs-comment">// 这是什么意思?</span><br>            <span class="hljs-comment">// viewpointWatchHandle 和 viewStatioaryHandle 对象是WatchHandle对象，其中有一个remove对象方法。用来清空监听属性</span><br>            viewpointWatchHandle &amp;&amp; viewpointWatchHandle.remove();<br>            viewStationaryHandle &amp;&amp; viewStationaryHandle.remove();<br>            scheduleId &amp;&amp; <span class="hljs-built_in">clearTimeout</span>(scheduleId);<br>            otherInteractHandlers = viewpointWatchHandle = viewStationaryHandle = scheduleId = <span class="hljs-literal">null</span>;<br>          &#125;;<br><br>            <span class="hljs-comment">// 监听当前控制视图的 交互和动画属性</span><br>          <span class="hljs-keyword">var</span> interactWatcher = view.watch(<span class="hljs-string">&quot;interacting,animation&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span></span><br><span class="hljs-function"><span class="hljs-params">            newValue</span></span><br><span class="hljs-function"><span class="hljs-params">          </span>) </span>&#123;<br>            <span class="hljs-keyword">if</span> (!newValue) &#123;<br>              <span class="hljs-keyword">return</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (viewpointWatchHandle || scheduleId) &#123;<br>              <span class="hljs-keyword">return</span>;<br>            &#125;<br><br>            <span class="hljs-comment">// 开始更新其他视图</span><br>            scheduleId = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>              scheduleId = <span class="hljs-literal">null</span>;<br>              <span class="hljs-comment">// 监听当前view的视点属性</span><br>              viewpointWatchHandle = view.watch(<span class="hljs-string">&quot;viewpoint&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span></span><br><span class="hljs-function"><span class="hljs-params">                newValue</span></span><br><span class="hljs-function"><span class="hljs-params">              </span>) </span>&#123;<br>                <span class="hljs-comment">// 根据新获取的视点，其他视图也同时更新它的视点</span><br>                others.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">otherView</span>) </span>&#123;<br>                  otherView.viewpoint = newValue;<br>                &#125;);<br>              &#125;);<br>            &#125;, <span class="hljs-number">0</span>);<br><br>            <span class="hljs-comment">// stop as soon as another view starts interacting, like if the user starts panning</span><br>            <span class="hljs-comment">// 如果移动其他视图，则销毁当前视图的所有变量</span><br>            otherInteractHandlers = others.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">otherView</span>) </span>&#123;<br>              <span class="hljs-keyword">return</span> watchUtils.watch(<br>                otherView,<br>                <span class="hljs-string">&quot;interacting,animation&quot;</span>,<br>                <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>&#123;<br>                  <span class="hljs-keyword">if</span> (value) &#123;<br>                    clear();<br>                  &#125;<br>                &#125;<br>              );<br>            &#125;);<br><br>            <span class="hljs-comment">// or stop when the view is stationary again</span><br>            <span class="hljs-comment">// 当不再和视图进行交互时候，即 stationary 状态，则也注销所有变量</span><br>            <span class="hljs-comment">// 当监听的属性为True的时候执行</span><br>            viewStationaryHandle = watchUtils.whenTrue(<br>              view,<br>              <span class="hljs-string">&quot;stationary&quot;</span>,<br>              clear<br>            );<br>          &#125;);<br><br>          <span class="hljs-keyword">return</span> &#123;<br>            remove: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>              <span class="hljs-built_in">this</span>.remove = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;&#125;;<br>              clear();<br>              interactWatcher.remove();<br>            &#125;<br>          &#125;;<br>        &#125;;<br><br>        <span class="hljs-comment">/**</span><br><span class="hljs-comment">         * 同步多个View的视点</span><br><span class="hljs-comment">         */</span><br>        <span class="hljs-keyword">var</span> synchronizeViews = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">views</span>) </span>&#123;<br>        <span class="hljs-comment">/* array.map(function(currentValue,index,arr), thisValue)</span><br><span class="hljs-comment">        * 遍历所有的view</span><br><span class="hljs-comment">        * views.concat() 对当前对views进行复制一份</span><br><span class="hljs-comment">        * handles 存储一系列的同步事件</span><br><span class="hljs-comment">        */</span><br>          <span class="hljs-keyword">var</span> handles = views.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">view, idx, views</span>) </span>&#123;<br>            <span class="hljs-keyword">var</span> others = views.concat(); <span class="hljs-comment">// 复制一份views</span><br>            others.splice(idx, <span class="hljs-number">1</span>); <span class="hljs-comment">// 删除当前视图，其他视图则是others</span><br>            <span class="hljs-keyword">return</span> synchronizeView(view, others); <span class="hljs-comment">//</span><br>          &#125;);<br><br>          <span class="hljs-keyword">return</span> &#123;<br>            remove: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;<br>              <span class="hljs-built_in">this</span>.remove = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>&#123;&#125;;<br>              handles.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">h</span>) </span>&#123;<br>                h.remove();<br>              &#125;);<br>              handles = <span class="hljs-literal">null</span>;<br>            &#125;<br>          &#125;;<br>        &#125;;<br><br>        <span class="hljs-comment">// 绑定两个视图</span><br>        synchronizeViews([view1, view2]);<br>      &#125;);<br>    &lt;/script&gt;<br>  &lt;/head&gt;<br>  &lt;body&gt;<br>    &lt;div id=<span class="hljs-string">&quot;view1Div&quot;</span> style=<span class="hljs-string">&quot;float: left; width: 50%; height: 100%;&quot;</span>&gt;&lt;/div&gt;<br>    &lt;div id=<span class="hljs-string">&quot;view2Div&quot;</span> style=<span class="hljs-string">&quot;float: left; width: 50%; height: 100%;&quot;</span>&gt;&lt;/div&gt;<br>  &lt;/body&gt;<br>&lt;/html&gt;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ArcGIS For JS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>ArcGIS For JS</tag>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Ceisum实现铁路仿真</title>
    <link href="/2021/01/03/Ceisum%E5%AE%9E%E7%8E%B0%E9%93%81%E8%B7%AF%E4%BB%BF%E7%9C%9F/"/>
    <url>/2021/01/03/Ceisum%E5%AE%9E%E7%8E%B0%E9%93%81%E8%B7%AF%E4%BB%BF%E7%9C%9F/</url>
    
    <content type="html"><![CDATA[<h1 id="铁路模拟仿真实现"><a href="#铁路模拟仿真实现" class="headerlink" title="铁路模拟仿真实现"></a>铁路模拟仿真实现</h1><p>实现效果</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/lxieypx;.gif" alt="train"></p><p>内容比较多，只讲部分内容，可能有点乱。可以参考一下代码，有不懂的欢迎提问</p><h1 id="初始化变量"><a href="#初始化变量" class="headerlink" title="初始化变量"></a>初始化变量</h1><p>这些变量下面都会用到</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 运动车厢的速度</span><br><span class="hljs-keyword">let</span> velocity = <span class="hljs-number">30</span> <span class="hljs-comment">// 速度,根据他来计算到达各个点的时间</span><br><span class="hljs-comment">// 当前目标点的位置</span><br><span class="hljs-comment">// var currentIndex = 1</span><br><br><span class="hljs-comment">// 每节车厢相对上一节车厢延时一定时间到达同一个位置</span><br><span class="hljs-keyword">var</span> delayTime = <span class="hljs-number">13</span><br><br><span class="hljs-comment">// 存储所有运动中的实体对象</span><br><span class="hljs-keyword">var</span> dynamicEntities = []<br><br><span class="hljs-comment">// 运动模型数量</span><br><span class="hljs-keyword">var</span> dynamicNum = <span class="hljs-number">5</span><br><br><span class="hljs-comment">// 每节铁轨的长度，用于计算两个点之前铺设多少节铁轨</span><br><span class="hljs-keyword">var</span> modelLength = <span class="hljs-number">170</span><br><br><span class="hljs-comment">// 初始化dynamicEntitye</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; dynamicNum ; ++i) &#123;<br>    <span class="hljs-keyword">let</span> obj = &#123;<br>        entity: <span class="hljs-literal">null</span>, <span class="hljs-comment">// 实体对象</span><br>        property: <span class="hljs-keyword">new</span> Cesium.SampledPositionProperty(), <span class="hljs-comment">// 动态位置属性</span><br>        timeAndOrientationList: [],<br>        startTime: <span class="hljs-number">0</span>,<br>        endTime: <span class="hljs-number">0</span><br>    &#125;<br>    dynamicEntities.push(obj)<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="加载线路并获取位置"><a href="#加载线路并获取位置" class="headerlink" title="加载线路并获取位置"></a>加载线路并获取位置</h1><p>我们需要有一系列点路径坐标（火车运行的路径）。这里我从Google Eearth中绘制了一条线，然后导出为KML数据加载进来。</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/7MbzTG.png" alt="Google earth"></p><p>通过加载的这条路径，我们需要获取路径中每个转折点的坐标信息。通过这些转折点，我们可以完成<strong>设置铁轨位置</strong>和<strong>计算出模型实体每个时间点对应点位置</strong></p><p><strong>加载KML</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br><span class="hljs-comment">// 初始化路径 设置带时间的路径</span><br>viewer.dataSources.add(Cesium.KmlDataSource.load(routerUrl,<br>    &#123;<br>        camera: viewer.scene.camera,<br>        canvas: viewer.scene.canvas,<br>        clampToGround: <span class="hljs-literal">true</span><br>    &#125;)<br>).then(<span class="hljs-function"><span class="hljs-params">dataSource</span> =&gt;</span> &#123;<br><span class="hljs-comment">// ... 加载好后获取改路径点坐标数组</span><br>    <span class="hljs-keyword">var</span> router = dataSource.entities.getById(<span class="hljs-string">&#x27;0129AA13ED12D2857AD0&#x27;</span>);<br>    <span class="hljs-keyword">var</span> positions = router.polyline.positions._value<br>    viewer.flyTo(router)<br>    <span class="hljs-comment">// createDynamicPositions(positions) // 计算带时间的路径</span><br>    <span class="hljs-comment">// createDynamicEntity() // 根据动态路径创建模型实体</span><br>&#125;)<br></code></pre></td></tr></table></figure><p>首先我们加载好路线后，就要获取改路线的坐标数组（每个转折点或顶点的位置）。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 获取路径对象</span><br><span class="hljs-keyword">var</span> router = dataSource.entities.getById(<span class="hljs-string">&#x27;0129AA13ED12D2857AD0&#x27;</span>);<br><span class="hljs-comment">// 获取对象中的坐标数组</span><br><span class="hljs-keyword">var</span> positions = router.polyline.positions._value<br></code></pre></td></tr></table></figure><p>我们可以看一下这些数组的内容</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/IoR5O3.png" alt="IoR5O3"></p><p>在这里可以看出来，这些坐标全是笛卡尔类型。同时可以知道我们总共有13个转折点</p><p>接下来两章是重点</p><h1 id="加载铁轨"><a href="#加载铁轨" class="headerlink" title="加载铁轨"></a>加载铁轨</h1><p>效果展示</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/Kkx93r.png" alt="Kkx93r"></p><p>实现上面效果，这里我们需要做下面几步。</p><ul><li>计算每段路（两个点）之间的距离S</li><li>设置每个铁轨的固定长度L</li><li>计算每段路可以铺设多少个模型 num = S / L</li><li>通过每段路两端的点的坐标，计算出这段中每个铁轨模型的位置</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><br><span class="hljs-comment">// 这个是每个模型的长度，在一开始的时候就定义了</span><br><span class="hljs-comment">// var modelLength = 170</span><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">repeateModel</span>(<span class="hljs-params">posCart1, posCart2</span>) </span>&#123;<br>    <span class="hljs-comment">// 需要摆放模型的数量</span><br>    <span class="hljs-comment">// 模型的数量 = 两个点之间的长度 / 每个模型的长度</span><br>    <span class="hljs-keyword">let</span> modelNum = <span class="hljs-built_in">parseInt</span>(computeDistance(posCart1, posCart2) / modelLength)<br>    <span class="hljs-comment">// 根据两个点的经纬度调整每个模型的方向</span><br>    <span class="hljs-keyword">let</span> heading = computeOrientation(posCart1, posCart2)<br>    <span class="hljs-comment">// 开始计算每个模型的位置</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; modelNum; ++i) &#123;<br>    <span class="hljs-comment">// 求第i个点的位置。下面有介绍为什么这样写</span><br>        <span class="hljs-keyword">var</span> mid = <span class="hljs-keyword">new</span> Cesium.Cartesian3()<br>        Cesium.Cartesian3.add(<br>            Cesium.Cartesian3.multiplyByScalar(posCart1, i / modelNum, <span class="hljs-keyword">new</span> Cesium.Cartesian3()),<br>            Cesium.Cartesian3.multiplyByScalar(posCart2, (modelNum - i) / modelNum, <span class="hljs-keyword">new</span> Cesium.Cartesian3()),<br>            mid<br>        )<br><span class="hljs-comment">// 计算出位置后，添加铁轨模型到Viewer中。同时调整模型的方向</span><br>        viewer.entities.add(&#123;<br>            position: mid,<br>            model: &#123;<br>                uri: modelRailwayUrl,<br>                scale: <span class="hljs-number">0.025</span><br>            &#125;,<br>            orientation: changeOrientation(mid, heading)<br>        &#125;)<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>两个坐标之前第i的位置如何求</strong></p><p>先看一下下面的一道数学题</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/bJgWdB.png" alt="bJgWdB"></p><p>通过这道题，我们就可以写出下面代码，求出第i个点的位置了</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript">Cesium.Cartesian3.add(<br>    Cesium.Cartesian3.multiplyByScalar(posCart1, i / modelNum, <span class="hljs-keyword">new</span> Cesium.Cartesian3()),<br>    Cesium.Cartesian3.multiplyByScalar(posCart2, (modelNum - i) / modelNum, <span class="hljs-keyword">new</span> Cesium.Cartesian3()),<br>    mid<br>)<br></code></pre></td></tr></table></figure><p><strong>模型方向问题</strong></p><p>在上面代码中。我们经常要用到一个计算模型方向和改变模型方向的函数，那么为什么要计算模型的方向呢？</p><p>我们打开铁轨模型和系统自带的一些模型。看看他们的方向</p><p>使用下面命令调出查看方向的小工具</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">viewer.extend(Cesium.viewerCesiumInspectorMixin);<br></code></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/EUBOGy.png" alt="EUBOGy"></p><p>可以看到，我们的模型的方向默认位置是朝向南方（红色是东方，绿色是北方）。而官网的模型方向默认是东方。根据官方对模型的描述</p><blockquote><p>By default, the model is oriented upright and facing east. Control the orientation of the model by specifying a Quaternion for the Entity.orientation property. This controls the heading, pitch, and roll of the model.</p></blockquote><p>可以看到，我们的模型方向是有问题。因此需要手动纠正。查阅很多方法，无法从模型本身入手。所以只能通过代码的方式来纠正方向。大概的思路是先计算出两个点的方向，然后在向东方偏移90度左右即可。</p><p><strong>计算方向函数</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">computeOrientation</span>(<span class="hljs-params">posCart1, posCart2</span>) </span>&#123;<br>    <span class="hljs-keyword">let</span> heading = bearing(<br>        Cesium.Cartographic.fromCartesian(posCart1).latitude,<br>        Cesium.Cartographic.fromCartesian(posCart1).longitude,<br>        Cesium.Cartographic.fromCartesian(posCart2).latitude,<br>        Cesium.Cartographic.fromCartesian(posCart2).longitude<br>    )<br>    <span class="hljs-keyword">return</span> heading<br>&#125;<br>        <span class="hljs-comment">// 计算两点之间的方向</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">bearing</span>(<span class="hljs-params">startLat, startLng, destLat, destLng</span>) </span>&#123;<br>    startLat = Cesium.Math.toRadians(startLat);<br>    startLng = Cesium.Math.toRadians(startLng);<br>    destLat = Cesium.Math.toRadians(destLat);<br>    destLng = Cesium.Math.toRadians(destLng);<br><br>    <span class="hljs-keyword">let</span> y = <span class="hljs-built_in">Math</span>.sin(destLng - startLng) * <span class="hljs-built_in">Math</span>.cos(destLat);<br>    <span class="hljs-keyword">let</span> x = <span class="hljs-built_in">Math</span>.cos(startLat) * <span class="hljs-built_in">Math</span>.sin(destLat) - <span class="hljs-built_in">Math</span>.sin(startLat) * <span class="hljs-built_in">Math</span>.cos(destLat) * <span class="hljs-built_in">Math</span>.cos(destLng - startLng);<br>    <span class="hljs-keyword">let</span> brng = <span class="hljs-built_in">Math</span>.atan2(y, x);<br>    <span class="hljs-keyword">let</span> brngDgr = Cesium.Math.toDegrees(brng);<br>    <span class="hljs-keyword">return</span> (brngDgr + <span class="hljs-number">360</span>) % <span class="hljs-number">360</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>改变模型的位置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeOrientation</span>(<span class="hljs-params">position, degree</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> heading = Cesium.Math.toRadians(degree);<br>    <span class="hljs-keyword">var</span> pitch = Cesium.Math.toRadians(<span class="hljs-number">0.0</span>);<br>    <span class="hljs-keyword">var</span> roll = Cesium.Math.toRadians(<span class="hljs-number">0.0</span>);<br>    <span class="hljs-keyword">var</span> orientation = Cesium.Transforms.headingPitchRollQuaternion(position, <span class="hljs-keyword">new</span> Cesium.HeadingPitchRoll(heading, pitch, roll));<br>    <span class="hljs-keyword">return</span> orientation<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="加载运动的车头和车厢"><a href="#加载运动的车头和车厢" class="headerlink" title="加载运动的车头和车厢"></a>加载运动的车头和车厢</h1><p>这里我们需要了解一个知识。<a href="https://www.jianshu.com/p/f0b47997224c">Cesium的Property机制总结</a>.<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="Cesium的Property机制总结">[1]</span></a></sup>这篇文章中，我们可以看到一个属性<code>SampledPositionProperty</code>,它可以使用物体的运动。</p><p><img src="https://upload-images.jianshu.io/upload_images/80648-366b91d38f419afa.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/296/format/webp" alt="move"></p><p>它的实现代码如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> property = <span class="hljs-keyword">new</span> Cesium.SampledPositionProperty();<br><br>property.addSample(Cesium.JulianDate.fromIso8601(<span class="hljs-string">&#x27;2019-01-01T00:00:00.00Z&#x27;</span>),<br>    Cesium.Cartesian3.fromDegrees(-<span class="hljs-number">114.0</span>, <span class="hljs-number">40.0</span>, <span class="hljs-number">300000.0</span>));<br><br>property.addSample(Cesium.JulianDate.fromIso8601(<span class="hljs-string">&#x27;2019-01-03T00:00:00.00Z&#x27;</span>),<br>    Cesium.Cartesian3.fromDegrees(-<span class="hljs-number">114.0</span>, <span class="hljs-number">45.0</span>, <span class="hljs-number">300000.0</span>));<br><br>blueBox.position = property;<br></code></pre></td></tr></table></figure><p>它的原理是，Entity在不同的时间运动到不同的位置。因此我们的火车运动也是一样，在不同的时候运动到不同的位置即可。那么如何实现呢？</p><p>还是通过之前获取的铁轨路径数组，再计算到达每个转折点的时间。构成一个如下图所示的数据结构。</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/XzFZ1f.png" alt="XzFZ1f"></p><p>如何让模型运动起来也可以总结为下面这张图</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/Eg6FPk.png" alt="Eg6FPk"></p><p>比如4点的时候在position1位置，4.30的时候在position2位置。4.50的时候在position3位置。</p><p>那么现在时间点应该如何计算</p><p>我们设置一个速度变量V，然后计算两点的距离S。那么到达下一个的时间就是</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-attr">time</span> = S / V<br></code></pre></td></tr></table></figure><p>因此实现代码如下（伪代码）</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 计算到下一个坐标所花费的时间</span><br><span class="hljs-keyword">let</span> time2Next = computeTime(datas[index], datas[index + <span class="hljs-number">1</span>])<br><span class="hljs-comment">// 计算到达改点的时刻</span><br><span class="hljs-keyword">let</span> time = totalTime + time2Next<br><span class="hljs-comment">// 将时刻+位置信息写入到模型的位置变量中</span><br>dynamicEntity.property.addSample(<br>    Cesium.JulianDate.addSeconds(start, time, <span class="hljs-keyword">new</span> Cesium.JulianDate()),<br>    position<br>)<br><span class="hljs-comment">// 计算总花费时间</span><br>totalTime += time2Next<br><br></code></pre></td></tr></table></figure><p>这里又有新的问题。</p><p>我们需要好几节车厢一起运动，如何实现呢？</p><p>使用延时启动，就是每一个车厢到达一个转折点的时间都比上一节车厢晚一段时间。如下图所示，不同的车厢在不同的时间点的位置不一样。</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/Lp33qj.png" alt="Lp33qj"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> time = totalTime + delayTime * i<br></code></pre></td></tr></table></figure><p>我们看一下实现效果,车厢是一节在一节的后面出现的</p><p><img src="https://cdn.jsdelivr.net/gh/emhui/oss@master/uPic/lxiemjmjiuxm.gif" alt="train"></p><p>通过代码实现</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createDynamicPositions</span>(<span class="hljs-params">positions</span>) </span>&#123;<br>    <span class="hljs-keyword">var</span> length = positions.length<br>    <span class="hljs-keyword">var</span> totalTime = <span class="hljs-number">0</span><span class="hljs-comment">// 跑完全部路程的时间</span><br>    <span class="hljs-comment">// 遍历铁轨路径的每个转折点</span><br>    positions.forEach(<span class="hljs-function">(<span class="hljs-params">position, index, datas</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">// 在每个路径转角处创建一个Point对象</span><br>        CreatePoint(position, index)<br>        <span class="hljs-keyword">if</span> (index + <span class="hljs-number">1</span> &lt; length) &#123;<br>            <span class="hljs-comment">// 计算一个点到另一点需要到时间</span><br>            <span class="hljs-keyword">let</span> time2Next = computeTime(datas[index], datas[index + <span class="hljs-number">1</span>])<br>            <span class="hljs-comment">// 计算两个转角点的方向</span><br>            <span class="hljs-keyword">let</span> orientation = computeOrientation(datas[index], datas[index + <span class="hljs-number">1</span>])<br>            <span class="hljs-comment">// 为每个车厢模型设置 时间+位置</span><br>            dynamicEntities.forEach(<span class="hljs-function">(<span class="hljs-params">dynamicEntity, i</span>) =&gt;</span> &#123;<br>            <span class="hljs-comment">// 这里实现了 每个模型都相对于之前都个模型延时一定时间进行启动</span><br>                <span class="hljs-keyword">let</span> time = totalTime + delayTime * i<br>                dynamicEntity.property.addSample(<br>                    Cesium.JulianDate.addSeconds(start, time, <span class="hljs-keyword">new</span> Cesium.JulianDate()),<br>                    position<br>                )<br>                <span class="hljs-comment">// 记录每个模型分别达到一个点的时间、方向、位置</span><br>                <span class="hljs-keyword">let</span> obj = &#123;<br>                    time: totalTime, <span class="hljs-comment">// 到达下一个点需要耗费的时间,它是一个数值，不是一个时间点</span><br>                    position: position,<br>                    orientation: orientation<br>                &#125;<br><br>                <span class="hljs-comment">// 计算开始时间</span><br>                <span class="hljs-keyword">if</span> (index === <span class="hljs-number">0</span>) &#123;<br>                    dynamicEntity.startTime = Cesium.JulianDate.addSeconds(start, time, <span class="hljs-keyword">new</span> Cesium.JulianDate())<br>                &#125;<br><br>                <span class="hljs-comment">// 计算最后一个时间</span><br>                <span class="hljs-keyword">if</span> (index + <span class="hljs-number">2</span> === length) &#123;<br>                    dynamicEntity.endTime = Cesium.JulianDate.addSeconds(start, time, <span class="hljs-keyword">new</span> Cesium.JulianDate())<br>                &#125;<br>                <span class="hljs-comment">// 将计算得到的 时间+位置 属性存储到每个实体中</span><br>                dynamicEntity.timeAndOrientationList.push(obj)<br><br>            &#125;)<br><br>            totalTime += time2Next<br><br>        &#125;<br>    &#125;);<br></code></pre></td></tr></table></figure><p>这里我们发现我们也计算了每个模型的方向，为什么要计算方向呢？在上面设置铁轨的时候讲到了，因为我们的模型方向默认是有点问题的。默认朝向南方，因此需要手动调整方向，我们需要自己写一个方法，判断到了转角处进行转向。（如果是模型默认朝向东方的话，则不需要使用该方法，直接使用自带的一种方法，具体方法后面再谈）</p><p>如何实现到了转角处自动转向呢？我们在刚刚上一步的时候记录了每个模型到达某个位置的时候是在是什么时间点。因此只需要判断，当前模型运行的时间是否到了转角的时间点，到了的话就开始转向，而这个方向我们同时也在上一步的时候存储到每个实体中</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> obj = &#123;<br>    time: totalTime, <span class="hljs-comment">// 到达下一个点需要耗费的时间,它是一个数值，不是一个时间点</span><br>    position: position,<br>    orientation: orientation<br>&#125;<br></code></pre></td></tr></table></figure><p>监听当前时间点并转向的代码如下</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javascript">viewer.clock.onTick.addEventListener(<span class="hljs-function">(<span class="hljs-params">clock</span>) =&gt;</span> &#123;<br><span class="hljs-comment">// 判断每个运动的模型当前是否到了转向时间</span><br>    dynamicEntities.forEach(<span class="hljs-function"><span class="hljs-params">dynamicEntity</span> =&gt;</span> &#123;<br>    <span class="hljs-comment">// 计算每个运动的模型与模型的开始时间差</span><br>        <span class="hljs-keyword">let</span> timeOffset = Cesium.JulianDate.secondsDifference(clock.currentTime, dynamicEntity.startTime);<br>        <span class="hljs-comment">// 判断是否达到转向的时间点</span><br>        dynamicEntity.timeAndOrientationList.forEach(<span class="hljs-function">(<span class="hljs-params">obj, index, array</span>) =&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (timeOffset &gt;= obj.time &amp;&amp; timeOffset &lt;= array[index + <span class="hljs-number">1</span>].time) &#123;<br>                <span class="hljs-comment">// 177在第一条铁轨是一个好的角度</span><br>                dynamicEntity.entity.orientation = changeOrientation(obj.position, obj.orientation + <span class="hljs-number">180</span>)<br>            &#125;<br>        &#125;)<br>    &#125;)<br></code></pre></td></tr></table></figure><p>如果模型的方向是正确的，只需要在创建模型实体对象的时候，指定该属性即可</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javascript">orientation: <span class="hljs-keyword">new</span> Cesium.VelocityOrientationProperty(dynamicEntity.property),<br></code></pre></td></tr></table></figure><p>目前还有下面问题暂时无法解决</p><ul><li>各个模型之间的衔接不好</li></ul><blockquote><p>经过测试如果模型的方向是正确的话，那么就可以解决这个问题。所以可以从模型入手，更改模型的默认方向，使它默认朝向东方，但是自己一直没有找到如何编辑GLB模型。所以暂时无解。</p></blockquote><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://www.jianshu.com/p/f0b47997224c">Cesium的Property机制总结</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>Cesium</category>
      
    </categories>
    
    
    <tags>
      
      <tag>JavaScript</tag>
      
      <tag>Cesium</tag>
      
      <tag>铁路</tag>
      
      <tag>仿真</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>hexo注意事项</title>
    <link href="/2021/01/03/hexo%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
    <url>/2021/01/03/hexo%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
    
    <content type="html"><![CDATA[<p><code>hexo clean &amp;&amp; hexo d</code></p><p><del>如果使用这个命令，可能会清除<strong>CNAME</strong>文件</del></p><p>保持永久域名的方法</p><p>在<code>/source</code>目录下面建立一个文件<code>CNAME</code>,然后填入你的域名即可。<sup id="fnref:1" class="footnote-ref"><a href="#fn:1" rel="footnote"><span class="hint--top hint--rounded" aria-label="脚注">[1]</span></a></sup></p><h2 id="hexow文件管理-lt-span-class-”hint–top-hint–rounded”-aria-label-”hexo博客文章多了怎么管理"><a href="#hexow文件管理-lt-span-class-”hint–top-hint–rounded”-aria-label-”hexo博客文章多了怎么管理" class="headerlink" title="hexow文件管理&lt;span class=”hint–top hint–rounded” aria-label=”hexo博客文章多了怎么管理"></a>hexow文件管理<sup id="fnref:2" class="footnote-ref"><a href="#fn:2" rel="footnote">&lt;span class=”hint–top hint–rounded” aria-label=”hexo博客文章多了怎么管理</h2><p>“&gt;[2]</span></a></sup></p><p>默认情况下使用<code>hexo new &quot;title&quot;</code>，所有文章都存放在<code>/source/_post</code>下面。随着文章的数量变多，该目录下面都文件也会越来越多，所以我们可以将文件进行归类。</p><ul><li>自己指定文章目录</li></ul><p><a href="https://hexo.io/zh-cn/docs/commands#new">官方</a>使用下面命令可以在创建文件的同时并归类。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new [layout] &lt;title&gt;<br></code></pre></td></tr></table></figure><p>比如我要创建一个文件<code>hexo new -p 其他/&quot;hexo 搭建blog&quot;.md &quot;hexo 搭建blog&quot;</code>,这样会在<code>_post</code>下面创建一个<code>其他</code>的目录，并且目录的名字是<code>heox 搭建blog.md</code>.但是这种方式非常繁琐。</p><ul><li>通过年月日管理文件</li></ul><p>因此使用第二种方式，在<code>_config.yml</code>中设置</p><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">new_post_name:</span> <span class="hljs-symbol">:year/</span><span class="hljs-symbol">:month/</span><span class="hljs-symbol">:title</span>.md<br></code></pre></td></tr></table></figure><p>通过这样的设置，仍使用之前创建文件的命令</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs actionscript">hexo <span class="hljs-keyword">new</span> <span class="hljs-string">&quot;hexo文件管理&quot;</span><br></code></pre></td></tr></table></figure><p>运行该命令则会在创建一个以当前年月为子目录的结构。如图所示</p><p><img src="https://gitee.com/yoyhm/oss/raw/master/uPic/TNJnDw.png" alt="TNJnDw"></p><blockquote><p>如果之前已经建立好的文件想按照时间归类可以直接把文件拖到对应目录</p></blockquote><p>总结：可以看到第二种方法比第一种简单，且按照时间管理文件也比较方便。</p><h2 id="hexo-fluid-首页和文章等页面实现每天更换壁纸"><a href="#hexo-fluid-首页和文章等页面实现每天更换壁纸" class="headerlink" title="hexo.fluid 首页和文章等页面实现每天更换壁纸"></a>hexo.fluid 首页和文章等页面实现每天更换壁纸</h2><ol><li>首先在网上找到必应壁纸的接口<sup id="fnref:3" class="footnote-ref"><a href="#fn:3" rel="footnote"><span class="hint--top hint--rounded" aria-label="巨硬(必应)每日壁纸接口">[3]</span></a></sup>，网上有很多。</li><li>找到接口地址后，在<code>hexo.fluid</code>的配置中。修改这个地址</li></ol><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs groovy"><span class="hljs-attr">banner_img:</span> <span class="hljs-attr">https:</span><span class="hljs-comment">//static.zkqiang.cn/example.jpg</span><br></code></pre></td></tr></table></figure><h2 id="hexo-fluid-首页每次刷新显示不同的诗句"><a href="#hexo-fluid-首页每次刷新显示不同的诗句" class="headerlink" title="hexo.fluid 首页每次刷新显示不同的诗句"></a>hexo.fluid 首页每次刷新显示不同的诗句</h2><ol><li>参考<a href="https://www.jinrishici.com/">今日诗词</a>,通过<code>F12</code>获取其每次刷新的诗句接口。</li><li>在<code>hexo.fluid</code>的配置文件中，配置<code>slogan</code><sup id="fnref:4" class="footnote-ref"><a href="#fn:4" rel="footnote"><span class="hint--top hint--rounded" aria-label="hexo.fluid配置">[4]</span></a></sup></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">index:</span><br>  <span class="hljs-attr">slogan:</span><br>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>    <span class="hljs-attr">text:</span> <span class="hljs-string">这是一条</span> <span class="hljs-string">Slogan</span><br>    <span class="hljs-attr">api:</span><br>      <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span><br>      <span class="hljs-attr">url:</span> <span class="hljs-string">&quot;https://v1.hitokoto.cn/&quot;</span><br>      <span class="hljs-attr">method:</span> <span class="hljs-string">&quot;GET&quot;</span><br>      <span class="hljs-attr">headers:</span> &#123;&#125;<br>      <span class="hljs-attr">keys:</span> [<span class="hljs-string">&quot;hitokoto&quot;</span>]<br></code></pre></td></tr></table></figure><p>url: API 地址，必须返回的是一个 JSON 格式</p><p>method: 请求方法，可选 GET、POST、PUT</p><p>headers: 请求头，如果接口需要传一些验证的头部信息，在这里设置</p><p>keys: 从请求结果获取字符串的取值字段，程序会根据列表中的字段依次取值，最终需要获得到一个字符串</p><h2 id="使用hexo-admin管理后台-lt-span-class-”hint–top-hint–rounded”-aria-label-”hexo-admin-issue"><a href="#使用hexo-admin管理后台-lt-span-class-”hint–top-hint–rounded”-aria-label-”hexo-admin-issue" class="headerlink" title="使用hexo-admin管理后台 &lt;span class=”hint–top hint–rounded” aria-label=”hexo-admin issue"></a>使用hexo-admin管理后台 <sup id="fnref:5" class="footnote-ref"><a href="#fn:5" rel="footnote">&lt;span class=”hint–top hint–rounded” aria-label=”hexo-admin issue</h2><p>“&gt;[5]</span></a></sup></p><p>安装方法见<a href="https://github.com/jaredly/hexo-admin">hexo-admin</a>.<br>这里主要是看一下如何配置<code>hexo-admin</code>的文件</p><ul><li><code>hexo-admin</code>配置</li><li><code>hexo-admin</code>部署</li></ul><p><code>hexo-admin</code>只能在<code>_config.yml</code>中配置</p><p><code>hexo-admin</code>部署，需要配置<code>deployCommand</code>.</p><ol><li>首先在根目录创建一个文件<code>deploy.sh</code>，然后更<strong>改它的权限</strong>,这一步很重要，如果没有更改权限。<code>hexo-admin</code>无法执行该命令<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">$ touch <span class="hljs-keyword">deploy</span>.sh; chmod a+x <span class="hljs-keyword">deploy</span>.sh<br></code></pre></td></tr></table></figure></li></ol><p>接着在文件中写入下面的脚本，或者你可以自己定义脚本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/usr/bin/env sh</span><br>hexo deploy<br>and edit _config.yml:<br></code></pre></td></tr></table></figure><p>最后在<code>_config.yml</code>中配置<code>deployCommand</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml">admin:<br>  deployCommand: &#x27;./hexo-deploy.sh&#x27;<br></code></pre></td></tr></table></figure><section class="footnotes"><h2>参考</h2><div class="footnote-list"><ol><li><span id="fn:1" class="footnote-text"><span><a href="https://hexo.fluid-dev.com/docs/guide/#%E8%84%9A%E6%B3%A8">脚注</a><a href="#fnref:1" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:2" class="footnote-text"><span><a href="https://www.pianshen.com/article/81511649508/">hexo博客文章多了怎么管理</a><a href="#fnref:2" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:3" class="footnote-text"><span><a href="https://atlinker.cn/2019/07/28/bing.html">巨硬(必应)每日壁纸接口</a><a href="#fnref:3" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:4" class="footnote-text"><span><a href="https://hexo.fluid-dev.com/docs/guide/#slogan-%E6%89%93%E5%AD%97%E6%9C%BA">hexo.fluid配置</a><a href="#fnref:4" rev="footnote" class="footnote-backref"> ↩</a></span></span></li><li><span id="fn:5" class="footnote-text"><span><a href="https://github.com/jaredly/hexo-admin/issues/70">hexo-admin issue</a><a href="#fnref:5" rev="footnote" class="footnote-backref"> ↩</a></span></span></li></ol></div></section>]]></content>
    
    
    <categories>
      
      <category>其他</category>
      
    </categories>
    
    
    <tags>
      
      <tag>hexo</tag>
      
      <tag>域名</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
